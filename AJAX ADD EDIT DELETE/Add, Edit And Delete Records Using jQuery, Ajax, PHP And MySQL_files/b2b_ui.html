<!DOCTYPE html>
<html><head>
    <title>hey_ui</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
    <link href="b2b_ui_data/css.css" rel="stylesheet" type="text/css">

    

    

    

    

    

    

    <link href="b2b_ui_data/emojionearea.css" rel="stylesheet">

    <style type="text/css">
        body {
            font: 14px/1.357 "Lato", Arial, Helvetica, sans-serif;
        }

        input,
        textarea,
        select {
            font: 100% "Lato", Arial, Helvetica, sans-serif;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: "Lato", Arial, Helvetica, sans-serif;
        }
    </style>
    



    <link href="b2b_ui_data/all.css" rel="stylesheet" type="text/css" media="all">
    <!--[if lt IE 9]>
    <link rel="stylesheet" href="css/ie.css?v=13987" type="text/css" media="all">
    <script src="js/html5shiv.js"></script>
    <![endif]-->

    <script type="text/javascript" id="www-widgetapi-script" src="b2b_ui_data/www-widgetapi.js" async=""></script><script src="b2b_ui_data/iframe_api" id="youtubeApiTag"></script><script id="linkedin-jssdk" src="b2b_ui_data/in.js"></script><script id="google-jssdk" src="b2b_ui_data/clientplatform.js"></script><script id="facebook-jssdk" src="b2b_ui_data/sdk.js"></script><script src="b2b_ui_data/rules-p-8JFH0VDtdBcAN.js" async=""></script><script src="quant.js" async="" type="text/javascript"></script><script type="text/javascript" async="" src="b2b_ui_data/dc.js"></script><script src="b2b_ui_data/jquery.js"></script>
    <script src="b2b_ui_data/swfobject.js"></script>

    <script type="text/javascript">
    // Taken From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys
// License http://creativecommons.org/licenses/by-sa/2.5/
// Under the following terms:
//      Attribution â You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.
//      ShareAlike â If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.

if (!Object.keys) {
    Object.keys = (function () {
        'use strict';
        var hasOwnProperty = Object.prototype.hasOwnProperty,
            hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),
            dontEnums = [
                'toString',
                'toLocaleString',
                'valueOf',
                'hasOwnProperty',
                'isPrototypeOf',
                'propertyIsEnumerable',
                'constructor'
            ],
            dontEnumsLength = dontEnums.length;

        return function (obj) {
            if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {
                throw new TypeError('Object.keys called on non-object');
            }

            var result = [], prop, i;

            for (prop in obj) {
                if (hasOwnProperty.call(obj, prop)) {
                    result.push(prop);
                }
            }

            if (hasDontEnumBug) {
                for (i = 0; i < dontEnumsLength; i++) {
                    if (hasOwnProperty.call(obj, dontEnums[i])) {
                        result.push(dontEnums[i]);
                    }
                }
            }
            return result;
        };
    }());
}
    // Production steps of ECMA-262, Edition 5, 15.4.4.14
// Reference: http://es5.github.io/#x15.4.4.14
if (!Array.prototype.indexOf) {
    Array.prototype.indexOf = function(searchElement, fromIndex) {

        var k;

        // 1. Let O be the result of calling ToObject passing
        //    the this value as the argument.
        if (this == null) {
            throw new TypeError('"this" is null or not defined');
        }

        var O = Object(this);

        // 2. Let lenValue be the result of calling the Get
        //    internal method of O with the argument "length".
        // 3. Let len be ToUint32(lenValue).
        var len = O.length >>> 0;

        // 4. If len is 0, return -1.
        if (len === 0) {
            return -1;
        }

        // 5. If argument fromIndex was passed let n be
        //    ToInteger(fromIndex); else let n be 0.
        var n = +fromIndex || 0;

        if (Math.abs(n) === Infinity) {
            n = 0;
        }

        // 6. If n >= len, return -1.
        if (n >= len) {
            return -1;
        }

        // 7. If n >= 0, then Let k be n.
        // 8. Else, n<0, Let k be len - abs(n).
        //    If k is less than 0, then let k be 0.
        k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);

        // 9. Repeat, while k < len
        while (k < len) {
            // a. Let Pk be ToString(k).
            //   This is implicit for LHS operands of the in operator
            // b. Let kPresent be the result of calling the
            //    HasProperty internal method of O with argument Pk.
            //   This step can be combined with c
            // c. If kPresent is true, then
            //    i.  Let elementK be the result of calling the Get
            //        internal method of O with the argument ToString(k).
            //   ii.  Let same be the result of applying the
            //        Strict Equality Comparison Algorithm to
            //        searchElement and elementK.
            //  iii.  If same is true, return k.
            if (k in O && O[k] === searchElement) {
                return k;
            }
            k++;
        }
        return -1;
    };
}

    // Taken From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map#Browser_compatibility
// License http://creativecommons.org/licenses/by-sa/2.5/
// Under the following terms:
//      Attribution â You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.
//      ShareAlike â If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.

// Production steps of ECMA-262, Edition 5, 15.4.4.19
// Reference: http://es5.github.io/#x15.4.4.19
if (!Array.prototype.map) {

    Array.prototype.map = function(callback, thisArg) {

        var T, A, k;

        if (this == null) {
            throw new TypeError(' this is null or not defined');
        }

        // 1. Let O be the result of calling ToObject passing the |this|
        //    value as the argument.
        var O = Object(this);

        // 2. Let lenValue be the result of calling the Get internal
        //    method of O with the argument "length".
        // 3. Let len be ToUint32(lenValue).
        var len = O.length >>> 0;

        // 4. If IsCallable(callback) is false, throw a TypeError exception.
        // See: http://es5.github.com/#x9.11
        if (typeof callback !== 'function') {
            throw new TypeError(callback + ' is not a function');
        }

        // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.
        if (arguments.length > 1) {
            T = thisArg;
        }

        // 6. Let A be a new array created as if by the expression new Array(len)
        //    where Array is the standard built-in constructor with that name and
        //    len is the value of len.
        A = new Array(len);

        // 7. Let k be 0
        k = 0;

        // 8. Repeat, while k < len
        while (k < len) {

            var kValue, mappedValue;

            // a. Let Pk be ToString(k).
            //   This is implicit for LHS operands of the in operator
            // b. Let kPresent be the result of calling the HasProperty internal
            //    method of O with argument Pk.
            //   This step can be combined with c
            // c. If kPresent is true, then
            if (k in O) {

                // i. Let kValue be the result of calling the Get internal
                //    method of O with argument Pk.
                kValue = O[k];

                // ii. Let mappedValue be the result of calling the Call internal
                //     method of callback with T as the this value and argument
                //     list containing kValue, k, and O.
                mappedValue = callback.call(T, kValue, k, O);

                // iii. Call the DefineOwnProperty internal method of A with arguments
                // Pk, Property Descriptor
                // { Value: mappedValue,
                //   Writable: true,
                //   Enumerable: true,
                //   Configurable: true },
                // and false.

                // In browsers that support Object.defineProperty, use the following:
                // Object.defineProperty(A, k, {
                //   value: mappedValue,
                //   writable: true,
                //   enumerable: true,
                //   configurable: true
                // });

                // For best browser support, use the following:
                A[k] = mappedValue;
            }
            // d. Increase k by 1.
            k++;
        }

        // 9. return A
        return A;
    };
}

    </script>


<script src="b2b_ui_data/emojione.js" id="heyoya_1114493" type="text/javascript"></script><script type="text/javascript" id="MouseStatsTrackingScript" src="b2b_ui_data/4875573819028990092.js" async=""></script><script src="b2b_ui_data/emojionearea.js" id="heyoya_2947686" type="text/javascript"></script><script src="b2b_ui_data/userspace"></script><script type="text/javascript" src="b2b_ui_data/framework"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:-webkit-sticky;top:0}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_customer_chat_bounce_in_v1{animation-duration:250ms;animation-name:fb_bounce_in_v1}.fb_customer_chat_bounce_out_v1{animation-duration:250ms;animation-name:fb_bounce_out_v1}.fb_customer_chat_bounce_in_v2{animation-duration:300ms;animation-name:fb_bounce_in_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_v2{animation-duration:300ms;animation-name:fb_bounce_out_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_v2_mobile_chat_started{animation-duration:300ms;animation-name:fb_bounce_in_v2_mobile_chat_started;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_v2_mobile_chat_started{animation-duration:300ms;animation-name:fb_bounce_out_v2_mobile_chat_started;transition-timing-function:ease-in}.fb_customer_chat_bubble_pop_in{animation-duration:250ms;animation-name:fb_customer_chat_bubble_bounce_in_animation}.fb_customer_chat_bubble_animated_no_badge{box-shadow:0 3px 12px rgba(0, 0, 0, .15);transition:box-shadow 150ms linear}.fb_customer_chat_bubble_animated_no_badge:hover{box-shadow:0 5px 24px rgba(0, 0, 0, .3)}.fb_customer_chat_bubble_animated_with_badge{box-shadow:-5px 4px 14px rgba(0, 0, 0, .15);transition:box-shadow 150ms linear}.fb_customer_chat_bubble_animated_with_badge:hover{box-shadow:-5px 8px 24px rgba(0, 0, 0, .2)}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}.fb_mobile_overlay_active{background-color:#fff;height:100%;overflow:hidden;position:fixed;visibility:hidden;width:100%}@keyframes fb_bounce_in_v1{0%{opacity:0;transform:scale(.8, .8);transform-origin:bottom right}80%{opacity:.8;transform:scale(1.03, 1.03)}100%{opacity:1;transform:scale(1, 1)}}@keyframes fb_bounce_in_v2{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}50%{transform:scale(1.03, 1.03);transform-origin:bottom right}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}}@keyframes fb_bounce_in_v2_mobile_chat_started{0%{opacity:0;top:20px}100%{opacity:1;top:0}}@keyframes fb_bounce_out_v1{from{opacity:1}to{opacity:0}}@keyframes fb_bounce_out_v2{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}}@keyframes fb_bounce_out_v2_mobile_chat_started{0%{opacity:1;top:0}100%{opacity:0;top:20px}}@keyframes fb_customer_chat_bubble_bounce_in_animation{0%{bottom:6pt;opacity:0;transform:scale(0, 0);transform-origin:center}70%{bottom:18pt;opacity:1;transform:scale(1.2, 1.2)}100%{transform:scale(1, 1)}}</style></head>
<body class="align-to-center firefox no-margins extended t-small-buttons show-share-icon ade-draker rendered">
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-58680241-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

<!-- Quantcast Tag -->
<script type="text/javascript">
    try{
        var _qevents = _qevents || [];

        (function() {
            var elem = document.createElement('script');
            elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
            elem.async = true;
            elem.type = "text/javascript";
            var scpt = document.getElementsByTagName('script')[0];
            scpt.parentNode.insertBefore(elem, scpt);
        })();

        _qevents.push({
            qacct:"p-8JFH0VDtdBcAN"
        });
    }
    catch(err){

    }
</script>

<noscript>
    <div style="display:none;">
        <img src="//pixel.quantserve.com/pixel/p-8JFH0VDtdBcAN.gif" border="0" height="1" width="1" alt="Quantcast"/>
    </div>
</noscript>
<!-- End Quantcast tag -->

    <div id="imageContainer"><img src="b2b_ui_data/report.html" width="1px" height="1px"><img src="b2b_ui_data/report_002.html" width="1px" height="1px"><img src="b2b_ui_data/report_003.html" width="1px" height="1px"></div>
<span id="widthValidator" class="inline-block"></span>
<div id="wrapper">
    <div class="holder">
        <div class="reviews-block">
            <div id="mainHeader" class="heading" style="background-color: rgb(70, 137, 206);">
                <h1 id="headerText" fontsize="30">Comments</h1>
		<span id="numberOfComments" class="invisible" placeholder="(#NUMBER_OF_COMMENTS#)" fontsize="16"></span>
            </div>
            <div class="holder">
                <!-- content block -->
                <div class="content-block">
                    <div id="recorderFLObjCont" name="recorderFLObjCont"><div id="recorderFLObj" name="recorderFLObj"></div><span id="recorderFLSentence" class="lang" lang_id="recorder_flash_activation_sentence">Click Allow and start recording!</span></div>                   
		    <div id="addCommentContainer"><div class="add-comment-record-guidance add-comment-guidance invisible"></div>
<div class="add-comment-text-guidance add-comment-guidance invisible"></div>
<div class="add-comment-title-guidance add-comment-guidance invisible"></div>
<div class="add-comment-login-guidance add-comment-guidance invisible"></div>

<div class="add-container block">
    <a class="how-to-video-link lang" title-lang="learn_more_about_heyoya" title="How to use Heyoya" fontsize="14">?</a>
    <a class="invisible close" style="" width="8" max-width="none" min-width="0" height="8" line-height="19"></a>
    <h2 class="h2" fontsize="20">
        <span class="small default-headline lang" lang_id="add_comment_headline" fontsize="15">Voice your opinion about</span><span class="small invisible reply-headline lang" placeholder-default-lang-id="start_conversion_with" placeholder="Start a conversation with {Commenter_Name} about" fontsize="15"></span>
        <span class="headline-text" fontsize="20">Add, Edit And Delete Records Using jQuery, Ajax, PHP And MySQL</span>
    </h2>
    <div class="container">
        <a class="record-btn btn-blue" href="javascript:void(0);"><span class="icon-mic">record</span></a>
        <a class="stop-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-stop">stop</span></a>
        <a class="pause-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-pause">pause</span></a>
        <a class="play-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-play">play</span></a>
        <a class="loading-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-refresh">loading</span></a>
        <span class="btn-blue btn-unavailable invisible"></span>
        <div class="recorder-default-view content-right-box" style="width:501px !important">
            <span class="link-wrap"><a class="link-record-voice lang" lang_id="start_recording" fontsize="14" textchange="Start recording (click here to add your voice comment)">Start recording (click here to add your voice comment)</a></span>
        </div>

        <div class="recorder-messaging-view-unavailable content-right-box invisible" style="width: 501px !important;"></div>

        <div class="recorder-messaging-view content-right-box invisible" style="width: 501px !important;">
            <span class="link-wrap"><a class="link-record-voice" fontsize="14"></a></span>
        </div>
        <div class="recorder-equalizer-view content-right-box invisible" style="width: 501px !important;">
            <div class="equalizer">
                <div class="holder">
                    <span class="time invisible" fontsize="13"><span class="recorder-time-seconds">30</span> <small class="lang" lang_id="seconds_short">sec</small></span>
                </div>
            </div>
        </div>
        <a class="add-comment-reset-button btn-retake invisible lang" href="javascript:void(0);" lang_id="retake" fontsize="11" style="" width="62" max-width="none" min-width="0">Re-Take</a>
        <a class="add-comment-clear-button btn-clear invisible lang" href="javascript:void(0);" lang_id="clear" fontsize="11" style="" width="62" max-width="none" min-width="0">Clear</a>
        <a class="add-comment-white-bg btn-retake invisible" fontsize="11" style="" width="62" max-width="none" min-width="0"></a>
        <div class="ucbrowser-install-message invisible">
            <h3>Record a voice comment with Heyoya</h3>
            <p>Record a voice comment by installing the Heyoya application!</p>
            <p class="android invisible"><a class="btn blue" href="intent://recordComment/#Intent;scheme=heyoyaapp;package=com.heyoya;category=android.intent.category.BROWSABLE;action=android.intent.action.VIEW;end" fontsize="14">Click here to continue</a></p>
            <p class="ios invisible"><a class="btn blue" href="https://itunes.apple.com/il/app/heyoya-voice-comments-reviews/id1062215446?mt=8" fontsize="14">Click here to continue</a></p>
            <a class="close" width="8" max-width="none" min-width="0" height="8" line-height="19"></a>
        </div>
    </div>
    <form class="submission-form post-step-1">
        <fieldset>
            <div class="form-elements">
                <textarea class="add-comment-text-input lang" cols="30" placeholder-default-lang-id="want_to_add_a_text_review" placeholder="Want to add a text comment? Start typing here..." fontsize="14" style="display: none;"></textarea><div class="emojionearea add-comment-text-input lang" role="application"><div class="emojionearea-editor" placeholder="Want to add a text comment? Start typing here..." tabindex="0" dir="ltr" spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off" contenteditable="true"></div><div class="emojionearea-button" title=""><div class="emojionearea-button-open"></div><div class="emojionearea-button-close"></div></div><div class="emojionearea-picker emojionearea-picker-position-bottom emojionearea-filters-position-top emojionearea-search-position-top hidden"><div class="emojionearea-wrapper"><div class="emojionearea-filters"><i class="emojionearea-filter emojionearea-filter-recent active" data-filter="recent" title="Recent"><img class="emojioneemoji" src="b2b_ui_data/1f552.png"></i><i class="emojionearea-filter emojionearea-filter-smileys_people" data-filter="smileys_people" title="Smileys &amp; People"><img class="emojioneemoji" src="b2b_ui_data/1f60b.png"></i><i class="emojionearea-filter emojionearea-filter-animals_nature" data-filter="animals_nature" title="Animals &amp; Nature"><img class="emojioneemoji" src="b2b_ui_data/1f439.png"></i><i class="emojionearea-filter emojionearea-filter-food_drink" data-filter="food_drink" title="Food &amp; Drink"><img class="emojioneemoji" src="b2b_ui_data/1f355.png"></i><i class="emojionearea-filter emojionearea-filter-activity" data-filter="activity" title="Activity"><img class="emojioneemoji" src="b2b_ui_data/1f3c0.png"></i><i class="emojionearea-filter emojionearea-filter-travel_places" data-filter="travel_places" title="Travel &amp; Places"><img class="emojioneemoji" src="b2b_ui_data/1f680.png"></i><i class="emojionearea-filter emojionearea-filter-objects" data-filter="objects" title="Objects"><img class="emojioneemoji" src="b2b_ui_data/1f4a1.png"></i><i class="emojionearea-filter emojionearea-filter-symbols" data-filter="symbols" title="Symbols"><img class="emojioneemoji" src="b2b_ui_data/1f497.png"></i><i class="emojionearea-filter emojionearea-filter-flags" data-filter="flags" title="Flags"><img class="emojioneemoji" src="b2b_ui_data/1f1ec-1f1e7.png"></i></div><div class="emojionearea-search-panel emojionearea-with-search"><div class="emojionearea-search"><input placeholder="SEARCH" class="search" type="text"></div><div class="emojionearea-tones emojionearea-tones-bullet"><i class="btn-tone btn-tone-0 active" data-skin="0" role="button"></i><i class="btn-tone btn-tone-1" data-skin="1" role="button"></i><i class="btn-tone btn-tone-2" data-skin="2" role="button"></i><i class="btn-tone btn-tone-3" data-skin="3" role="button"></i><i class="btn-tone btn-tone-4" data-skin="4" role="button"></i><i class="btn-tone btn-tone-5" data-skin="5" role="button"></i></div></div><div class="emojionearea-scroll-area"><div class="emojionearea-emojis-list"><div class="emojionearea-category-block" data-tone="0"><div class="emojionearea-category" name="recent" data-tone="0"><div class="emojionearea-category-title">Recent</div></div><div class="emojionearea-category" name="smileys_people" data-tone="0"><div class="emojionearea-category-title">Smileys &amp; People</div><i class="emojibtn" role="button" data-name=":grinning:" title="Grinning"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f600.png"></i><i class="emojibtn" role="button" data-name=":grimacing:" title="Grimacing"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f62c.png"></i><i class="emojibtn" role="button" data-name=":grin:" title="Grin"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f601.png"></i><i class="emojibtn" role="button" data-name=":joy:" title="Joy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f602.png"></i><i class="emojibtn" role="button" data-name=":smiley:" title="Smiley"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f603.png"></i><i class="emojibtn" role="button" data-name=":smile:" title="Smile"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f604.png"></i><i class="emojibtn" role="button" data-name=":sweat_smile:" title="Sweat Smile"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f605.png"></i><i class="emojibtn" role="button" data-name=":laughing:" title="Laughing"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f606.png"></i><i class="emojibtn" role="button" data-name=":innocent:" title="Innocent"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f607.png"></i><i class="emojibtn" role="button" data-name=":wink:" title="Wink"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f609.png"></i><i class="emojibtn" role="button" data-name=":blush:" title="Blush"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f60a.png"></i><i class="emojibtn" role="button" data-name=":slight_smile:" title="Slight Smile"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f642.png"></i><i class="emojibtn" role="button" data-name=":upside_down:" title="Upside Down"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f643.png"></i><i class="emojibtn" role="button" data-name=":relaxed:" title="Relaxed"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/263a.png"></i><i class="emojibtn" role="button" data-name=":yum:" title="Yum"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f60b.png"></i><i class="emojibtn" role="button" data-name=":relieved:" title="Relieved"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f60c.png"></i><i class="emojibtn" role="button" data-name=":heart_eyes:" title="Heart Eyes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f60d.png"></i><i class="emojibtn" role="button" data-name=":kissing_heart:" title="Kissing Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f618.png"></i><i class="emojibtn" role="button" data-name=":kissing:" title="Kissing"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f617.png"></i><i class="emojibtn" role="button" data-name=":kissing_smiling_eyes:" title="Kissing Smiling Eyes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f619.png"></i><i class="emojibtn" role="button" data-name=":kissing_closed_eyes:" title="Kissing Closed Eyes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f61a.png"></i><i class="emojibtn" role="button" data-name=":stuck_out_tongue_winking_eye:" title="Stuck Out Tongue Winking Eye"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f61c.png"></i><i class="emojibtn" role="button" data-name=":stuck_out_tongue_closed_eyes:" title="Stuck Out Tongue Closed Eyes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f61d.png"></i><i class="emojibtn" role="button" data-name=":stuck_out_tongue:" title="Stuck Out Tongue"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f61b.png"></i><i class="emojibtn" role="button" data-name=":money_mouth:" title="Money Mouth"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f911.png"></i><i class="emojibtn" role="button" data-name=":nerd:" title="Nerd"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f913.png"></i><i class="emojibtn" role="button" data-name=":sunglasses:" title="Sunglasses"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f60e.png"></i><i class="emojibtn" role="button" data-name=":hugging:" title="Hugging"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f917.png"></i><i class="emojibtn" role="button" data-name=":smirk:" title="Smirk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f60f.png"></i><i class="emojibtn" role="button" data-name=":no_mouth:" title="No Mouth"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f636.png"></i><i class="emojibtn" role="button" data-name=":neutral_face:" title="Neutral Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f610.png"></i><i class="emojibtn" role="button" data-name=":expressionless:" title="Expressionless"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f611.png"></i><i class="emojibtn" role="button" data-name=":unamused:" title="Unamused"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f612.png"></i><i class="emojibtn" role="button" data-name=":rolling_eyes:" title="Rolling Eyes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f644.png"></i><i class="emojibtn" role="button" data-name=":thinking:" title="Thinking"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f914.png"></i><i class="emojibtn" role="button" data-name=":flushed:" title="Flushed"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f633.png"></i><i class="emojibtn" role="button" data-name=":disappointed:" title="Disappointed"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f61e.png"></i><i class="emojibtn" role="button" data-name=":worried:" title="Worried"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f61f.png"></i><i class="emojibtn" role="button" data-name=":angry:" title="Angry"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f620.png"></i><i class="emojibtn" role="button" data-name=":rage:" title="Rage"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f621.png"></i><i class="emojibtn" role="button" data-name=":pensive:" title="Pensive"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f614.png"></i><i class="emojibtn" role="button" data-name=":confused:" title="Confused"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f615.png"></i><i class="emojibtn" role="button" data-name=":slight_frown:" title="Slight Frown"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f641.png"></i><i class="emojibtn" role="button" data-name=":frowning2:" title="Frowning2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2639.png"></i><i class="emojibtn" role="button" data-name=":persevere:" title="Persevere"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f623.png"></i><i class="emojibtn" role="button" data-name=":confounded:" title="Confounded"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f616.png"></i><i class="emojibtn" role="button" data-name=":tired_face:" title="Tired Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f62b.png"></i><i class="emojibtn" role="button" data-name=":weary:" title="Weary"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f629.png"></i><i class="emojibtn" role="button" data-name=":triumph:" title="Triumph"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f624.png"></i><i class="emojibtn" role="button" data-name=":open_mouth:" title="Open Mouth"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f62e.png"></i><i class="emojibtn" role="button" data-name=":scream:" title="Scream"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f631.png"></i><i class="emojibtn" role="button" data-name=":fearful:" title="Fearful"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f628.png"></i><i class="emojibtn" role="button" data-name=":cold_sweat:" title="Cold Sweat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f630.png"></i><i class="emojibtn" role="button" data-name=":hushed:" title="Hushed"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f62f.png"></i><i class="emojibtn" role="button" data-name=":frowning:" title="Frowning"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f626.png"></i><i class="emojibtn" role="button" data-name=":anguished:" title="Anguished"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f627.png"></i><i class="emojibtn" role="button" data-name=":cry:" title="Cry"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f622.png"></i><i class="emojibtn" role="button" data-name=":disappointed_relieved:" title="Disappointed Relieved"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f625.png"></i><i class="emojibtn" role="button" data-name=":sleepy:" title="Sleepy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f62a.png"></i><i class="emojibtn" role="button" data-name=":sweat:" title="Sweat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f613.png"></i><i class="emojibtn" role="button" data-name=":sob:" title="Sob"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f62d.png"></i><i class="emojibtn" role="button" data-name=":dizzy_face:" title="Dizzy Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f635.png"></i><i class="emojibtn" role="button" data-name=":astonished:" title="Astonished"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f632.png"></i><i class="emojibtn" role="button" data-name=":zipper_mouth:" title="Zipper Mouth"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f910.png"></i><i class="emojibtn" role="button" data-name=":mask:" title="Mask"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f637.png"></i><i class="emojibtn" role="button" data-name=":thermometer_face:" title="Thermometer Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f912.png"></i><i class="emojibtn" role="button" data-name=":head_bandage:" title="Head Bandage"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f915.png"></i><i class="emojibtn" role="button" data-name=":sleeping:" title="Sleeping"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f634.png"></i><i class="emojibtn" role="button" data-name=":zzz:" title="Zzz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a4.png"></i><i class="emojibtn" role="button" data-name=":poop:" title="Poop"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a9.png"></i><i class="emojibtn" role="button" data-name=":smiling_imp:" title="Smiling Imp"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f608.png"></i><i class="emojibtn" role="button" data-name=":imp:" title="Imp"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47f.png"></i><i class="emojibtn" role="button" data-name=":japanese_ogre:" title="Japanese Ogre"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f479.png"></i><i class="emojibtn" role="button" data-name=":japanese_goblin:" title="Japanese Goblin"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47a.png"></i><i class="emojibtn" role="button" data-name=":skull:" title="Skull"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f480.png"></i><i class="emojibtn" role="button" data-name=":ghost:" title="Ghost"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47b.png"></i><i class="emojibtn" role="button" data-name=":alien:" title="Alien"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47d.png"></i><i class="emojibtn" role="button" data-name=":robot:" title="Robot"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f916.png"></i><i class="emojibtn" role="button" data-name=":smiley_cat:" title="Smiley Cat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f63a.png"></i><i class="emojibtn" role="button" data-name=":smile_cat:" title="Smile Cat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f638.png"></i><i class="emojibtn" role="button" data-name=":joy_cat:" title="Joy Cat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f639.png"></i><i class="emojibtn" role="button" data-name=":heart_eyes_cat:" title="Heart Eyes Cat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f63b.png"></i><i class="emojibtn" role="button" data-name=":smirk_cat:" title="Smirk Cat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f63c.png"></i><i class="emojibtn" role="button" data-name=":kissing_cat:" title="Kissing Cat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f63d.png"></i><i class="emojibtn" role="button" data-name=":scream_cat:" title="Scream Cat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f640.png"></i><i class="emojibtn" role="button" data-name=":crying_cat_face:" title="Crying Cat Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f63f.png"></i><i class="emojibtn" role="button" data-name=":pouting_cat:" title="Pouting Cat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f63e.png"></i><i class="emojibtn" role="button" data-name=":raised_hands:" title="Raised Hands"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64c.png"></i><i class="emojibtn" role="button" data-name=":clap:" title="Clap"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44f.png"></i><i class="emojibtn" role="button" data-name=":wave:" title="Wave"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44b.png"></i><i class="emojibtn" role="button" data-name=":thumbsup:" title="Thumbsup"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44d.png"></i><i class="emojibtn" role="button" data-name=":thumbsdown:" title="Thumbsdown"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44e.png"></i><i class="emojibtn" role="button" data-name=":punch:" title="Punch"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44a.png"></i><i class="emojibtn" role="button" data-name=":fist:" title="Fist"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270a.png"></i><i class="emojibtn" role="button" data-name=":v:" title="V"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270c.png"></i><i class="emojibtn" role="button" data-name=":ok_hand:" title="Ok Hand"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44c.png"></i><i class="emojibtn" role="button" data-name=":raised_hand:" title="Raised Hand"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270b.png"></i><i class="emojibtn" role="button" data-name=":open_hands:" title="Open Hands"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f450.png"></i><i class="emojibtn" role="button" data-name=":muscle:" title="Muscle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4aa.png"></i><i class="emojibtn" role="button" data-name=":pray:" title="Pray"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64f.png"></i><i class="emojibtn" role="button" data-name=":point_up:" title="Point Up"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/261d.png"></i><i class="emojibtn" role="button" data-name=":point_up_2:" title="Point Up 2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f446.png"></i><i class="emojibtn" role="button" data-name=":point_down:" title="Point Down"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f447.png"></i><i class="emojibtn" role="button" data-name=":point_left:" title="Point Left"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f448.png"></i><i class="emojibtn" role="button" data-name=":point_right:" title="Point Right"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f449.png"></i><i class="emojibtn" role="button" data-name=":middle_finger:" title="Middle Finger"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f595.png"></i><i class="emojibtn" role="button" data-name=":hand_splayed:" title="Hand Splayed"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f590.png"></i><i class="emojibtn" role="button" data-name=":metal:" title="Metal"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f918.png"></i><i class="emojibtn" role="button" data-name=":vulcan:" title="Vulcan"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f596.png"></i><i class="emojibtn" role="button" data-name=":writing_hand:" title="Writing Hand"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270d.png"></i><i class="emojibtn" role="button" data-name=":nail_care:" title="Nail Care"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f485.png"></i><i class="emojibtn" role="button" data-name=":lips:" title="Lips"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f444.png"></i><i class="emojibtn" role="button" data-name=":tongue:" title="Tongue"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f445.png"></i><i class="emojibtn" role="button" data-name=":ear:" title="Ear"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f442.png"></i><i class="emojibtn" role="button" data-name=":nose:" title="Nose"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f443.png"></i><i class="emojibtn" role="button" data-name=":eye:" title="Eye"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f441.png"></i><i class="emojibtn" role="button" data-name=":eyes:" title="Eyes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f440.png"></i><i class="emojibtn" role="button" data-name=":bust_in_silhouette:" title="Bust In Silhouette"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f464.png"></i><i class="emojibtn" role="button" data-name=":busts_in_silhouette:" title="Busts In Silhouette"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f465.png"></i><i class="emojibtn" role="button" data-name=":speaking_head:" title="Speaking Head"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5e3.png"></i><i class="emojibtn" role="button" data-name=":baby:" title="Baby"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f476.png"></i><i class="emojibtn" role="button" data-name=":boy:" title="Boy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f466.png"></i><i class="emojibtn" role="button" data-name=":girl:" title="Girl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f467.png"></i><i class="emojibtn" role="button" data-name=":man:" title="Man"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468.png"></i><i class="emojibtn" role="button" data-name=":woman:" title="Woman"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469.png"></i><i class="emojibtn" role="button" data-name=":person_with_blond_hair:" title="Person With Blond Hair"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f471.png"></i><i class="emojibtn" role="button" data-name=":older_man:" title="Older Man"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f474.png"></i><i class="emojibtn" role="button" data-name=":older_woman:" title="Older Woman"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f475.png"></i><i class="emojibtn" role="button" data-name=":man_with_gua_pi_mao:" title="Man With Gua Pi Mao"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f472.png"></i><i class="emojibtn" role="button" data-name=":man_with_turban:" title="Man With Turban"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f473.png"></i><i class="emojibtn" role="button" data-name=":cop:" title="Cop"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46e.png"></i><i class="emojibtn" role="button" data-name=":construction_worker:" title="Construction Worker"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f477.png"></i><i class="emojibtn" role="button" data-name=":guardsman:" title="Guardsman"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f482.png"></i><i class="emojibtn" role="button" data-name=":spy:" title="Spy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f575.png"></i><i class="emojibtn" role="button" data-name=":santa:" title="Santa"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f385.png"></i><i class="emojibtn" role="button" data-name=":angel:" title="Angel"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47c.png"></i><i class="emojibtn" role="button" data-name=":princess:" title="Princess"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f478.png"></i><i class="emojibtn" role="button" data-name=":bride_with_veil:" title="Bride With Veil"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f470.png"></i><i class="emojibtn" role="button" data-name=":walking:" title="Walking"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b6.png"></i><i class="emojibtn" role="button" data-name=":runner:" title="Runner"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c3.png"></i><i class="emojibtn" role="button" data-name=":dancer:" title="Dancer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f483.png"></i><i class="emojibtn" role="button" data-name=":dancers:" title="Dancers"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46f.png"></i><i class="emojibtn" role="button" data-name=":couple:" title="Couple"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46b.png"></i><i class="emojibtn" role="button" data-name=":two_men_holding_hands:" title="Two Men Holding Hands"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46c.png"></i><i class="emojibtn" role="button" data-name=":two_women_holding_hands:" title="Two Women Holding Hands"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46d.png"></i><i class="emojibtn" role="button" data-name=":bow:" title="Bow"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f647.png"></i><i class="emojibtn" role="button" data-name=":information_desk_person:" title="Information Desk Person"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f481.png"></i><i class="emojibtn" role="button" data-name=":no_good:" title="No Good"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f645.png"></i><i class="emojibtn" role="button" data-name=":ok_woman:" title="Ok Woman"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f646.png"></i><i class="emojibtn" role="button" data-name=":raising_hand:" title="Raising Hand"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64b.png"></i><i class="emojibtn" role="button" data-name=":person_with_pouting_face:" title="Person With Pouting Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64e.png"></i><i class="emojibtn" role="button" data-name=":person_frowning:" title="Person Frowning"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64d.png"></i><i class="emojibtn" role="button" data-name=":haircut:" title="Haircut"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f487.png"></i><i class="emojibtn" role="button" data-name=":massage:" title="Massage"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f486.png"></i><i class="emojibtn" role="button" data-name=":couple_with_heart:" title="Couple With Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f491.png"></i><i class="emojibtn" role="button" data-name=":couple_ww:" title="Couple Ww"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-2764-1f469.png"></i><i class="emojibtn" role="button" data-name=":couple_mm:" title="Couple Mm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-2764-1f468.png"></i><i class="emojibtn" role="button" data-name=":couplekiss:" title="Couplekiss"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f48f.png"></i><i class="emojibtn" role="button" data-name=":kiss_ww:" title="Kiss Ww"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-2764-1f48b-1f469.png"></i><i class="emojibtn" role="button" data-name=":kiss_mm:" title="Kiss Mm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-2764-1f48b-1f468.png"></i><i class="emojibtn" role="button" data-name=":family:" title="Family"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46a.png"></i><i class="emojibtn" role="button" data-name=":family_mwg:" title="Family Mwg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f469-1f467.png"></i><i class="emojibtn" role="button" data-name=":family_mwgb:" title="Family Mwgb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f469-1f467-1f466.png"></i><i class="emojibtn" role="button" data-name=":family_mwbb:" title="Family Mwbb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f469-1f466-1f466.png"></i><i class="emojibtn" role="button" data-name=":family_mwgg:" title="Family Mwgg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f469-1f467-1f467.png"></i><i class="emojibtn" role="button" data-name=":family_wwb:" title="Family Wwb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f469-1f466.png"></i><i class="emojibtn" role="button" data-name=":family_wwg:" title="Family Wwg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f469-1f467.png"></i><i class="emojibtn" role="button" data-name=":family_wwgb:" title="Family Wwgb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f469-1f467-1f466.png"></i><i class="emojibtn" role="button" data-name=":family_wwbb:" title="Family Wwbb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f469-1f466-1f466.png"></i><i class="emojibtn" role="button" data-name=":family_wwgg:" title="Family Wwgg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f469-1f467-1f467.png"></i><i class="emojibtn" role="button" data-name=":family_mmb:" title="Family Mmb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f468-1f466.png"></i><i class="emojibtn" role="button" data-name=":family_mmg:" title="Family Mmg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f468-1f467.png"></i><i class="emojibtn" role="button" data-name=":family_mmgb:" title="Family Mmgb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f468-1f467-1f466.png"></i><i class="emojibtn" role="button" data-name=":family_mmbb:" title="Family Mmbb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f468-1f466-1f466.png"></i><i class="emojibtn" role="button" data-name=":family_mmgg:" title="Family Mmgg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f468-1f467-1f467.png"></i><i class="emojibtn" role="button" data-name=":womans_clothes:" title="Womans Clothes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f45a.png"></i><i class="emojibtn" role="button" data-name=":shirt:" title="Shirt"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f455.png"></i><i class="emojibtn" role="button" data-name=":jeans:" title="Jeans"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f456.png"></i><i class="emojibtn" role="button" data-name=":necktie:" title="Necktie"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f454.png"></i><i class="emojibtn" role="button" data-name=":dress:" title="Dress"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f457.png"></i><i class="emojibtn" role="button" data-name=":bikini:" title="Bikini"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f459.png"></i><i class="emojibtn" role="button" data-name=":kimono:" title="Kimono"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f458.png"></i><i class="emojibtn" role="button" data-name=":lipstick:" title="Lipstick"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f484.png"></i><i class="emojibtn" role="button" data-name=":kiss:" title="Kiss"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f48b.png"></i><i class="emojibtn" role="button" data-name=":footprints:" title="Footprints"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f463.png"></i><i class="emojibtn" role="button" data-name=":high_heel:" title="High Heel"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f460.png"></i><i class="emojibtn" role="button" data-name=":sandal:" title="Sandal"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f461.png"></i><i class="emojibtn" role="button" data-name=":boot:" title="Boot"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f462.png"></i><i class="emojibtn" role="button" data-name=":mans_shoe:" title="Mans Shoe"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f45e.png"></i><i class="emojibtn" role="button" data-name=":athletic_shoe:" title="Athletic Shoe"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f45f.png"></i><i class="emojibtn" role="button" data-name=":womans_hat:" title="Womans Hat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f452.png"></i><i class="emojibtn" role="button" data-name=":tophat:" title="Tophat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a9.png"></i><i class="emojibtn" role="button" data-name=":helmet_with_cross:" title="Helmet With Cross"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26d1.png"></i><i class="emojibtn" role="button" data-name=":mortar_board:" title="Mortar Board"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f393.png"></i><i class="emojibtn" role="button" data-name=":crown:" title="Crown"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f451.png"></i><i class="emojibtn" role="button" data-name=":school_satchel:" title="School Satchel"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f392.png"></i><i class="emojibtn" role="button" data-name=":pouch:" title="Pouch"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f45d.png"></i><i class="emojibtn" role="button" data-name=":purse:" title="Purse"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f45b.png"></i><i class="emojibtn" role="button" data-name=":handbag:" title="Handbag"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f45c.png"></i><i class="emojibtn" role="button" data-name=":briefcase:" title="Briefcase"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4bc.png"></i><i class="emojibtn" role="button" data-name=":eyeglasses:" title="Eyeglasses"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f453.png"></i><i class="emojibtn" role="button" data-name=":dark_sunglasses:" title="Dark Sunglasses"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f576.png"></i><i class="emojibtn" role="button" data-name=":ring:" title="Ring"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f48d.png"></i><i class="emojibtn" role="button" data-name=":closed_umbrella:" title="Closed Umbrella"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f302.png"></i></div><div class="emojionearea-category" name="animals_nature" data-tone="0"><div class="emojionearea-category-title">Animals &amp; Nature</div><i class="emojibtn" role="button" data-name=":dog:" title="Dog"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f436.png"></i><i class="emojibtn" role="button" data-name=":cat:" title="Cat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f431.png"></i><i class="emojibtn" role="button" data-name=":mouse:" title="Mouse"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f42d.png"></i><i class="emojibtn" role="button" data-name=":hamster:" title="Hamster"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f439.png"></i><i class="emojibtn" role="button" data-name=":rabbit:" title="Rabbit"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f430.png"></i><i class="emojibtn" role="button" data-name=":bear:" title="Bear"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f43b.png"></i><i class="emojibtn" role="button" data-name=":panda_face:" title="Panda Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f43c.png"></i><i class="emojibtn" role="button" data-name=":koala:" title="Koala"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f428.png"></i><i class="emojibtn" role="button" data-name=":tiger:" title="Tiger"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f42f.png"></i><i class="emojibtn" role="button" data-name=":lion_face:" title="Lion Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f981.png"></i><i class="emojibtn" role="button" data-name=":cow:" title="Cow"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f42e.png"></i><i class="emojibtn" role="button" data-name=":pig:" title="Pig"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f437.png"></i><i class="emojibtn" role="button" data-name=":pig_nose:" title="Pig Nose"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f43d.png"></i><i class="emojibtn" role="button" data-name=":frog:" title="Frog"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f438.png"></i><i class="emojibtn" role="button" data-name=":octopus:" title="Octopus"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f419.png"></i><i class="emojibtn" role="button" data-name=":monkey_face:" title="Monkey Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f435.png"></i><i class="emojibtn" role="button" data-name=":see_no_evil:" title="See No Evil"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f648.png"></i><i class="emojibtn" role="button" data-name=":hear_no_evil:" title="Hear No Evil"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f649.png"></i><i class="emojibtn" role="button" data-name=":speak_no_evil:" title="Speak No Evil"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64a.png"></i><i class="emojibtn" role="button" data-name=":monkey:" title="Monkey"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f412.png"></i><i class="emojibtn" role="button" data-name=":chicken:" title="Chicken"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f414.png"></i><i class="emojibtn" role="button" data-name=":penguin:" title="Penguin"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f427.png"></i><i class="emojibtn" role="button" data-name=":bird:" title="Bird"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f426.png"></i><i class="emojibtn" role="button" data-name=":baby_chick:" title="Baby Chick"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f424.png"></i><i class="emojibtn" role="button" data-name=":hatching_chick:" title="Hatching Chick"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f423.png"></i><i class="emojibtn" role="button" data-name=":hatched_chick:" title="Hatched Chick"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f425.png"></i><i class="emojibtn" role="button" data-name=":wolf:" title="Wolf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f43a.png"></i><i class="emojibtn" role="button" data-name=":boar:" title="Boar"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f417.png"></i><i class="emojibtn" role="button" data-name=":horse:" title="Horse"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f434.png"></i><i class="emojibtn" role="button" data-name=":unicorn:" title="Unicorn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f984.png"></i><i class="emojibtn" role="button" data-name=":bee:" title="Bee"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f41d.png"></i><i class="emojibtn" role="button" data-name=":bug:" title="Bug"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f41b.png"></i><i class="emojibtn" role="button" data-name=":snail:" title="Snail"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f40c.png"></i><i class="emojibtn" role="button" data-name=":beetle:" title="Beetle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f41e.png"></i><i class="emojibtn" role="button" data-name=":ant:" title="Ant"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f41c.png"></i><i class="emojibtn" role="button" data-name=":spider:" title="Spider"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f577.png"></i><i class="emojibtn" role="button" data-name=":scorpion:" title="Scorpion"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f982.png"></i><i class="emojibtn" role="button" data-name=":crab:" title="Crab"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f980.png"></i><i class="emojibtn" role="button" data-name=":snake:" title="Snake"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f40d.png"></i><i class="emojibtn" role="button" data-name=":turtle:" title="Turtle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f422.png"></i><i class="emojibtn" role="button" data-name=":tropical_fish:" title="Tropical Fish"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f420.png"></i><i class="emojibtn" role="button" data-name=":fish:" title="Fish"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f41f.png"></i><i class="emojibtn" role="button" data-name=":blowfish:" title="Blowfish"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f421.png"></i><i class="emojibtn" role="button" data-name=":dolphin:" title="Dolphin"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f42c.png"></i><i class="emojibtn" role="button" data-name=":whale:" title="Whale"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f433.png"></i><i class="emojibtn" role="button" data-name=":whale2:" title="Whale2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f40b.png"></i><i class="emojibtn" role="button" data-name=":crocodile:" title="Crocodile"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f40a.png"></i><i class="emojibtn" role="button" data-name=":leopard:" title="Leopard"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f406.png"></i><i class="emojibtn" role="button" data-name=":tiger2:" title="Tiger2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f405.png"></i><i class="emojibtn" role="button" data-name=":water_buffalo:" title="Water Buffalo"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f403.png"></i><i class="emojibtn" role="button" data-name=":ox:" title="Ox"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f402.png"></i><i class="emojibtn" role="button" data-name=":cow2:" title="Cow2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f404.png"></i><i class="emojibtn" role="button" data-name=":dromedary_camel:" title="Dromedary Camel"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f42a.png"></i><i class="emojibtn" role="button" data-name=":camel:" title="Camel"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f42b.png"></i><i class="emojibtn" role="button" data-name=":elephant:" title="Elephant"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f418.png"></i><i class="emojibtn" role="button" data-name=":goat:" title="Goat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f410.png"></i><i class="emojibtn" role="button" data-name=":ram:" title="Ram"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f40f.png"></i><i class="emojibtn" role="button" data-name=":sheep:" title="Sheep"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f411.png"></i><i class="emojibtn" role="button" data-name=":racehorse:" title="Racehorse"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f40e.png"></i><i class="emojibtn" role="button" data-name=":pig2:" title="Pig2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f416.png"></i><i class="emojibtn" role="button" data-name=":rat:" title="Rat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f400.png"></i><i class="emojibtn" role="button" data-name=":mouse2:" title="Mouse2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f401.png"></i><i class="emojibtn" role="button" data-name=":rooster:" title="Rooster"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f413.png"></i><i class="emojibtn" role="button" data-name=":turkey:" title="Turkey"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f983.png"></i><i class="emojibtn" role="button" data-name=":dove:" title="Dove"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f54a.png"></i><i class="emojibtn" role="button" data-name=":dog2:" title="Dog2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f415.png"></i><i class="emojibtn" role="button" data-name=":poodle:" title="Poodle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f429.png"></i><i class="emojibtn" role="button" data-name=":cat2:" title="Cat2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f408.png"></i><i class="emojibtn" role="button" data-name=":rabbit2:" title="Rabbit2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f407.png"></i><i class="emojibtn" role="button" data-name=":chipmunk:" title="Chipmunk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f43f.png"></i><i class="emojibtn" role="button" data-name=":feet:" title="Feet"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f43e.png"></i><i class="emojibtn" role="button" data-name=":dragon:" title="Dragon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f409.png"></i><i class="emojibtn" role="button" data-name=":dragon_face:" title="Dragon Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f432.png"></i><i class="emojibtn" role="button" data-name=":cactus:" title="Cactus"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f335.png"></i><i class="emojibtn" role="button" data-name=":christmas_tree:" title="Christmas Tree"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f384.png"></i><i class="emojibtn" role="button" data-name=":evergreen_tree:" title="Evergreen Tree"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f332.png"></i><i class="emojibtn" role="button" data-name=":deciduous_tree:" title="Deciduous Tree"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f333.png"></i><i class="emojibtn" role="button" data-name=":palm_tree:" title="Palm Tree"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f334.png"></i><i class="emojibtn" role="button" data-name=":seedling:" title="Seedling"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f331.png"></i><i class="emojibtn" role="button" data-name=":herb:" title="Herb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f33f.png"></i><i class="emojibtn" role="button" data-name=":shamrock:" title="Shamrock"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2618.png"></i><i class="emojibtn" role="button" data-name=":four_leaf_clover:" title="Four Leaf Clover"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f340.png"></i><i class="emojibtn" role="button" data-name=":bamboo:" title="Bamboo"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f38d.png"></i><i class="emojibtn" role="button" data-name=":tanabata_tree:" title="Tanabata Tree"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f38b.png"></i><i class="emojibtn" role="button" data-name=":leaves:" title="Leaves"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f343.png"></i><i class="emojibtn" role="button" data-name=":fallen_leaf:" title="Fallen Leaf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f342.png"></i><i class="emojibtn" role="button" data-name=":maple_leaf:" title="Maple Leaf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f341.png"></i><i class="emojibtn" role="button" data-name=":ear_of_rice:" title="Ear Of Rice"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f33e.png"></i><i class="emojibtn" role="button" data-name=":hibiscus:" title="Hibiscus"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f33a.png"></i><i class="emojibtn" role="button" data-name=":sunflower:" title="Sunflower"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f33b.png"></i><i class="emojibtn" role="button" data-name=":rose:" title="Rose"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f339.png"></i><i class="emojibtn" role="button" data-name=":tulip:" title="Tulip"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f337.png"></i><i class="emojibtn" role="button" data-name=":blossom:" title="Blossom"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f33c.png"></i><i class="emojibtn" role="button" data-name=":cherry_blossom:" title="Cherry Blossom"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f338.png"></i><i class="emojibtn" role="button" data-name=":bouquet:" title="Bouquet"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f490.png"></i><i class="emojibtn" role="button" data-name=":mushroom:" title="Mushroom"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f344.png"></i><i class="emojibtn" role="button" data-name=":chestnut:" title="Chestnut"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f330.png"></i><i class="emojibtn" role="button" data-name=":jack_o_lantern:" title="Jack O Lantern"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f383.png"></i><i class="emojibtn" role="button" data-name=":shell:" title="Shell"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f41a.png"></i><i class="emojibtn" role="button" data-name=":spider_web:" title="Spider Web"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f578.png"></i><i class="emojibtn" role="button" data-name=":earth_americas:" title="Earth Americas"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f30e.png"></i><i class="emojibtn" role="button" data-name=":earth_africa:" title="Earth Africa"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f30d.png"></i><i class="emojibtn" role="button" data-name=":earth_asia:" title="Earth Asia"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f30f.png"></i><i class="emojibtn" role="button" data-name=":full_moon:" title="Full Moon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f315.png"></i><i class="emojibtn" role="button" data-name=":waning_gibbous_moon:" title="Waning Gibbous Moon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f316.png"></i><i class="emojibtn" role="button" data-name=":last_quarter_moon:" title="Last Quarter Moon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f317.png"></i><i class="emojibtn" role="button" data-name=":waning_crescent_moon:" title="Waning Crescent Moon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f318.png"></i><i class="emojibtn" role="button" data-name=":new_moon:" title="New Moon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f311.png"></i><i class="emojibtn" role="button" data-name=":waxing_crescent_moon:" title="Waxing Crescent Moon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f312.png"></i><i class="emojibtn" role="button" data-name=":first_quarter_moon:" title="First Quarter Moon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f313.png"></i><i class="emojibtn" role="button" data-name=":waxing_gibbous_moon:" title="Waxing Gibbous Moon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f314.png"></i><i class="emojibtn" role="button" data-name=":new_moon_with_face:" title="New Moon With Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f31a.png"></i><i class="emojibtn" role="button" data-name=":full_moon_with_face:" title="Full Moon With Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f31d.png"></i><i class="emojibtn" role="button" data-name=":first_quarter_moon_with_face:" title="First Quarter Moon With Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f31b.png"></i><i class="emojibtn" role="button" data-name=":last_quarter_moon_with_face:" title="Last Quarter Moon With Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f31c.png"></i><i class="emojibtn" role="button" data-name=":sun_with_face:" title="Sun With Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f31e.png"></i><i class="emojibtn" role="button" data-name=":crescent_moon:" title="Crescent Moon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f319.png"></i><i class="emojibtn" role="button" data-name=":star:" title="Star"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2b50.png"></i><i class="emojibtn" role="button" data-name=":star2:" title="Star2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f31f.png"></i><i class="emojibtn" role="button" data-name=":dizzy:" title="Dizzy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ab.png"></i><i class="emojibtn" role="button" data-name=":sparkles:" title="Sparkles"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2728.png"></i><i class="emojibtn" role="button" data-name=":comet:" title="Comet"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2604.png"></i><i class="emojibtn" role="button" data-name=":sunny:" title="Sunny"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2600.png"></i><i class="emojibtn" role="button" data-name=":white_sun_small_cloud:" title="White Sun Small Cloud"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f324.png"></i><i class="emojibtn" role="button" data-name=":partly_sunny:" title="Partly Sunny"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26c5.png"></i><i class="emojibtn" role="button" data-name=":white_sun_cloud:" title="White Sun Cloud"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f325.png"></i><i class="emojibtn" role="button" data-name=":white_sun_rain_cloud:" title="White Sun Rain Cloud"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f326.png"></i><i class="emojibtn" role="button" data-name=":cloud:" title="Cloud"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2601.png"></i><i class="emojibtn" role="button" data-name=":cloud_rain:" title="Cloud Rain"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f327.png"></i><i class="emojibtn" role="button" data-name=":thunder_cloud_rain:" title="Thunder Cloud Rain"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26c8.png"></i><i class="emojibtn" role="button" data-name=":cloud_lightning:" title="Cloud Lightning"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f329.png"></i><i class="emojibtn" role="button" data-name=":zap:" title="Zap"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26a1.png"></i><i class="emojibtn" role="button" data-name=":fire:" title="Fire"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f525.png"></i><i class="emojibtn" role="button" data-name=":boom:" title="Boom"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a5.png"></i><i class="emojibtn" role="button" data-name=":snowflake:" title="Snowflake"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2744.png"></i><i class="emojibtn" role="button" data-name=":cloud_snow:" title="Cloud Snow"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f328.png"></i><i class="emojibtn" role="button" data-name=":snowman2:" title="Snowman2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2603.png"></i><i class="emojibtn" role="button" data-name=":snowman:" title="Snowman"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26c4.png"></i><i class="emojibtn" role="button" data-name=":wind_blowing_face:" title="Wind Blowing Face"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f32c.png"></i><i class="emojibtn" role="button" data-name=":dash:" title="Dash"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a8.png"></i><i class="emojibtn" role="button" data-name=":cloud_tornado:" title="Cloud Tornado"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f32a.png"></i><i class="emojibtn" role="button" data-name=":fog:" title="Fog"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f32b.png"></i><i class="emojibtn" role="button" data-name=":umbrella2:" title="Umbrella2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2602.png"></i><i class="emojibtn" role="button" data-name=":umbrella:" title="Umbrella"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2614.png"></i><i class="emojibtn" role="button" data-name=":droplet:" title="Droplet"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a7.png"></i><i class="emojibtn" role="button" data-name=":sweat_drops:" title="Sweat Drops"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a6.png"></i><i class="emojibtn" role="button" data-name=":ocean:" title="Ocean"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f30a.png"></i></div><div class="emojionearea-category" name="food_drink" data-tone="0"><div class="emojionearea-category-title">Food &amp; Drink</div><i class="emojibtn" role="button" data-name=":green_apple:" title="Green Apple"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f34f.png"></i><i class="emojibtn" role="button" data-name=":apple:" title="Apple"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f34e.png"></i><i class="emojibtn" role="button" data-name=":pear:" title="Pear"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f350.png"></i><i class="emojibtn" role="button" data-name=":tangerine:" title="Tangerine"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f34a.png"></i><i class="emojibtn" role="button" data-name=":lemon:" title="Lemon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f34b.png"></i><i class="emojibtn" role="button" data-name=":banana:" title="Banana"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f34c.png"></i><i class="emojibtn" role="button" data-name=":watermelon:" title="Watermelon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f349.png"></i><i class="emojibtn" role="button" data-name=":grapes:" title="Grapes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f347.png"></i><i class="emojibtn" role="button" data-name=":strawberry:" title="Strawberry"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f353.png"></i><i class="emojibtn" role="button" data-name=":melon:" title="Melon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f348.png"></i><i class="emojibtn" role="button" data-name=":cherries:" title="Cherries"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f352.png"></i><i class="emojibtn" role="button" data-name=":peach:" title="Peach"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f351.png"></i><i class="emojibtn" role="button" data-name=":pineapple:" title="Pineapple"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f34d.png"></i><i class="emojibtn" role="button" data-name=":tomato:" title="Tomato"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f345.png"></i><i class="emojibtn" role="button" data-name=":eggplant:" title="Eggplant"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f346.png"></i><i class="emojibtn" role="button" data-name=":hot_pepper:" title="Hot Pepper"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f336.png"></i><i class="emojibtn" role="button" data-name=":corn:" title="Corn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f33d.png"></i><i class="emojibtn" role="button" data-name=":sweet_potato:" title="Sweet Potato"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f360.png"></i><i class="emojibtn" role="button" data-name=":honey_pot:" title="Honey Pot"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f36f.png"></i><i class="emojibtn" role="button" data-name=":bread:" title="Bread"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f35e.png"></i><i class="emojibtn" role="button" data-name=":cheese:" title="Cheese"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f9c0.png"></i><i class="emojibtn" role="button" data-name=":poultry_leg:" title="Poultry Leg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f357.png"></i><i class="emojibtn" role="button" data-name=":meat_on_bone:" title="Meat On Bone"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f356.png"></i><i class="emojibtn" role="button" data-name=":fried_shrimp:" title="Fried Shrimp"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f364.png"></i><i class="emojibtn" role="button" data-name=":egg:" title="Egg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f95a.png"></i><i class="emojibtn" role="button" data-name=":hamburger:" title="Hamburger"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f354.png"></i><i class="emojibtn" role="button" data-name=":fries:" title="Fries"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f35f.png"></i><i class="emojibtn" role="button" data-name=":hotdog:" title="Hotdog"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f32d.png"></i><i class="emojibtn" role="button" data-name=":pizza:" title="Pizza"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f355.png"></i><i class="emojibtn" role="button" data-name=":spaghetti:" title="Spaghetti"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f35d.png"></i><i class="emojibtn" role="button" data-name=":taco:" title="Taco"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f32e.png"></i><i class="emojibtn" role="button" data-name=":burrito:" title="Burrito"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f32f.png"></i><i class="emojibtn" role="button" data-name=":ramen:" title="Ramen"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f35c.png"></i><i class="emojibtn" role="button" data-name=":stew:" title="Stew"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f372.png"></i><i class="emojibtn" role="button" data-name=":fish_cake:" title="Fish Cake"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f365.png"></i><i class="emojibtn" role="button" data-name=":sushi:" title="Sushi"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f363.png"></i><i class="emojibtn" role="button" data-name=":bento:" title="Bento"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f371.png"></i><i class="emojibtn" role="button" data-name=":curry:" title="Curry"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f35b.png"></i><i class="emojibtn" role="button" data-name=":rice_ball:" title="Rice Ball"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f359.png"></i><i class="emojibtn" role="button" data-name=":rice:" title="Rice"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f35a.png"></i><i class="emojibtn" role="button" data-name=":rice_cracker:" title="Rice Cracker"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f358.png"></i><i class="emojibtn" role="button" data-name=":oden:" title="Oden"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f362.png"></i><i class="emojibtn" role="button" data-name=":dango:" title="Dango"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f361.png"></i><i class="emojibtn" role="button" data-name=":shaved_ice:" title="Shaved Ice"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f367.png"></i><i class="emojibtn" role="button" data-name=":ice_cream:" title="Ice Cream"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f368.png"></i><i class="emojibtn" role="button" data-name=":icecream:" title="Icecream"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f366.png"></i><i class="emojibtn" role="button" data-name=":cake:" title="Cake"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f370.png"></i><i class="emojibtn" role="button" data-name=":birthday:" title="Birthday"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f382.png"></i><i class="emojibtn" role="button" data-name=":custard:" title="Custard"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f36e.png"></i><i class="emojibtn" role="button" data-name=":candy:" title="Candy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f36c.png"></i><i class="emojibtn" role="button" data-name=":lollipop:" title="Lollipop"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f36d.png"></i><i class="emojibtn" role="button" data-name=":chocolate_bar:" title="Chocolate Bar"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f36b.png"></i><i class="emojibtn" role="button" data-name=":popcorn:" title="Popcorn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f37f.png"></i><i class="emojibtn" role="button" data-name=":doughnut:" title="Doughnut"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f369.png"></i><i class="emojibtn" role="button" data-name=":cookie:" title="Cookie"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f36a.png"></i><i class="emojibtn" role="button" data-name=":beer:" title="Beer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f37a.png"></i><i class="emojibtn" role="button" data-name=":beers:" title="Beers"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f37b.png"></i><i class="emojibtn" role="button" data-name=":wine_glass:" title="Wine Glass"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f377.png"></i><i class="emojibtn" role="button" data-name=":cocktail:" title="Cocktail"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f378.png"></i><i class="emojibtn" role="button" data-name=":tropical_drink:" title="Tropical Drink"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f379.png"></i><i class="emojibtn" role="button" data-name=":champagne:" title="Champagne"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f37e.png"></i><i class="emojibtn" role="button" data-name=":sake:" title="Sake"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f376.png"></i><i class="emojibtn" role="button" data-name=":tea:" title="Tea"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f375.png"></i><i class="emojibtn" role="button" data-name=":coffee:" title="Coffee"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2615.png"></i><i class="emojibtn" role="button" data-name=":baby_bottle:" title="Baby Bottle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f37c.png"></i><i class="emojibtn" role="button" data-name=":fork_and_knife:" title="Fork And Knife"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f374.png"></i><i class="emojibtn" role="button" data-name=":fork_knife_plate:" title="Fork Knife Plate"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f37d.png"></i></div><div class="emojionearea-category" name="activity" data-tone="0"><div class="emojionearea-category-title">Activity</div><i class="emojibtn" role="button" data-name=":soccer:" title="Soccer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26bd.png"></i><i class="emojibtn" role="button" data-name=":basketball:" title="Basketball"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c0.png"></i><i class="emojibtn" role="button" data-name=":football:" title="Football"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c8.png"></i><i class="emojibtn" role="button" data-name=":baseball:" title="Baseball"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26be.png"></i><i class="emojibtn" role="button" data-name=":tennis:" title="Tennis"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3be.png"></i><i class="emojibtn" role="button" data-name=":volleyball:" title="Volleyball"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d0.png"></i><i class="emojibtn" role="button" data-name=":rugby_football:" title="Rugby Football"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c9.png"></i><i class="emojibtn" role="button" data-name=":8ball:" title="8ball"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b1.png"></i><i class="emojibtn" role="button" data-name=":golf:" title="Golf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f3.png"></i><i class="emojibtn" role="button" data-name=":golfer:" title="Golfer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3cc.png"></i><i class="emojibtn" role="button" data-name=":ping_pong:" title="Ping Pong"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d3.png"></i><i class="emojibtn" role="button" data-name=":badminton:" title="Badminton"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3f8.png"></i><i class="emojibtn" role="button" data-name=":hockey:" title="Hockey"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d2.png"></i><i class="emojibtn" role="button" data-name=":field_hockey:" title="Field Hockey"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d1.png"></i><i class="emojibtn" role="button" data-name=":cricket:" title="Cricket"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3cf.png"></i><i class="emojibtn" role="button" data-name=":ski:" title="Ski"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3bf.png"></i><i class="emojibtn" role="button" data-name=":skier:" title="Skier"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f7.png"></i><i class="emojibtn" role="button" data-name=":snowboarder:" title="Snowboarder"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c2.png"></i><i class="emojibtn" role="button" data-name=":ice_skate:" title="Ice Skate"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f8.png"></i><i class="emojibtn" role="button" data-name=":bow_and_arrow:" title="Bow And Arrow"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3f9.png"></i><i class="emojibtn" role="button" data-name=":fishing_pole_and_fish:" title="Fishing Pole And Fish"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a3.png"></i><i class="emojibtn" role="button" data-name=":rowboat:" title="Rowboat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a3.png"></i><i class="emojibtn" role="button" data-name=":swimmer:" title="Swimmer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ca.png"></i><i class="emojibtn" role="button" data-name=":surfer:" title="Surfer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c4.png"></i><i class="emojibtn" role="button" data-name=":bath:" title="Bath"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c0.png"></i><i class="emojibtn" role="button" data-name=":basketball_player:" title="Basketball Player"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f9.png"></i><i class="emojibtn" role="button" data-name=":lifter:" title="Lifter"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3cb.png"></i><i class="emojibtn" role="button" data-name=":bicyclist:" title="Bicyclist"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b4.png"></i><i class="emojibtn" role="button" data-name=":mountain_bicyclist:" title="Mountain Bicyclist"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b5.png"></i><i class="emojibtn" role="button" data-name=":horse_racing:" title="Horse Racing"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c7.png"></i><i class="emojibtn" role="button" data-name=":levitate:" title="Levitate"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f574.png"></i><i class="emojibtn" role="button" data-name=":trophy:" title="Trophy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c6.png"></i><i class="emojibtn" role="button" data-name=":running_shirt_with_sash:" title="Running Shirt With Sash"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3bd.png"></i><i class="emojibtn" role="button" data-name=":medal:" title="Medal"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c5.png"></i><i class="emojibtn" role="button" data-name=":military_medal:" title="Military Medal"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f396.png"></i><i class="emojibtn" role="button" data-name=":reminder_ribbon:" title="Reminder Ribbon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f397.png"></i><i class="emojibtn" role="button" data-name=":rosette:" title="Rosette"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3f5.png"></i><i class="emojibtn" role="button" data-name=":ticket:" title="Ticket"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ab.png"></i><i class="emojibtn" role="button" data-name=":tickets:" title="Tickets"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f39f.png"></i><i class="emojibtn" role="button" data-name=":performing_arts:" title="Performing Arts"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ad.png"></i><i class="emojibtn" role="button" data-name=":art:" title="Art"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a8.png"></i><i class="emojibtn" role="button" data-name=":circus_tent:" title="Circus Tent"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3aa.png"></i><i class="emojibtn" role="button" data-name=":microphone:" title="Microphone"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a4.png"></i><i class="emojibtn" role="button" data-name=":headphones:" title="Headphones"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a7.png"></i><i class="emojibtn" role="button" data-name=":musical_score:" title="Musical Score"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3bc.png"></i><i class="emojibtn" role="button" data-name=":musical_keyboard:" title="Musical Keyboard"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b9.png"></i><i class="emojibtn" role="button" data-name=":saxophone:" title="Saxophone"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b7.png"></i><i class="emojibtn" role="button" data-name=":trumpet:" title="Trumpet"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ba.png"></i><i class="emojibtn" role="button" data-name=":guitar:" title="Guitar"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b8.png"></i><i class="emojibtn" role="button" data-name=":violin:" title="Violin"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3bb.png"></i><i class="emojibtn" role="button" data-name=":clapper:" title="Clapper"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ac.png"></i><i class="emojibtn" role="button" data-name=":video_game:" title="Video Game"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ae.png"></i><i class="emojibtn" role="button" data-name=":space_invader:" title="Space Invader"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47e.png"></i><i class="emojibtn" role="button" data-name=":dart:" title="Dart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3af.png"></i><i class="emojibtn" role="button" data-name=":game_die:" title="Game Die"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b2.png"></i><i class="emojibtn" role="button" data-name=":slot_machine:" title="Slot Machine"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b0.png"></i><i class="emojibtn" role="button" data-name=":bowling:" title="Bowling"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b3.png"></i></div><div class="emojionearea-category" name="travel_places" data-tone="0"><div class="emojionearea-category-title">Travel &amp; Places</div><i class="emojibtn" role="button" data-name=":red_car:" title="Red Car"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f697.png"></i><i class="emojibtn" role="button" data-name=":taxi:" title="Taxi"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f695.png"></i><i class="emojibtn" role="button" data-name=":blue_car:" title="Blue Car"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f699.png"></i><i class="emojibtn" role="button" data-name=":bus:" title="Bus"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f68c.png"></i><i class="emojibtn" role="button" data-name=":trolleybus:" title="Trolleybus"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f68e.png"></i><i class="emojibtn" role="button" data-name=":race_car:" title="Race Car"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ce.png"></i><i class="emojibtn" role="button" data-name=":police_car:" title="Police Car"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f693.png"></i><i class="emojibtn" role="button" data-name=":ambulance:" title="Ambulance"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f691.png"></i><i class="emojibtn" role="button" data-name=":fire_engine:" title="Fire Engine"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f692.png"></i><i class="emojibtn" role="button" data-name=":minibus:" title="Minibus"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f690.png"></i><i class="emojibtn" role="button" data-name=":truck:" title="Truck"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f69a.png"></i><i class="emojibtn" role="button" data-name=":articulated_lorry:" title="Articulated Lorry"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f69b.png"></i><i class="emojibtn" role="button" data-name=":tractor:" title="Tractor"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f69c.png"></i><i class="emojibtn" role="button" data-name=":motorcycle:" title="Motorcycle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3cd.png"></i><i class="emojibtn" role="button" data-name=":bike:" title="Bike"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b2.png"></i><i class="emojibtn" role="button" data-name=":rotating_light:" title="Rotating Light"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a8.png"></i><i class="emojibtn" role="button" data-name=":oncoming_police_car:" title="Oncoming Police Car"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f694.png"></i><i class="emojibtn" role="button" data-name=":oncoming_bus:" title="Oncoming Bus"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f68d.png"></i><i class="emojibtn" role="button" data-name=":oncoming_automobile:" title="Oncoming Automobile"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f698.png"></i><i class="emojibtn" role="button" data-name=":oncoming_taxi:" title="Oncoming Taxi"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f696.png"></i><i class="emojibtn" role="button" data-name=":aerial_tramway:" title="Aerial Tramway"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a1.png"></i><i class="emojibtn" role="button" data-name=":mountain_cableway:" title="Mountain Cableway"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a0.png"></i><i class="emojibtn" role="button" data-name=":suspension_railway:" title="Suspension Railway"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f69f.png"></i><i class="emojibtn" role="button" data-name=":railway_car:" title="Railway Car"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f683.png"></i><i class="emojibtn" role="button" data-name=":train:" title="Train"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f68b.png"></i><i class="emojibtn" role="button" data-name=":monorail:" title="Monorail"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f69d.png"></i><i class="emojibtn" role="button" data-name=":bullettrain_side:" title="Bullettrain Side"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f684.png"></i><i class="emojibtn" role="button" data-name=":bullettrain_front:" title="Bullettrain Front"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f685.png"></i><i class="emojibtn" role="button" data-name=":light_rail:" title="Light Rail"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f688.png"></i><i class="emojibtn" role="button" data-name=":mountain_railway:" title="Mountain Railway"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f69e.png"></i><i class="emojibtn" role="button" data-name=":steam_locomotive:" title="Steam Locomotive"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f682.png"></i><i class="emojibtn" role="button" data-name=":train2:" title="Train2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f686.png"></i><i class="emojibtn" role="button" data-name=":metro:" title="Metro"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f687.png"></i><i class="emojibtn" role="button" data-name=":tram:" title="Tram"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f68a.png"></i><i class="emojibtn" role="button" data-name=":station:" title="Station"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f689.png"></i><i class="emojibtn" role="button" data-name=":helicopter:" title="Helicopter"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f681.png"></i><i class="emojibtn" role="button" data-name=":airplane_small:" title="Airplane Small"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6e9.png"></i><i class="emojibtn" role="button" data-name=":airplane:" title="Airplane"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2708.png"></i><i class="emojibtn" role="button" data-name=":airplane_departure:" title="Airplane Departure"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6eb.png"></i><i class="emojibtn" role="button" data-name=":airplane_arriving:" title="Airplane Arriving"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6ec.png"></i><i class="emojibtn" role="button" data-name=":sailboat:" title="Sailboat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f5.png"></i><i class="emojibtn" role="button" data-name=":motorboat:" title="Motorboat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6e5.png"></i><i class="emojibtn" role="button" data-name=":speedboat:" title="Speedboat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a4.png"></i><i class="emojibtn" role="button" data-name=":ferry:" title="Ferry"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f4.png"></i><i class="emojibtn" role="button" data-name=":cruise_ship:" title="Cruise Ship"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6f3.png"></i><i class="emojibtn" role="button" data-name=":rocket:" title="Rocket"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f680.png"></i><i class="emojibtn" role="button" data-name=":satellite_orbital:" title="Satellite Orbital"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6f0.png"></i><i class="emojibtn" role="button" data-name=":seat:" title="Seat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ba.png"></i><i class="emojibtn" role="button" data-name=":anchor:" title="Anchor"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2693.png"></i><i class="emojibtn" role="button" data-name=":construction:" title="Construction"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a7.png"></i><i class="emojibtn" role="button" data-name=":fuelpump:" title="Fuelpump"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26fd.png"></i><i class="emojibtn" role="button" data-name=":busstop:" title="Busstop"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f68f.png"></i><i class="emojibtn" role="button" data-name=":vertical_traffic_light:" title="Vertical Traffic Light"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a6.png"></i><i class="emojibtn" role="button" data-name=":traffic_light:" title="Traffic Light"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a5.png"></i><i class="emojibtn" role="button" data-name=":checkered_flag:" title="Checkered Flag"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c1.png"></i><i class="emojibtn" role="button" data-name=":ship:" title="Ship"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a2.png"></i><i class="emojibtn" role="button" data-name=":ferris_wheel:" title="Ferris Wheel"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a1.png"></i><i class="emojibtn" role="button" data-name=":roller_coaster:" title="Roller Coaster"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a2.png"></i><i class="emojibtn" role="button" data-name=":carousel_horse:" title="Carousel Horse"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a0.png"></i><i class="emojibtn" role="button" data-name=":construction_site:" title="Construction Site"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d7.png"></i><i class="emojibtn" role="button" data-name=":foggy:" title="Foggy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f301.png"></i><i class="emojibtn" role="button" data-name=":tokyo_tower:" title="Tokyo Tower"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5fc.png"></i><i class="emojibtn" role="button" data-name=":factory:" title="Factory"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ed.png"></i><i class="emojibtn" role="button" data-name=":fountain:" title="Fountain"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f2.png"></i><i class="emojibtn" role="button" data-name=":rice_scene:" title="Rice Scene"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f391.png"></i><i class="emojibtn" role="button" data-name=":mountain:" title="Mountain"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f0.png"></i><i class="emojibtn" role="button" data-name=":mountain_snow:" title="Mountain Snow"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d4.png"></i><i class="emojibtn" role="button" data-name=":mount_fuji:" title="Mount Fuji"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5fb.png"></i><i class="emojibtn" role="button" data-name=":volcano:" title="Volcano"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f30b.png"></i><i class="emojibtn" role="button" data-name=":japan:" title="Japan"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5fe.png"></i><i class="emojibtn" role="button" data-name=":camping:" title="Camping"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d5.png"></i><i class="emojibtn" role="button" data-name=":tent:" title="Tent"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26fa.png"></i><i class="emojibtn" role="button" data-name=":park:" title="Park"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3de.png"></i><i class="emojibtn" role="button" data-name=":motorway:" title="Motorway"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6e3.png"></i><i class="emojibtn" role="button" data-name=":railway_track:" title="Railway Track"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6e4.png"></i><i class="emojibtn" role="button" data-name=":sunrise:" title="Sunrise"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f305.png"></i><i class="emojibtn" role="button" data-name=":sunrise_over_mountains:" title="Sunrise Over Mountains"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f304.png"></i><i class="emojibtn" role="button" data-name=":desert:" title="Desert"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3dc.png"></i><i class="emojibtn" role="button" data-name=":beach:" title="Beach"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d6.png"></i><i class="emojibtn" role="button" data-name=":island:" title="Island"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3dd.png"></i><i class="emojibtn" role="button" data-name=":city_sunset:" title="City Sunset"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f307.png"></i><i class="emojibtn" role="button" data-name=":city_dusk:" title="City Dusk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f306.png"></i><i class="emojibtn" role="button" data-name=":cityscape:" title="Cityscape"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d9.png"></i><i class="emojibtn" role="button" data-name=":night_with_stars:" title="Night With Stars"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f303.png"></i><i class="emojibtn" role="button" data-name=":bridge_at_night:" title="Bridge At Night"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f309.png"></i><i class="emojibtn" role="button" data-name=":milky_way:" title="Milky Way"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f30c.png"></i><i class="emojibtn" role="button" data-name=":stars:" title="Stars"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f320.png"></i><i class="emojibtn" role="button" data-name=":sparkler:" title="Sparkler"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f387.png"></i><i class="emojibtn" role="button" data-name=":fireworks:" title="Fireworks"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f386.png"></i><i class="emojibtn" role="button" data-name=":rainbow:" title="Rainbow"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f308.png"></i><i class="emojibtn" role="button" data-name=":homes:" title="Homes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3d8.png"></i><i class="emojibtn" role="button" data-name=":european_castle:" title="European Castle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3f0.png"></i><i class="emojibtn" role="button" data-name=":japanese_castle:" title="Japanese Castle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ef.png"></i><i class="emojibtn" role="button" data-name=":stadium:" title="Stadium"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3df.png"></i><i class="emojibtn" role="button" data-name=":statue_of_liberty:" title="Statue Of Liberty"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5fd.png"></i><i class="emojibtn" role="button" data-name=":house:" title="House"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e0.png"></i><i class="emojibtn" role="button" data-name=":house_with_garden:" title="House With Garden"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e1.png"></i><i class="emojibtn" role="button" data-name=":house_abandoned:" title="House Abandoned"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3da.png"></i><i class="emojibtn" role="button" data-name=":office:" title="Office"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e2.png"></i><i class="emojibtn" role="button" data-name=":department_store:" title="Department Store"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ec.png"></i><i class="emojibtn" role="button" data-name=":post_office:" title="Post Office"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e3.png"></i><i class="emojibtn" role="button" data-name=":european_post_office:" title="European Post Office"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e4.png"></i><i class="emojibtn" role="button" data-name=":hospital:" title="Hospital"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e5.png"></i><i class="emojibtn" role="button" data-name=":bank:" title="Bank"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e6.png"></i><i class="emojibtn" role="button" data-name=":hotel:" title="Hotel"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e8.png"></i><i class="emojibtn" role="button" data-name=":convenience_store:" title="Convenience Store"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ea.png"></i><i class="emojibtn" role="button" data-name=":school:" title="School"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3eb.png"></i><i class="emojibtn" role="button" data-name=":love_hotel:" title="Love Hotel"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e9.png"></i><i class="emojibtn" role="button" data-name=":wedding:" title="Wedding"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f492.png"></i><i class="emojibtn" role="button" data-name=":classical_building:" title="Classical Building"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3db.png"></i><i class="emojibtn" role="button" data-name=":church:" title="Church"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26ea.png"></i><i class="emojibtn" role="button" data-name=":mosque:" title="Mosque"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f54c.png"></i><i class="emojibtn" role="button" data-name=":synagogue:" title="Synagogue"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f54d.png"></i><i class="emojibtn" role="button" data-name=":kaaba:" title="Kaaba"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f54b.png"></i><i class="emojibtn" role="button" data-name=":shinto_shrine:" title="Shinto Shrine"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26e9.png"></i></div><div class="emojionearea-category" name="objects" data-tone="0"><div class="emojionearea-category-title">Objects</div><i class="emojibtn" role="button" data-name=":watch:" title="Watch"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/231a.png"></i><i class="emojibtn" role="button" data-name=":iphone:" title="Iphone"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f1.png"></i><i class="emojibtn" role="button" data-name=":calling:" title="Calling"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f2.png"></i><i class="emojibtn" role="button" data-name=":computer:" title="Computer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4bb.png"></i><i class="emojibtn" role="button" data-name=":keyboard:" title="Keyboard"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2328.png"></i><i class="emojibtn" role="button" data-name=":desktop:" title="Desktop"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5a5.png"></i><i class="emojibtn" role="button" data-name=":printer:" title="Printer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5a8.png"></i><i class="emojibtn" role="button" data-name=":mouse_three_button:" title="Mouse Three Button"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5b1.png"></i><i class="emojibtn" role="button" data-name=":trackball:" title="Trackball"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5b2.png"></i><i class="emojibtn" role="button" data-name=":joystick:" title="Joystick"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f579.png"></i><i class="emojibtn" role="button" data-name=":compression:" title="Compression"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5dc.png"></i><i class="emojibtn" role="button" data-name=":minidisc:" title="Minidisc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4bd.png"></i><i class="emojibtn" role="button" data-name=":floppy_disk:" title="Floppy Disk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4be.png"></i><i class="emojibtn" role="button" data-name=":cd:" title="Cd"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4bf.png"></i><i class="emojibtn" role="button" data-name=":dvd:" title="Dvd"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c0.png"></i><i class="emojibtn" role="button" data-name=":vhs:" title="Vhs"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4fc.png"></i><i class="emojibtn" role="button" data-name=":camera:" title="Camera"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f7.png"></i><i class="emojibtn" role="button" data-name=":camera_with_flash:" title="Camera With Flash"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f8.png"></i><i class="emojibtn" role="button" data-name=":video_camera:" title="Video Camera"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f9.png"></i><i class="emojibtn" role="button" data-name=":movie_camera:" title="Movie Camera"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a5.png"></i><i class="emojibtn" role="button" data-name=":projector:" title="Projector"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4fd.png"></i><i class="emojibtn" role="button" data-name=":film_frames:" title="Film Frames"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f39e.png"></i><i class="emojibtn" role="button" data-name=":telephone_receiver:" title="Telephone Receiver"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4de.png"></i><i class="emojibtn" role="button" data-name=":telephone:" title="Telephone"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/260e.png"></i><i class="emojibtn" role="button" data-name=":pager:" title="Pager"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4df.png"></i><i class="emojibtn" role="button" data-name=":fax:" title="Fax"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e0.png"></i><i class="emojibtn" role="button" data-name=":tv:" title="Tv"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4fa.png"></i><i class="emojibtn" role="button" data-name=":radio:" title="Radio"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4fb.png"></i><i class="emojibtn" role="button" data-name=":microphone2:" title="Microphone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f399.png"></i><i class="emojibtn" role="button" data-name=":level_slider:" title="Level Slider"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f39a.png"></i><i class="emojibtn" role="button" data-name=":control_knobs:" title="Control Knobs"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f39b.png"></i><i class="emojibtn" role="button" data-name=":stopwatch:" title="Stopwatch"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23f1.png"></i><i class="emojibtn" role="button" data-name=":timer:" title="Timer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23f2.png"></i><i class="emojibtn" role="button" data-name=":alarm_clock:" title="Alarm Clock"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23f0.png"></i><i class="emojibtn" role="button" data-name=":clock:" title="Clock"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f570.png"></i><i class="emojibtn" role="button" data-name=":hourglass_flowing_sand:" title="Hourglass Flowing Sand"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23f3.png"></i><i class="emojibtn" role="button" data-name=":hourglass:" title="Hourglass"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/231b.png"></i><i class="emojibtn" role="button" data-name=":satellite:" title="Satellite"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e1.png"></i><i class="emojibtn" role="button" data-name=":battery:" title="Battery"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f50b.png"></i><i class="emojibtn" role="button" data-name=":electric_plug:" title="Electric Plug"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f50c.png"></i><i class="emojibtn" role="button" data-name=":bulb:" title="Bulb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a1.png"></i><i class="emojibtn" role="button" data-name=":flashlight:" title="Flashlight"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f526.png"></i><i class="emojibtn" role="button" data-name=":candle:" title="Candle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f56f.png"></i><i class="emojibtn" role="button" data-name=":wastebasket:" title="Wastebasket"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5d1.png"></i><i class="emojibtn" role="button" data-name=":oil:" title="Oil"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6e2.png"></i><i class="emojibtn" role="button" data-name=":money_with_wings:" title="Money With Wings"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b8.png"></i><i class="emojibtn" role="button" data-name=":dollar:" title="Dollar"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b5.png"></i><i class="emojibtn" role="button" data-name=":yen:" title="Yen"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b4.png"></i><i class="emojibtn" role="button" data-name=":euro:" title="Euro"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b6.png"></i><i class="emojibtn" role="button" data-name=":pound:" title="Pound"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b7.png"></i><i class="emojibtn" role="button" data-name=":moneybag:" title="Moneybag"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b0.png"></i><i class="emojibtn" role="button" data-name=":credit_card:" title="Credit Card"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b3.png"></i><i class="emojibtn" role="button" data-name=":gem:" title="Gem"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f48e.png"></i><i class="emojibtn" role="button" data-name=":scales:" title="Scales"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2696.png"></i><i class="emojibtn" role="button" data-name=":wrench:" title="Wrench"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f527.png"></i><i class="emojibtn" role="button" data-name=":hammer:" title="Hammer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f528.png"></i><i class="emojibtn" role="button" data-name=":hammer_pick:" title="Hammer Pick"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2692.png"></i><i class="emojibtn" role="button" data-name=":tools:" title="Tools"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6e0.png"></i><i class="emojibtn" role="button" data-name=":pick:" title="Pick"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26cf.png"></i><i class="emojibtn" role="button" data-name=":nut_and_bolt:" title="Nut And Bolt"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f529.png"></i><i class="emojibtn" role="button" data-name=":gear:" title="Gear"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2699.png"></i><i class="emojibtn" role="button" data-name=":chains:" title="Chains"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26d3.png"></i><i class="emojibtn" role="button" data-name=":gun:" title="Gun"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f52b.png"></i><i class="emojibtn" role="button" data-name=":bomb:" title="Bomb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a3.png"></i><i class="emojibtn" role="button" data-name=":knife:" title="Knife"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f52a.png"></i><i class="emojibtn" role="button" data-name=":dagger:" title="Dagger"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5e1.png"></i><i class="emojibtn" role="button" data-name=":crossed_swords:" title="Crossed Swords"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2694.png"></i><i class="emojibtn" role="button" data-name=":shield:" title="Shield"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6e1.png"></i><i class="emojibtn" role="button" data-name=":smoking:" title="Smoking"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6ac.png"></i><i class="emojibtn" role="button" data-name=":skull_crossbones:" title="Skull Crossbones"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2620.png"></i><i class="emojibtn" role="button" data-name=":coffin:" title="Coffin"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26b0.png"></i><i class="emojibtn" role="button" data-name=":urn:" title="Urn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26b1.png"></i><i class="emojibtn" role="button" data-name=":amphora:" title="Amphora"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3fa.png"></i><i class="emojibtn" role="button" data-name=":crystal_ball:" title="Crystal Ball"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f52e.png"></i><i class="emojibtn" role="button" data-name=":prayer_beads:" title="Prayer Beads"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ff.png"></i><i class="emojibtn" role="button" data-name=":barber:" title="Barber"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f488.png"></i><i class="emojibtn" role="button" data-name=":alembic:" title="Alembic"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2697.png"></i><i class="emojibtn" role="button" data-name=":telescope:" title="Telescope"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f52d.png"></i><i class="emojibtn" role="button" data-name=":microscope:" title="Microscope"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f52c.png"></i><i class="emojibtn" role="button" data-name=":hole:" title="Hole"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f573.png"></i><i class="emojibtn" role="button" data-name=":pill:" title="Pill"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f48a.png"></i><i class="emojibtn" role="button" data-name=":syringe:" title="Syringe"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f489.png"></i><i class="emojibtn" role="button" data-name=":thermometer:" title="Thermometer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f321.png"></i><i class="emojibtn" role="button" data-name=":label:" title="Label"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3f7.png"></i><i class="emojibtn" role="button" data-name=":bookmark:" title="Bookmark"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f516.png"></i><i class="emojibtn" role="button" data-name=":toilet:" title="Toilet"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6bd.png"></i><i class="emojibtn" role="button" data-name=":shower:" title="Shower"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6bf.png"></i><i class="emojibtn" role="button" data-name=":bathtub:" title="Bathtub"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c1.png"></i><i class="emojibtn" role="button" data-name=":key:" title="Key"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f511.png"></i><i class="emojibtn" role="button" data-name=":key2:" title="Key2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5dd.png"></i><i class="emojibtn" role="button" data-name=":couch:" title="Couch"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6cb.png"></i><i class="emojibtn" role="button" data-name=":sleeping_accommodation:" title="Sleeping Accommodation"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6cc.png"></i><i class="emojibtn" role="button" data-name=":bed:" title="Bed"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6cf.png"></i><i class="emojibtn" role="button" data-name=":door:" title="Door"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6aa.png"></i><i class="emojibtn" role="button" data-name=":bellhop:" title="Bellhop"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6ce.png"></i><i class="emojibtn" role="button" data-name=":frame_photo:" title="Frame Photo"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5bc.png"></i><i class="emojibtn" role="button" data-name=":map:" title="Map"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5fa.png"></i><i class="emojibtn" role="button" data-name=":beach_umbrella:" title="Beach Umbrella"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f1.png"></i><i class="emojibtn" role="button" data-name=":moyai:" title="Moyai"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5ff.png"></i><i class="emojibtn" role="button" data-name=":shopping_bags:" title="Shopping Bags"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6cd.png"></i><i class="emojibtn" role="button" data-name=":balloon:" title="Balloon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f388.png"></i><i class="emojibtn" role="button" data-name=":flags:" title="Flags"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f38f.png"></i><i class="emojibtn" role="button" data-name=":ribbon:" title="Ribbon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f380.png"></i><i class="emojibtn" role="button" data-name=":gift:" title="Gift"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f381.png"></i><i class="emojibtn" role="button" data-name=":confetti_ball:" title="Confetti Ball"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f38a.png"></i><i class="emojibtn" role="button" data-name=":tada:" title="Tada"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f389.png"></i><i class="emojibtn" role="button" data-name=":dolls:" title="Dolls"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f38e.png"></i><i class="emojibtn" role="button" data-name=":wind_chime:" title="Wind Chime"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f390.png"></i><i class="emojibtn" role="button" data-name=":crossed_flags:" title="Crossed Flags"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f38c.png"></i><i class="emojibtn" role="button" data-name=":izakaya_lantern:" title="Izakaya Lantern"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ee.png"></i><i class="emojibtn" role="button" data-name=":envelope:" title="Envelope"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2709.png"></i><i class="emojibtn" role="button" data-name=":envelope_with_arrow:" title="Envelope With Arrow"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e9.png"></i><i class="emojibtn" role="button" data-name=":incoming_envelope:" title="Incoming Envelope"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e8.png"></i><i class="emojibtn" role="button" data-name=":e-mail:" title="E-mail"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e7.png"></i><i class="emojibtn" role="button" data-name=":love_letter:" title="Love Letter"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f48c.png"></i><i class="emojibtn" role="button" data-name=":postbox:" title="Postbox"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ee.png"></i><i class="emojibtn" role="button" data-name=":mailbox_closed:" title="Mailbox Closed"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ea.png"></i><i class="emojibtn" role="button" data-name=":mailbox:" title="Mailbox"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4eb.png"></i><i class="emojibtn" role="button" data-name=":mailbox_with_mail:" title="Mailbox With Mail"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ec.png"></i><i class="emojibtn" role="button" data-name=":mailbox_with_no_mail:" title="Mailbox With No Mail"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ed.png"></i><i class="emojibtn" role="button" data-name=":package:" title="Package"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e6.png"></i><i class="emojibtn" role="button" data-name=":postal_horn:" title="Postal Horn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ef.png"></i><i class="emojibtn" role="button" data-name=":inbox_tray:" title="Inbox Tray"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e5.png"></i><i class="emojibtn" role="button" data-name=":outbox_tray:" title="Outbox Tray"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e4.png"></i><i class="emojibtn" role="button" data-name=":scroll:" title="Scroll"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4dc.png"></i><i class="emojibtn" role="button" data-name=":page_with_curl:" title="Page With Curl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c3.png"></i><i class="emojibtn" role="button" data-name=":bookmark_tabs:" title="Bookmark Tabs"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d1.png"></i><i class="emojibtn" role="button" data-name=":bar_chart:" title="Bar Chart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ca.png"></i><i class="emojibtn" role="button" data-name=":chart_with_upwards_trend:" title="Chart With Upwards Trend"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c8.png"></i><i class="emojibtn" role="button" data-name=":chart_with_downwards_trend:" title="Chart With Downwards Trend"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c9.png"></i><i class="emojibtn" role="button" data-name=":page_facing_up:" title="Page Facing Up"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c4.png"></i><i class="emojibtn" role="button" data-name=":date:" title="Date"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c5.png"></i><i class="emojibtn" role="button" data-name=":calendar:" title="Calendar"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c6.png"></i><i class="emojibtn" role="button" data-name=":calendar_spiral:" title="Calendar Spiral"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5d3.png"></i><i class="emojibtn" role="button" data-name=":card_index:" title="Card Index"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c7.png"></i><i class="emojibtn" role="button" data-name=":card_box:" title="Card Box"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5c3.png"></i><i class="emojibtn" role="button" data-name=":ballot_box:" title="Ballot Box"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5f3.png"></i><i class="emojibtn" role="button" data-name=":file_cabinet:" title="File Cabinet"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5c4.png"></i><i class="emojibtn" role="button" data-name=":clipboard:" title="Clipboard"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4cb.png"></i><i class="emojibtn" role="button" data-name=":notepad_spiral:" title="Notepad Spiral"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5d2.png"></i><i class="emojibtn" role="button" data-name=":file_folder:" title="File Folder"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c1.png"></i><i class="emojibtn" role="button" data-name=":open_file_folder:" title="Open File Folder"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4c2.png"></i><i class="emojibtn" role="button" data-name=":dividers:" title="Dividers"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5c2.png"></i><i class="emojibtn" role="button" data-name=":newspaper2:" title="Newspaper2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5de.png"></i><i class="emojibtn" role="button" data-name=":newspaper:" title="Newspaper"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f0.png"></i><i class="emojibtn" role="button" data-name=":notebook:" title="Notebook"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d3.png"></i><i class="emojibtn" role="button" data-name=":closed_book:" title="Closed Book"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d5.png"></i><i class="emojibtn" role="button" data-name=":green_book:" title="Green Book"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d7.png"></i><i class="emojibtn" role="button" data-name=":blue_book:" title="Blue Book"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d8.png"></i><i class="emojibtn" role="button" data-name=":orange_book:" title="Orange Book"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d9.png"></i><i class="emojibtn" role="button" data-name=":notebook_with_decorative_cover:" title="Notebook With Decorative Cover"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d4.png"></i><i class="emojibtn" role="button" data-name=":ledger:" title="Ledger"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d2.png"></i><i class="emojibtn" role="button" data-name=":books:" title="Books"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4da.png"></i><i class="emojibtn" role="button" data-name=":book:" title="Book"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d6.png"></i><i class="emojibtn" role="button" data-name=":link:" title="Link"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f517.png"></i><i class="emojibtn" role="button" data-name=":paperclip:" title="Paperclip"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ce.png"></i><i class="emojibtn" role="button" data-name=":paperclips:" title="Paperclips"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f587.png"></i><i class="emojibtn" role="button" data-name=":scissors:" title="Scissors"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2702.png"></i><i class="emojibtn" role="button" data-name=":triangular_ruler:" title="Triangular Ruler"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4d0.png"></i><i class="emojibtn" role="button" data-name=":straight_ruler:" title="Straight Ruler"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4cf.png"></i><i class="emojibtn" role="button" data-name=":pushpin:" title="Pushpin"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4cc.png"></i><i class="emojibtn" role="button" data-name=":round_pushpin:" title="Round Pushpin"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4cd.png"></i><i class="emojibtn" role="button" data-name=":triangular_flag_on_post:" title="Triangular Flag On Post"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a9.png"></i><i class="emojibtn" role="button" data-name=":flag_white:" title="Flag White"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3f3.png"></i><i class="emojibtn" role="button" data-name=":flag_black:" title="Flag Black"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3f4.png"></i><i class="emojibtn" role="button" data-name=":closed_lock_with_key:" title="Closed Lock With Key"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f510.png"></i><i class="emojibtn" role="button" data-name=":lock:" title="Lock"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f512.png"></i><i class="emojibtn" role="button" data-name=":unlock:" title="Unlock"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f513.png"></i><i class="emojibtn" role="button" data-name=":lock_with_ink_pen:" title="Lock With Ink Pen"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f50f.png"></i><i class="emojibtn" role="button" data-name=":pen_ballpoint:" title="Pen Ballpoint"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f58a.png"></i><i class="emojibtn" role="button" data-name=":pen_fountain:" title="Pen Fountain"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f58b.png"></i><i class="emojibtn" role="button" data-name=":black_nib:" title="Black Nib"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2712.png"></i><i class="emojibtn" role="button" data-name=":pencil:" title="Pencil"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4dd.png"></i><i class="emojibtn" role="button" data-name=":pencil2:" title="Pencil2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270f.png"></i><i class="emojibtn" role="button" data-name=":crayon:" title="Crayon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f58d.png"></i><i class="emojibtn" role="button" data-name=":paintbrush:" title="Paintbrush"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f58c.png"></i><i class="emojibtn" role="button" data-name=":mag:" title="Mag"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f50d.png"></i><i class="emojibtn" role="button" data-name=":mag_right:" title="Mag Right"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f50e.png"></i></div><div class="emojionearea-category" name="symbols" data-tone="0"><div class="emojionearea-category-title">Symbols</div><i class="emojibtn" role="button" data-name=":heart:" title="Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2764.png"></i><i class="emojibtn" role="button" data-name=":yellow_heart:" title="Yellow Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f49b.png"></i><i class="emojibtn" role="button" data-name=":green_heart:" title="Green Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f49a.png"></i><i class="emojibtn" role="button" data-name=":blue_heart:" title="Blue Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f499.png"></i><i class="emojibtn" role="button" data-name=":purple_heart:" title="Purple Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f49c.png"></i><i class="emojibtn" role="button" data-name=":broken_heart:" title="Broken Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f494.png"></i><i class="emojibtn" role="button" data-name=":heart_exclamation:" title="Heart Exclamation"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2763.png"></i><i class="emojibtn" role="button" data-name=":two_hearts:" title="Two Hearts"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f495.png"></i><i class="emojibtn" role="button" data-name=":revolving_hearts:" title="Revolving Hearts"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f49e.png"></i><i class="emojibtn" role="button" data-name=":heartbeat:" title="Heartbeat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f493.png"></i><i class="emojibtn" role="button" data-name=":heartpulse:" title="Heartpulse"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f497.png"></i><i class="emojibtn" role="button" data-name=":sparkling_heart:" title="Sparkling Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f496.png"></i><i class="emojibtn" role="button" data-name=":cupid:" title="Cupid"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f498.png"></i><i class="emojibtn" role="button" data-name=":gift_heart:" title="Gift Heart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f49d.png"></i><i class="emojibtn" role="button" data-name=":heart_decoration:" title="Heart Decoration"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f49f.png"></i><i class="emojibtn" role="button" data-name=":peace:" title="Peace"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/262e.png"></i><i class="emojibtn" role="button" data-name=":cross:" title="Cross"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/271d.png"></i><i class="emojibtn" role="button" data-name=":star_and_crescent:" title="Star And Crescent"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/262a.png"></i><i class="emojibtn" role="button" data-name=":om_symbol:" title="Om Symbol"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f549.png"></i><i class="emojibtn" role="button" data-name=":wheel_of_dharma:" title="Wheel Of Dharma"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2638.png"></i><i class="emojibtn" role="button" data-name=":star_of_david:" title="Star Of David"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2721.png"></i><i class="emojibtn" role="button" data-name=":six_pointed_star:" title="Six Pointed Star"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f52f.png"></i><i class="emojibtn" role="button" data-name=":menorah:" title="Menorah"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f54e.png"></i><i class="emojibtn" role="button" data-name=":yin_yang:" title="Yin Yang"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/262f.png"></i><i class="emojibtn" role="button" data-name=":orthodox_cross:" title="Orthodox Cross"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2626.png"></i><i class="emojibtn" role="button" data-name=":place_of_worship:" title="Place Of Worship"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6d0.png"></i><i class="emojibtn" role="button" data-name=":ophiuchus:" title="Ophiuchus"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26ce.png"></i><i class="emojibtn" role="button" data-name=":aries:" title="Aries"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2648.png"></i><i class="emojibtn" role="button" data-name=":taurus:" title="Taurus"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2649.png"></i><i class="emojibtn" role="button" data-name=":gemini:" title="Gemini"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/264a.png"></i><i class="emojibtn" role="button" data-name=":cancer:" title="Cancer"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/264b.png"></i><i class="emojibtn" role="button" data-name=":leo:" title="Leo"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/264c.png"></i><i class="emojibtn" role="button" data-name=":virgo:" title="Virgo"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/264d.png"></i><i class="emojibtn" role="button" data-name=":libra:" title="Libra"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/264e.png"></i><i class="emojibtn" role="button" data-name=":scorpius:" title="Scorpius"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/264f.png"></i><i class="emojibtn" role="button" data-name=":sagittarius:" title="Sagittarius"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2650.png"></i><i class="emojibtn" role="button" data-name=":capricorn:" title="Capricorn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2651.png"></i><i class="emojibtn" role="button" data-name=":aquarius:" title="Aquarius"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2652.png"></i><i class="emojibtn" role="button" data-name=":pisces:" title="Pisces"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2653.png"></i><i class="emojibtn" role="button" data-name=":id:" title="Id"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f194.png"></i><i class="emojibtn" role="button" data-name=":atom:" title="Atom"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/269b.png"></i><i class="emojibtn" role="button" data-name=":u7a7a:" title="U7a7a"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f233.png"></i><i class="emojibtn" role="button" data-name=":u5272:" title="U5272"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f239.png"></i><i class="emojibtn" role="button" data-name=":radioactive:" title="Radioactive"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2622.png"></i><i class="emojibtn" role="button" data-name=":biohazard:" title="Biohazard"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2623.png"></i><i class="emojibtn" role="button" data-name=":mobile_phone_off:" title="Mobile Phone Off"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f4.png"></i><i class="emojibtn" role="button" data-name=":vibration_mode:" title="Vibration Mode"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f3.png"></i><i class="emojibtn" role="button" data-name=":u6709:" title="U6709"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f236.png"></i><i class="emojibtn" role="button" data-name=":u7121:" title="U7121"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f21a.png"></i><i class="emojibtn" role="button" data-name=":u7533:" title="U7533"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f238.png"></i><i class="emojibtn" role="button" data-name=":u55b6:" title="U55b6"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f23a.png"></i><i class="emojibtn" role="button" data-name=":u6708:" title="U6708"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f237.png"></i><i class="emojibtn" role="button" data-name=":eight_pointed_black_star:" title="Eight Pointed Black Star"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2734.png"></i><i class="emojibtn" role="button" data-name=":vs:" title="Vs"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f19a.png"></i><i class="emojibtn" role="button" data-name=":accept:" title="Accept"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f251.png"></i><i class="emojibtn" role="button" data-name=":white_flower:" title="White Flower"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ae.png"></i><i class="emojibtn" role="button" data-name=":ideograph_advantage:" title="Ideograph Advantage"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f250.png"></i><i class="emojibtn" role="button" data-name=":secret:" title="Secret"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/3299.png"></i><i class="emojibtn" role="button" data-name=":congratulations:" title="Congratulations"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/3297.png"></i><i class="emojibtn" role="button" data-name=":u5408:" title="U5408"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f234.png"></i><i class="emojibtn" role="button" data-name=":u6e80:" title="U6e80"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f235.png"></i><i class="emojibtn" role="button" data-name=":u7981:" title="U7981"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f232.png"></i><i class="emojibtn" role="button" data-name=":a:" title="A"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f170.png"></i><i class="emojibtn" role="button" data-name=":b:" title="B"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f171.png"></i><i class="emojibtn" role="button" data-name=":ab:" title="Ab"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f18e.png"></i><i class="emojibtn" role="button" data-name=":cl:" title="Cl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f191.png"></i><i class="emojibtn" role="button" data-name=":o2:" title="O2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f17e.png"></i><i class="emojibtn" role="button" data-name=":sos:" title="Sos"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f198.png"></i><i class="emojibtn" role="button" data-name=":no_entry:" title="No Entry"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26d4.png"></i><i class="emojibtn" role="button" data-name=":name_badge:" title="Name Badge"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4db.png"></i><i class="emojibtn" role="button" data-name=":no_entry_sign:" title="No Entry Sign"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6ab.png"></i><i class="emojibtn" role="button" data-name=":x:" title="X"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/274c.png"></i><i class="emojibtn" role="button" data-name=":o:" title="O"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2b55.png"></i><i class="emojibtn" role="button" data-name=":anger:" title="Anger"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a2.png"></i><i class="emojibtn" role="button" data-name=":hotsprings:" title="Hotsprings"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2668.png"></i><i class="emojibtn" role="button" data-name=":no_pedestrians:" title="No Pedestrians"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b7.png"></i><i class="emojibtn" role="button" data-name=":do_not_litter:" title="Do Not Litter"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6af.png"></i><i class="emojibtn" role="button" data-name=":no_bicycles:" title="No Bicycles"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b3.png"></i><i class="emojibtn" role="button" data-name=":non-potable_water:" title="Non-potable Water"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b1.png"></i><i class="emojibtn" role="button" data-name=":underage:" title="Underage"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f51e.png"></i><i class="emojibtn" role="button" data-name=":no_mobile_phones:" title="No Mobile Phones"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f5.png"></i><i class="emojibtn" role="button" data-name=":exclamation:" title="Exclamation"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2757.png"></i><i class="emojibtn" role="button" data-name=":grey_exclamation:" title="Grey Exclamation"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2755.png"></i><i class="emojibtn" role="button" data-name=":question:" title="Question"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2753.png"></i><i class="emojibtn" role="button" data-name=":grey_question:" title="Grey Question"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2754.png"></i><i class="emojibtn" role="button" data-name=":bangbang:" title="Bangbang"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/203c.png"></i><i class="emojibtn" role="button" data-name=":interrobang:" title="Interrobang"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2049.png"></i><i class="emojibtn" role="button" data-name=":100:" title="100"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4af.png"></i><i class="emojibtn" role="button" data-name=":low_brightness:" title="Low Brightness"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f505.png"></i><i class="emojibtn" role="button" data-name=":high_brightness:" title="High Brightness"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f506.png"></i><i class="emojibtn" role="button" data-name=":trident:" title="Trident"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f531.png"></i><i class="emojibtn" role="button" data-name=":fleur-de-lis:" title="Fleur-de-lis"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/269c.png"></i><i class="emojibtn" role="button" data-name=":part_alternation_mark:" title="Part Alternation Mark"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/303d.png"></i><i class="emojibtn" role="button" data-name=":warning:" title="Warning"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26a0.png"></i><i class="emojibtn" role="button" data-name=":children_crossing:" title="Children Crossing"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b8.png"></i><i class="emojibtn" role="button" data-name=":beginner:" title="Beginner"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f530.png"></i><i class="emojibtn" role="button" data-name=":recycle:" title="Recycle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/267b.png"></i><i class="emojibtn" role="button" data-name=":u6307:" title="U6307"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f22f.png"></i><i class="emojibtn" role="button" data-name=":chart:" title="Chart"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b9.png"></i><i class="emojibtn" role="button" data-name=":sparkle:" title="Sparkle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2747.png"></i><i class="emojibtn" role="button" data-name=":eight_spoked_asterisk:" title="Eight Spoked Asterisk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2733.png"></i><i class="emojibtn" role="button" data-name=":negative_squared_cross_mark:" title="Negative Squared Cross Mark"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/274e.png"></i><i class="emojibtn" role="button" data-name=":white_check_mark:" title="White Check Mark"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2705.png"></i><i class="emojibtn" role="button" data-name=":diamond_shape_with_a_dot_inside:" title="Diamond Shape With A Dot Inside"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4a0.png"></i><i class="emojibtn" role="button" data-name=":cyclone:" title="Cyclone"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f300.png"></i><i class="emojibtn" role="button" data-name=":loop:" title="Loop"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/27bf.png"></i><i class="emojibtn" role="button" data-name=":globe_with_meridians:" title="Globe With Meridians"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f310.png"></i><i class="emojibtn" role="button" data-name=":m:" title="M"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/24c2.png"></i><i class="emojibtn" role="button" data-name=":atm:" title="Atm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3e7.png"></i><i class="emojibtn" role="button" data-name=":sa:" title="Sa"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f202.png"></i><i class="emojibtn" role="button" data-name=":passport_control:" title="Passport Control"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c2.png"></i><i class="emojibtn" role="button" data-name=":customs:" title="Customs"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c3.png"></i><i class="emojibtn" role="button" data-name=":baggage_claim:" title="Baggage Claim"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c4.png"></i><i class="emojibtn" role="button" data-name=":left_luggage:" title="Left Luggage"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c5.png"></i><i class="emojibtn" role="button" data-name=":wheelchair:" title="Wheelchair"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/267f.png"></i><i class="emojibtn" role="button" data-name=":no_smoking:" title="No Smoking"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6ad.png"></i><i class="emojibtn" role="button" data-name=":wc:" title="Wc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6be.png"></i><i class="emojibtn" role="button" data-name=":parking:" title="Parking"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f17f.png"></i><i class="emojibtn" role="button" data-name=":potable_water:" title="Potable Water"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b0.png"></i><i class="emojibtn" role="button" data-name=":mens:" title="Mens"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b9.png"></i><i class="emojibtn" role="button" data-name=":womens:" title="Womens"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6ba.png"></i><i class="emojibtn" role="button" data-name=":baby_symbol:" title="Baby Symbol"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6bc.png"></i><i class="emojibtn" role="button" data-name=":restroom:" title="Restroom"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6bb.png"></i><i class="emojibtn" role="button" data-name=":put_litter_in_its_place:" title="Put Litter In Its Place"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6ae.png"></i><i class="emojibtn" role="button" data-name=":cinema:" title="Cinema"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3a6.png"></i><i class="emojibtn" role="button" data-name=":signal_strength:" title="Signal Strength"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4f6.png"></i><i class="emojibtn" role="button" data-name=":koko:" title="Koko"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f201.png"></i><i class="emojibtn" role="button" data-name=":ng:" title="Ng"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f196.png"></i><i class="emojibtn" role="button" data-name=":ok:" title="Ok"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f197.png"></i><i class="emojibtn" role="button" data-name=":up:" title="Up"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f199.png"></i><i class="emojibtn" role="button" data-name=":cool:" title="Cool"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f192.png"></i><i class="emojibtn" role="button" data-name=":new:" title="New"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f195.png"></i><i class="emojibtn" role="button" data-name=":free:" title="Free"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f193.png"></i><i class="emojibtn" role="button" data-name=":zero:" title="Zero"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0030-20e3.png"></i><i class="emojibtn" role="button" data-name=":one:" title="One"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0031-20e3.png"></i><i class="emojibtn" role="button" data-name=":two:" title="Two"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0032-20e3.png"></i><i class="emojibtn" role="button" data-name=":three:" title="Three"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0033-20e3.png"></i><i class="emojibtn" role="button" data-name=":four:" title="Four"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0034-20e3.png"></i><i class="emojibtn" role="button" data-name=":five:" title="Five"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0035-20e3.png"></i><i class="emojibtn" role="button" data-name=":six:" title="Six"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0036-20e3.png"></i><i class="emojibtn" role="button" data-name=":seven:" title="Seven"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0037-20e3.png"></i><i class="emojibtn" role="button" data-name=":eight:" title="Eight"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0038-20e3.png"></i><i class="emojibtn" role="button" data-name=":nine:" title="Nine"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0039-20e3.png"></i><i class="emojibtn" role="button" data-name=":1234:" title="1234"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f522.png"></i><i class="emojibtn" role="button" data-name=":arrow_forward:" title="Arrow Forward"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/25b6.png"></i><i class="emojibtn" role="button" data-name=":pause_button:" title="Pause Button"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23f8.png"></i><i class="emojibtn" role="button" data-name=":play_pause:" title="Play Pause"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23ef.png"></i><i class="emojibtn" role="button" data-name=":stop_button:" title="Stop Button"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23f9.png"></i><i class="emojibtn" role="button" data-name=":record_button:" title="Record Button"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23fa.png"></i><i class="emojibtn" role="button" data-name=":track_next:" title="Track Next"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23ed.png"></i><i class="emojibtn" role="button" data-name=":track_previous:" title="Track Previous"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23ee.png"></i><i class="emojibtn" role="button" data-name=":fast_forward:" title="Fast Forward"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23e9.png"></i><i class="emojibtn" role="button" data-name=":rewind:" title="Rewind"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23ea.png"></i><i class="emojibtn" role="button" data-name=":twisted_rightwards_arrows:" title="Twisted Rightwards Arrows"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f500.png"></i><i class="emojibtn" role="button" data-name=":repeat:" title="Repeat"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f501.png"></i><i class="emojibtn" role="button" data-name=":repeat_one:" title="Repeat One"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f502.png"></i><i class="emojibtn" role="button" data-name=":arrow_backward:" title="Arrow Backward"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/25c0.png"></i><i class="emojibtn" role="button" data-name=":arrow_up_small:" title="Arrow Up Small"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f53c.png"></i><i class="emojibtn" role="button" data-name=":arrow_down_small:" title="Arrow Down Small"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f53d.png"></i><i class="emojibtn" role="button" data-name=":arrow_double_up:" title="Arrow Double Up"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23eb.png"></i><i class="emojibtn" role="button" data-name=":arrow_double_down:" title="Arrow Double Down"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/23ec.png"></i><i class="emojibtn" role="button" data-name=":arrow_right:" title="Arrow Right"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/27a1.png"></i><i class="emojibtn" role="button" data-name=":arrow_left:" title="Arrow Left"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2b05.png"></i><i class="emojibtn" role="button" data-name=":arrow_up:" title="Arrow Up"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2b06.png"></i><i class="emojibtn" role="button" data-name=":arrow_down:" title="Arrow Down"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2b07.png"></i><i class="emojibtn" role="button" data-name=":arrow_upper_right:" title="Arrow Upper Right"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2197.png"></i><i class="emojibtn" role="button" data-name=":arrow_lower_right:" title="Arrow Lower Right"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2198.png"></i><i class="emojibtn" role="button" data-name=":arrow_lower_left:" title="Arrow Lower Left"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2199.png"></i><i class="emojibtn" role="button" data-name=":arrow_upper_left:" title="Arrow Upper Left"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2196.png"></i><i class="emojibtn" role="button" data-name=":arrow_up_down:" title="Arrow Up Down"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2195.png"></i><i class="emojibtn" role="button" data-name=":left_right_arrow:" title="Left Right Arrow"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2194.png"></i><i class="emojibtn" role="button" data-name=":arrows_counterclockwise:" title="Arrows Counterclockwise"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f504.png"></i><i class="emojibtn" role="button" data-name=":arrow_right_hook:" title="Arrow Right Hook"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/21aa.png"></i><i class="emojibtn" role="button" data-name=":leftwards_arrow_with_hook:" title="Leftwards Arrow With Hook"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/21a9.png"></i><i class="emojibtn" role="button" data-name=":arrow_heading_up:" title="Arrow Heading Up"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2934.png"></i><i class="emojibtn" role="button" data-name=":arrow_heading_down:" title="Arrow Heading Down"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2935.png"></i><i class="emojibtn" role="button" data-name=":hash:" title="Hash"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/0023-20e3.png"></i><i class="emojibtn" role="button" data-name=":asterisk:" title="Asterisk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/002a-20e3.png"></i><i class="emojibtn" role="button" data-name=":information_source:" title="Information Source"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2139.png"></i><i class="emojibtn" role="button" data-name=":abc:" title="Abc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f524.png"></i><i class="emojibtn" role="button" data-name=":abcd:" title="Abcd"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f521.png"></i><i class="emojibtn" role="button" data-name=":capital_abcd:" title="Capital Abcd"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f520.png"></i><i class="emojibtn" role="button" data-name=":symbols:" title="Symbols"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f523.png"></i><i class="emojibtn" role="button" data-name=":musical_note:" title="Musical Note"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b5.png"></i><i class="emojibtn" role="button" data-name=":notes:" title="Notes"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b6.png"></i><i class="emojibtn" role="button" data-name=":wavy_dash:" title="Wavy Dash"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/3030.png"></i><i class="emojibtn" role="button" data-name=":curly_loop:" title="Curly Loop"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/27b0.png"></i><i class="emojibtn" role="button" data-name=":heavy_check_mark:" title="Heavy Check Mark"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2714.png"></i><i class="emojibtn" role="button" data-name=":arrows_clockwise:" title="Arrows Clockwise"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f503.png"></i><i class="emojibtn" role="button" data-name=":heavy_plus_sign:" title="Heavy Plus Sign"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2795.png"></i><i class="emojibtn" role="button" data-name=":heavy_minus_sign:" title="Heavy Minus Sign"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2796.png"></i><i class="emojibtn" role="button" data-name=":heavy_division_sign:" title="Heavy Division Sign"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2797.png"></i><i class="emojibtn" role="button" data-name=":heavy_multiplication_x:" title="Heavy Multiplication X"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2716.png"></i><i class="emojibtn" role="button" data-name=":heavy_dollar_sign:" title="Heavy Dollar Sign"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b2.png"></i><i class="emojibtn" role="button" data-name=":currency_exchange:" title="Currency Exchange"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4b1.png"></i><i class="emojibtn" role="button" data-name=":copyright:" title="Copyright"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/00a9.png"></i><i class="emojibtn" role="button" data-name=":registered:" title="Registered"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/00ae.png"></i><i class="emojibtn" role="button" data-name=":tm:" title="Tm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2122.png"></i><i class="emojibtn" role="button" data-name=":end:" title="End"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f51a.png"></i><i class="emojibtn" role="button" data-name=":back:" title="Back"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f519.png"></i><i class="emojibtn" role="button" data-name=":on:" title="On"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f51b.png"></i><i class="emojibtn" role="button" data-name=":top:" title="Top"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f51d.png"></i><i class="emojibtn" role="button" data-name=":soon:" title="Soon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f51c.png"></i><i class="emojibtn" role="button" data-name=":ballot_box_with_check:" title="Ballot Box With Check"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2611.png"></i><i class="emojibtn" role="button" data-name=":radio_button:" title="Radio Button"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f518.png"></i><i class="emojibtn" role="button" data-name=":white_circle:" title="White Circle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26aa.png"></i><i class="emojibtn" role="button" data-name=":black_circle:" title="Black Circle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26ab.png"></i><i class="emojibtn" role="button" data-name=":red_circle:" title="Red Circle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f534.png"></i><i class="emojibtn" role="button" data-name=":small_orange_diamond:" title="Small Orange Diamond"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f538.png"></i><i class="emojibtn" role="button" data-name=":small_blue_diamond:" title="Small Blue Diamond"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f539.png"></i><i class="emojibtn" role="button" data-name=":large_orange_diamond:" title="Large Orange Diamond"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f536.png"></i><i class="emojibtn" role="button" data-name=":large_blue_diamond:" title="Large Blue Diamond"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f537.png"></i><i class="emojibtn" role="button" data-name=":small_red_triangle:" title="Small Red Triangle"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f53a.png"></i><i class="emojibtn" role="button" data-name=":black_small_square:" title="Black Small Square"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/25aa.png"></i><i class="emojibtn" role="button" data-name=":white_small_square:" title="White Small Square"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/25ab.png"></i><i class="emojibtn" role="button" data-name=":black_large_square:" title="Black Large Square"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2b1b.png"></i><i class="emojibtn" role="button" data-name=":white_large_square:" title="White Large Square"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2b1c.png"></i><i class="emojibtn" role="button" data-name=":small_red_triangle_down:" title="Small Red Triangle Down"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f53b.png"></i><i class="emojibtn" role="button" data-name=":black_medium_square:" title="Black Medium Square"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/25fc.png"></i><i class="emojibtn" role="button" data-name=":white_medium_square:" title="White Medium Square"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/25fb.png"></i><i class="emojibtn" role="button" data-name=":black_medium_small_square:" title="Black Medium Small Square"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/25fe.png"></i><i class="emojibtn" role="button" data-name=":white_medium_small_square:" title="White Medium Small Square"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/25fd.png"></i><i class="emojibtn" role="button" data-name=":black_square_button:" title="Black Square Button"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f532.png"></i><i class="emojibtn" role="button" data-name=":white_square_button:" title="White Square Button"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f533.png"></i><i class="emojibtn" role="button" data-name=":speaker:" title="Speaker"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f508.png"></i><i class="emojibtn" role="button" data-name=":sound:" title="Sound"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f509.png"></i><i class="emojibtn" role="button" data-name=":loud_sound:" title="Loud Sound"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f50a.png"></i><i class="emojibtn" role="button" data-name=":mute:" title="Mute"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f507.png"></i><i class="emojibtn" role="button" data-name=":mega:" title="Mega"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e3.png"></i><i class="emojibtn" role="button" data-name=":loudspeaker:" title="Loudspeaker"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4e2.png"></i><i class="emojibtn" role="button" data-name=":bell:" title="Bell"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f514.png"></i><i class="emojibtn" role="button" data-name=":no_bell:" title="No Bell"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f515.png"></i><i class="emojibtn" role="button" data-name=":black_joker:" title="Black Joker"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f0cf.png"></i><i class="emojibtn" role="button" data-name=":mahjong:" title="Mahjong"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f004.png"></i><i class="emojibtn" role="button" data-name=":spades:" title="Spades"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2660.png"></i><i class="emojibtn" role="button" data-name=":clubs:" title="Clubs"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2663.png"></i><i class="emojibtn" role="button" data-name=":hearts:" title="Hearts"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2665.png"></i><i class="emojibtn" role="button" data-name=":diamonds:" title="Diamonds"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/2666.png"></i><i class="emojibtn" role="button" data-name=":flower_playing_cards:" title="Flower Playing Cards"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3b4.png"></i><i class="emojibtn" role="button" data-name=":thought_balloon:" title="Thought Balloon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ad.png"></i><i class="emojibtn" role="button" data-name=":anger_right:" title="Anger Right"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f5ef.png"></i><i class="emojibtn" role="button" data-name=":speech_balloon:" title="Speech Balloon"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4ac.png"></i><i class="emojibtn" role="button" data-name=":clock1:" title="Clock1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f550.png"></i><i class="emojibtn" role="button" data-name=":clock2:" title="Clock2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f551.png"></i><i class="emojibtn" role="button" data-name=":clock3:" title="Clock3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f552.png"></i><i class="emojibtn" role="button" data-name=":clock4:" title="Clock4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f553.png"></i><i class="emojibtn" role="button" data-name=":clock5:" title="Clock5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f554.png"></i><i class="emojibtn" role="button" data-name=":clock6:" title="Clock6"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f555.png"></i><i class="emojibtn" role="button" data-name=":clock7:" title="Clock7"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f556.png"></i><i class="emojibtn" role="button" data-name=":clock8:" title="Clock8"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f557.png"></i><i class="emojibtn" role="button" data-name=":clock9:" title="Clock9"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f558.png"></i><i class="emojibtn" role="button" data-name=":clock10:" title="Clock10"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f559.png"></i><i class="emojibtn" role="button" data-name=":clock11:" title="Clock11"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f55a.png"></i><i class="emojibtn" role="button" data-name=":clock12:" title="Clock12"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f55b.png"></i><i class="emojibtn" role="button" data-name=":clock130:" title="Clock130"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f55c.png"></i><i class="emojibtn" role="button" data-name=":clock230:" title="Clock230"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f55d.png"></i><i class="emojibtn" role="button" data-name=":clock330:" title="Clock330"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f55e.png"></i><i class="emojibtn" role="button" data-name=":clock430:" title="Clock430"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f55f.png"></i><i class="emojibtn" role="button" data-name=":clock530:" title="Clock530"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f560.png"></i><i class="emojibtn" role="button" data-name=":clock630:" title="Clock630"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f561.png"></i><i class="emojibtn" role="button" data-name=":clock730:" title="Clock730"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f562.png"></i><i class="emojibtn" role="button" data-name=":clock830:" title="Clock830"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f563.png"></i><i class="emojibtn" role="button" data-name=":clock930:" title="Clock930"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f564.png"></i><i class="emojibtn" role="button" data-name=":clock1030:" title="Clock1030"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f565.png"></i><i class="emojibtn" role="button" data-name=":clock1130:" title="Clock1130"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f566.png"></i><i class="emojibtn" role="button" data-name=":clock1230:" title="Clock1230"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f567.png"></i><i class="emojibtn" role="button" data-name=":eye_in_speech_bubble:" title="Eye In Speech Bubble"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f441-1f5e8.png"></i></div><div class="emojionearea-category" name="flags" data-tone="0"><div class="emojionearea-category-title">Flags</div><i class="emojibtn" role="button" data-name=":ac:" title="Ac"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1e8.png"></i><i class="emojibtn" role="button" data-name=":af:" title="Af"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1eb.png"></i><i class="emojibtn" role="button" data-name=":al:" title="Al"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":dz:" title="Dz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e9-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":ad:" title="Ad"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1e9.png"></i><i class="emojibtn" role="button" data-name=":ao:" title="Ao"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":ai:" title="Ai"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":ag:" title="Ag"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":ar:" title="Ar"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":am:" title="Am"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":aw:" title="Aw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":au:" title="Au"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":at:" title="At"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":az:" title="Az"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":bs:" title="Bs"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":bh:" title="Bh"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1ed.png"></i><i class="emojibtn" role="button" data-name=":bd:" title="Bd"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1e9.png"></i><i class="emojibtn" role="button" data-name=":bb:" title="Bb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1e7.png"></i><i class="emojibtn" role="button" data-name=":by:" title="By"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1fe.png"></i><i class="emojibtn" role="button" data-name=":be:" title="Be"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":bz:" title="Bz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":bj:" title="Bj"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1ef.png"></i><i class="emojibtn" role="button" data-name=":bm:" title="Bm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":bt:" title="Bt"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":bo:" title="Bo"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":ba:" title="Ba"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":bw:" title="Bw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":br:" title="Br"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":bn:" title="Bn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":bg:" title="Bg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":bf:" title="Bf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1eb.png"></i><i class="emojibtn" role="button" data-name=":bi:" title="Bi"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":cv:" title="Cv"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1fb.png"></i><i class="emojibtn" role="button" data-name=":kh:" title="Kh"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1ed.png"></i><i class="emojibtn" role="button" data-name=":cm:" title="Cm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":ca:" title="Ca"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":ky:" title="Ky"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1fe.png"></i><i class="emojibtn" role="button" data-name=":cf:" title="Cf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1eb.png"></i><i class="emojibtn" role="button" data-name=":td:" title="Td"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1e9.png"></i><i class="emojibtn" role="button" data-name=":flag_cl:" title="Flag Cl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":cn:" title="Cn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":co:" title="Co"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":km:" title="Km"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":cg:" title="Cg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":flag_cd:" title="Flag Cd"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1e9.png"></i><i class="emojibtn" role="button" data-name=":cr:" title="Cr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":hr:" title="Hr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ed-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":cu:" title="Cu"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":cy:" title="Cy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1fe.png"></i><i class="emojibtn" role="button" data-name=":cz:" title="Cz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":dk:" title="Dk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e9-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":dj:" title="Dj"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e9-1f1ef.png"></i><i class="emojibtn" role="button" data-name=":dm:" title="Dm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e9-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":do:" title="Do"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e9-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":ec:" title="Ec"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ea-1f1e8.png"></i><i class="emojibtn" role="button" data-name=":eg:" title="Eg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ea-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":sv:" title="Sv"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1fb.png"></i><i class="emojibtn" role="button" data-name=":gq:" title="Gq"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1f6.png"></i><i class="emojibtn" role="button" data-name=":er:" title="Er"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ea-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":ee:" title="Ee"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ea-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":et:" title="Et"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ea-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":fk:" title="Fk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1eb-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":fo:" title="Fo"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1eb-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":fj:" title="Fj"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1eb-1f1ef.png"></i><i class="emojibtn" role="button" data-name=":fi:" title="Fi"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1eb-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":fr:" title="Fr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1eb-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":pf:" title="Pf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1eb.png"></i><i class="emojibtn" role="button" data-name=":ga:" title="Ga"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":gm:" title="Gm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":ge:" title="Ge"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":de:" title="De"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e9-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":gh:" title="Gh"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1ed.png"></i><i class="emojibtn" role="button" data-name=":gi:" title="Gi"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":gr:" title="Gr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":gl:" title="Gl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":gd:" title="Gd"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1e9.png"></i><i class="emojibtn" role="button" data-name=":gu:" title="Gu"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":gt:" title="Gt"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":gn:" title="Gn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":gw:" title="Gw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":gy:" title="Gy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1fe.png"></i><i class="emojibtn" role="button" data-name=":ht:" title="Ht"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ed-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":hn:" title="Hn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ed-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":hk:" title="Hk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ed-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":hu:" title="Hu"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ed-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":is:" title="Is"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":in:" title="In"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":flag_id:" title="Flag Id"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1e9.png"></i><i class="emojibtn" role="button" data-name=":ir:" title="Ir"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":iq:" title="Iq"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1f6.png"></i><i class="emojibtn" role="button" data-name=":ie:" title="Ie"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":il:" title="Il"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":it:" title="It"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":ci:" title="Ci"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":jm:" title="Jm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ef-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":jp:" title="Jp"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ef-1f1f5.png"></i><i class="emojibtn" role="button" data-name=":je:" title="Je"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ef-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":jo:" title="Jo"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ef-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":kz:" title="Kz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":ke:" title="Ke"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":ki:" title="Ki"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":xk:" title="Xk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fd-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":kw:" title="Kw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":kg:" title="Kg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":la:" title="La"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":lv:" title="Lv"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1fb.png"></i><i class="emojibtn" role="button" data-name=":lb:" title="Lb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1e7.png"></i><i class="emojibtn" role="button" data-name=":ls:" title="Ls"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":lr:" title="Lr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":ly:" title="Ly"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1fe.png"></i><i class="emojibtn" role="button" data-name=":li:" title="Li"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":lt:" title="Lt"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":lu:" title="Lu"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":mo:" title="Mo"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":mk:" title="Mk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":mg:" title="Mg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":mw:" title="Mw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":my:" title="My"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1fe.png"></i><i class="emojibtn" role="button" data-name=":mv:" title="Mv"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1fb.png"></i><i class="emojibtn" role="button" data-name=":ml:" title="Ml"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":mt:" title="Mt"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":mh:" title="Mh"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1ed.png"></i><i class="emojibtn" role="button" data-name=":mr:" title="Mr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":mu:" title="Mu"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":mx:" title="Mx"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1fd.png"></i><i class="emojibtn" role="button" data-name=":fm:" title="Fm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1eb-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":md:" title="Md"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1e9.png"></i><i class="emojibtn" role="button" data-name=":mc:" title="Mc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1e8.png"></i><i class="emojibtn" role="button" data-name=":mn:" title="Mn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":me:" title="Me"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":ms:" title="Ms"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":ma:" title="Ma"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":mz:" title="Mz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":mm:" title="Mm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":na:" title="Na"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":nr:" title="Nr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":np:" title="Np"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1f5.png"></i><i class="emojibtn" role="button" data-name=":nl:" title="Nl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":nc:" title="Nc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1e8.png"></i><i class="emojibtn" role="button" data-name=":nz:" title="Nz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":ni:" title="Ni"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":ne:" title="Ne"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":flag_ng:" title="Flag Ng"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":nu:" title="Nu"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":kp:" title="Kp"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1f5.png"></i><i class="emojibtn" role="button" data-name=":no:" title="No"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":om:" title="Om"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f4-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":pk:" title="Pk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":pw:" title="Pw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":ps:" title="Ps"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":pa:" title="Pa"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":pg:" title="Pg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":py:" title="Py"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1fe.png"></i><i class="emojibtn" role="button" data-name=":pe:" title="Pe"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":ph:" title="Ph"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1ed.png"></i><i class="emojibtn" role="button" data-name=":pl:" title="Pl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":pt:" title="Pt"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":pr:" title="Pr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":qa:" title="Qa"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f6-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":ro:" title="Ro"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f7-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":ru:" title="Ru"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f7-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":rw:" title="Rw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f7-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":sh:" title="Sh"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1ed.png"></i><i class="emojibtn" role="button" data-name=":kn:" title="Kn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":lc:" title="Lc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1e8.png"></i><i class="emojibtn" role="button" data-name=":vc:" title="Vc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fb-1f1e8.png"></i><i class="emojibtn" role="button" data-name=":ws:" title="Ws"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fc-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":sm:" title="Sm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":st:" title="St"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":flag_sa:" title="Flag Sa"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":sn:" title="Sn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":rs:" title="Rs"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f7-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":sc:" title="Sc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1e8.png"></i><i class="emojibtn" role="button" data-name=":sl:" title="Sl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":sg:" title="Sg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":sk:" title="Sk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":si:" title="Si"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":sb:" title="Sb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1e7.png"></i><i class="emojibtn" role="button" data-name=":so:" title="So"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":za:" title="Za"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ff-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":kr:" title="Kr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f0-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":es:" title="Es"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ea-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":lk:" title="Lk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f1-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":sd:" title="Sd"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1e9.png"></i><i class="emojibtn" role="button" data-name=":sr:" title="Sr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":sz:" title="Sz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":se:" title="Se"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":ch:" title="Ch"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1ed.png"></i><i class="emojibtn" role="button" data-name=":sy:" title="Sy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1fe.png"></i><i class="emojibtn" role="button" data-name=":tw:" title="Tw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":tj:" title="Tj"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1ef.png"></i><i class="emojibtn" role="button" data-name=":tz:" title="Tz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":th:" title="Th"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1ed.png"></i><i class="emojibtn" role="button" data-name=":tl:" title="Tl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":tg:" title="Tg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":to:" title="To"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":tt:" title="Tt"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":tn:" title="Tn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":tr:" title="Tr"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1f7.png"></i><i class="emojibtn" role="button" data-name=":flag_tm:" title="Flag Tm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":flag_tm:" title="Flag Tm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":ug:" title="Ug"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fa-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":ua:" title="Ua"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fa-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":ae:" title="Ae"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":gb:" title="Gb"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1e7.png"></i><i class="emojibtn" role="button" data-name=":us:" title="Us"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fa-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":vi:" title="Vi"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fb-1f1ee.png"></i><i class="emojibtn" role="button" data-name=":uy:" title="Uy"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fa-1f1fe.png"></i><i class="emojibtn" role="button" data-name=":uz:" title="Uz"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fa-1f1ff.png"></i><i class="emojibtn" role="button" data-name=":vu:" title="Vu"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fb-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":va:" title="Va"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fb-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":ve:" title="Ve"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fb-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":vn:" title="Vn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fb-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":wf:" title="Wf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fc-1f1eb.png"></i><i class="emojibtn" role="button" data-name=":eh:" title="Eh"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ea-1f1ed.png"></i><i class="emojibtn" role="button" data-name=":ye:" title="Ye"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fe-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":zm:" title="Zm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ff-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":zw:" title="Zw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ff-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":re:" title="Re"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f7-1f1ea.png"></i><i class="emojibtn" role="button" data-name=":ax:" title="Ax"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1fd.png"></i><i class="emojibtn" role="button" data-name=":ta:" title="Ta"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":io:" title="Io"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1f4.png"></i><i class="emojibtn" role="button" data-name=":bq:" title="Bq"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1f6.png"></i><i class="emojibtn" role="button" data-name=":cx:" title="Cx"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1fd.png"></i><i class="emojibtn" role="button" data-name=":cc:" title="Cc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1e8.png"></i><i class="emojibtn" role="button" data-name=":gg:" title="Gg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":im:" title="Im"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":yt:" title="Yt"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fe-1f1f9.png"></i><i class="emojibtn" role="button" data-name=":nf:" title="Nf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f3-1f1eb.png"></i><i class="emojibtn" role="button" data-name=":pn:" title="Pn"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1f3.png"></i><i class="emojibtn" role="button" data-name=":bl:" title="Bl"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1f1.png"></i><i class="emojibtn" role="button" data-name=":pm:" title="Pm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f5-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":gs:" title="Gs"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":tk:" title="Tk"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":bv:" title="Bv"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e7-1f1fb.png"></i><i class="emojibtn" role="button" data-name=":hm:" title="Hm"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ed-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":sj:" title="Sj"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1ef.png"></i><i class="emojibtn" role="button" data-name=":um:" title="Um"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fa-1f1f2.png"></i><i class="emojibtn" role="button" data-name=":ic:" title="Ic"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ee-1f1e8.png"></i><i class="emojibtn" role="button" data-name=":ea:" title="Ea"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ea-1f1e6.png"></i><i class="emojibtn" role="button" data-name=":cp:" title="Cp"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1f5.png"></i><i class="emojibtn" role="button" data-name=":dg:" title="Dg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e9-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":as:" title="As"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":aq:" title="Aq"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e6-1f1f6.png"></i><i class="emojibtn" role="button" data-name=":vg:" title="Vg"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1fb-1f1ec.png"></i><i class="emojibtn" role="button" data-name=":ck:" title="Ck"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1f0.png"></i><i class="emojibtn" role="button" data-name=":cw:" title="Cw"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1e8-1f1fc.png"></i><i class="emojibtn" role="button" data-name=":eu:" title="Eu"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ea-1f1fa.png"></i><i class="emojibtn" role="button" data-name=":gf:" title="Gf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1eb.png"></i><i class="emojibtn" role="button" data-name=":tf:" title="Tf"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1eb.png"></i><i class="emojibtn" role="button" data-name=":gp:" title="Gp"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1ec-1f1f5.png"></i><i class="emojibtn" role="button" data-name=":mq:" title="Mq"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f6.png"></i><i class="emojibtn" role="button" data-name=":mp:" title="Mp"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f2-1f1f5.png"></i><i class="emojibtn" role="button" data-name=":sx:" title="Sx"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1fd.png"></i><i class="emojibtn" role="button" data-name=":ss:" title="Ss"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f8-1f1f8.png"></i><i class="emojibtn" role="button" data-name=":tc:" title="Tc"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f1f9-1f1e8.png"></i></div></div><div class="emojionearea-category-block" name="tones" data-tone="5" style="display: none;"><div class="emojionearea-category-title">Diversity</div><i class="emojibtn" role="button" data-name=":santa_tone5:" title="Santa Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f385-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":runner_tone5:" title="Runner Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c3-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":surfer_tone5:" title="Surfer Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c4-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":swimmer_tone5:" title="Swimmer Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ca-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":lifter_tone5:" title="Lifter Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3cb-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":ear_tone5:" title="Ear Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f442-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":nose_tone5:" title="Nose Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f443-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":point_up_2_tone5:" title="Point Up 2 Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f446-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":point_down_tone5:" title="Point Down Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f447-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":point_left_tone5:" title="Point Left Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f448-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":point_right_tone5:" title="Point Right Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f449-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":punch_tone5:" title="Punch Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44a-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":wave_tone5:" title="Wave Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44b-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":ok_hand_tone5:" title="Ok Hand Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44c-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":thumbsup_tone5:" title="Thumbsup Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44d-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":thumbsdown_tone5:" title="Thumbsdown Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44e-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":clap_tone5:" title="Clap Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44f-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":open_hands_tone5:" title="Open Hands Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f450-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":boy_tone5:" title="Boy Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f466-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":girl_tone5:" title="Girl Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f467-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":man_tone5:" title="Man Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":woman_tone5:" title="Woman Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":cop_tone5:" title="Cop Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46e-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":bride_with_veil_tone5:" title="Bride With Veil Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f470-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":person_with_blond_hair_tone5:" title="Person With Blond Hair Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f471-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":man_with_gua_pi_mao_tone5:" title="Man With Gua Pi Mao Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f472-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":man_with_turban_tone5:" title="Man With Turban Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f473-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":older_man_tone5:" title="Older Man Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f474-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":grandma_tone5:" title="Grandma Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f475-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":baby_tone5:" title="Baby Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f476-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":construction_worker_tone5:" title="Construction Worker Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f477-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":princess_tone5:" title="Princess Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f478-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":angel_tone5:" title="Angel Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47c-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":information_desk_person_tone5:" title="Information Desk Person Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f481-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":guardsman_tone5:" title="Guardsman Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f482-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":dancer_tone5:" title="Dancer Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f483-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":nail_care_tone5:" title="Nail Care Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f485-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":massage_tone5:" title="Massage Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f486-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":haircut_tone5:" title="Haircut Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f487-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":muscle_tone5:" title="Muscle Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4aa-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":spy_tone5:" title="Spy Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f575-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":hand_splayed_tone5:" title="Hand Splayed Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f590-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":middle_finger_tone5:" title="Middle Finger Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f595-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":vulcan_tone5:" title="Vulcan Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f596-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":no_good_tone5:" title="No Good Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f645-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":ok_woman_tone5:" title="Ok Woman Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f646-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":bow_tone5:" title="Bow Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f647-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":raising_hand_tone5:" title="Raising Hand Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64b-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":raised_hands_tone5:" title="Raised Hands Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64c-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":person_frowning_tone5:" title="Person Frowning Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64d-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":person_with_pouting_face_tone5:" title="Person With Pouting Face Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64e-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":pray_tone5:" title="Pray Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64f-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":rowboat_tone5:" title="Rowboat Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a3-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":bicyclist_tone5:" title="Bicyclist Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b4-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":mountain_bicyclist_tone5:" title="Mountain Bicyclist Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b5-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":walking_tone5:" title="Walking Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b6-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":bath_tone5:" title="Bath Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c0-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":metal_tone5:" title="Metal Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f918-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":point_up_tone5:" title="Point Up Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/261d-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":basketball_player_tone5:" title="Basketball Player Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f9-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":fist_tone5:" title="Fist Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270a-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":raised_hand_tone5:" title="Raised Hand Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270b-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":v_tone5:" title="V Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270c-1f3ff.png"></i><i class="emojibtn" role="button" data-name=":writing_hand_tone5:" title="Writing Hand Tone5"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270d-1f3ff.png"></i></div><div class="emojionearea-category-block" name="tones" data-tone="4" style="display: none;"><div class="emojionearea-category-title">Diversity</div><i class="emojibtn" role="button" data-name=":santa_tone4:" title="Santa Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f385-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":runner_tone4:" title="Runner Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c3-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":surfer_tone4:" title="Surfer Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c4-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":swimmer_tone4:" title="Swimmer Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ca-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":lifter_tone4:" title="Lifter Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3cb-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":ear_tone4:" title="Ear Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f442-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":nose_tone4:" title="Nose Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f443-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":point_up_2_tone4:" title="Point Up 2 Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f446-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":point_down_tone4:" title="Point Down Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f447-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":point_left_tone4:" title="Point Left Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f448-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":point_right_tone4:" title="Point Right Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f449-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":punch_tone4:" title="Punch Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44a-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":wave_tone4:" title="Wave Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44b-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":ok_hand_tone4:" title="Ok Hand Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44c-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":thumbsup_tone4:" title="Thumbsup Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44d-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":thumbsdown_tone4:" title="Thumbsdown Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44e-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":clap_tone4:" title="Clap Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44f-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":open_hands_tone4:" title="Open Hands Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f450-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":boy_tone4:" title="Boy Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f466-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":girl_tone4:" title="Girl Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f467-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":man_tone4:" title="Man Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":woman_tone4:" title="Woman Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":cop_tone4:" title="Cop Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46e-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":bride_with_veil_tone4:" title="Bride With Veil Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f470-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":person_with_blond_hair_tone4:" title="Person With Blond Hair Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f471-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":man_with_gua_pi_mao_tone4:" title="Man With Gua Pi Mao Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f472-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":man_with_turban_tone4:" title="Man With Turban Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f473-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":older_man_tone4:" title="Older Man Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f474-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":grandma_tone4:" title="Grandma Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f475-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":baby_tone4:" title="Baby Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f476-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":construction_worker_tone4:" title="Construction Worker Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f477-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":princess_tone4:" title="Princess Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f478-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":angel_tone4:" title="Angel Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47c-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":information_desk_person_tone4:" title="Information Desk Person Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f481-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":guardsman_tone4:" title="Guardsman Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f482-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":dancer_tone4:" title="Dancer Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f483-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":nail_care_tone4:" title="Nail Care Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f485-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":massage_tone4:" title="Massage Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f486-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":haircut_tone4:" title="Haircut Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f487-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":muscle_tone4:" title="Muscle Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4aa-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":spy_tone4:" title="Spy Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f575-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":hand_splayed_tone4:" title="Hand Splayed Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f590-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":middle_finger_tone4:" title="Middle Finger Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f595-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":vulcan_tone4:" title="Vulcan Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f596-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":no_good_tone4:" title="No Good Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f645-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":ok_woman_tone4:" title="Ok Woman Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f646-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":bow_tone4:" title="Bow Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f647-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":raising_hand_tone4:" title="Raising Hand Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64b-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":raised_hands_tone4:" title="Raised Hands Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64c-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":person_frowning_tone4:" title="Person Frowning Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64d-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":person_with_pouting_face_tone4:" title="Person With Pouting Face Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64e-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":pray_tone4:" title="Pray Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64f-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":rowboat_tone4:" title="Rowboat Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a3-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":bicyclist_tone4:" title="Bicyclist Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b4-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":mountain_bicyclist_tone4:" title="Mountain Bicyclist Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b5-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":walking_tone4:" title="Walking Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b6-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":bath_tone4:" title="Bath Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c0-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":metal_tone4:" title="Metal Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f918-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":point_up_tone4:" title="Point Up Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/261d-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":basketball_player_tone4:" title="Basketball Player Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f9-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":fist_tone4:" title="Fist Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270a-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":raised_hand_tone4:" title="Raised Hand Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270b-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":v_tone4:" title="V Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270c-1f3fe.png"></i><i class="emojibtn" role="button" data-name=":writing_hand_tone4:" title="Writing Hand Tone4"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270d-1f3fe.png"></i></div><div class="emojionearea-category-block" name="tones" data-tone="3" style="display: none;"><div class="emojionearea-category-title">Diversity</div><i class="emojibtn" role="button" data-name=":santa_tone3:" title="Santa Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f385-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":runner_tone3:" title="Runner Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c3-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":surfer_tone3:" title="Surfer Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c4-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":swimmer_tone3:" title="Swimmer Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ca-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":lifter_tone3:" title="Lifter Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3cb-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":ear_tone3:" title="Ear Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f442-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":nose_tone3:" title="Nose Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f443-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":point_up_2_tone3:" title="Point Up 2 Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f446-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":point_down_tone3:" title="Point Down Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f447-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":point_left_tone3:" title="Point Left Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f448-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":point_right_tone3:" title="Point Right Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f449-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":punch_tone3:" title="Punch Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44a-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":wave_tone3:" title="Wave Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44b-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":ok_hand_tone3:" title="Ok Hand Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44c-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":thumbsup_tone3:" title="Thumbsup Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44d-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":thumbsdown_tone3:" title="Thumbsdown Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44e-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":clap_tone3:" title="Clap Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44f-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":open_hands_tone3:" title="Open Hands Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f450-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":boy_tone3:" title="Boy Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f466-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":girl_tone3:" title="Girl Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f467-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":man_tone3:" title="Man Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":woman_tone3:" title="Woman Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":cop_tone3:" title="Cop Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46e-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":bride_with_veil_tone3:" title="Bride With Veil Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f470-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":person_with_blond_hair_tone3:" title="Person With Blond Hair Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f471-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":man_with_gua_pi_mao_tone3:" title="Man With Gua Pi Mao Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f472-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":man_with_turban_tone3:" title="Man With Turban Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f473-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":older_man_tone3:" title="Older Man Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f474-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":grandma_tone3:" title="Grandma Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f475-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":baby_tone3:" title="Baby Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f476-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":construction_worker_tone3:" title="Construction Worker Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f477-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":princess_tone3:" title="Princess Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f478-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":angel_tone3:" title="Angel Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47c-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":information_desk_person_tone3:" title="Information Desk Person Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f481-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":guardsman_tone3:" title="Guardsman Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f482-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":dancer_tone3:" title="Dancer Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f483-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":nail_care_tone3:" title="Nail Care Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f485-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":massage_tone3:" title="Massage Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f486-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":haircut_tone3:" title="Haircut Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f487-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":muscle_tone3:" title="Muscle Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4aa-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":spy_tone3:" title="Spy Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f575-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":hand_splayed_tone3:" title="Hand Splayed Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f590-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":middle_finger_tone3:" title="Middle Finger Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f595-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":vulcan_tone3:" title="Vulcan Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f596-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":no_good_tone3:" title="No Good Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f645-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":ok_woman_tone3:" title="Ok Woman Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f646-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":bow_tone3:" title="Bow Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f647-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":raising_hand_tone3:" title="Raising Hand Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64b-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":raised_hands_tone3:" title="Raised Hands Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64c-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":person_frowning_tone3:" title="Person Frowning Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64d-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":person_with_pouting_face_tone3:" title="Person With Pouting Face Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64e-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":pray_tone3:" title="Pray Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64f-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":rowboat_tone3:" title="Rowboat Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a3-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":bicyclist_tone3:" title="Bicyclist Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b4-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":mountain_bicyclist_tone3:" title="Mountain Bicyclist Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b5-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":walking_tone3:" title="Walking Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b6-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":bath_tone3:" title="Bath Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c0-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":metal_tone3:" title="Metal Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f918-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":point_up_tone3:" title="Point Up Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/261d-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":basketball_player_tone3:" title="Basketball Player Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f9-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":fist_tone3:" title="Fist Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270a-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":raised_hand_tone3:" title="Raised Hand Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270b-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":v_tone3:" title="V Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270c-1f3fd.png"></i><i class="emojibtn" role="button" data-name=":writing_hand_tone3:" title="Writing Hand Tone3"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270d-1f3fd.png"></i></div><div class="emojionearea-category-block" name="tones" data-tone="2" style="display: none;"><div class="emojionearea-category-title">Diversity</div><i class="emojibtn" role="button" data-name=":santa_tone2:" title="Santa Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f385-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":runner_tone2:" title="Runner Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c3-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":surfer_tone2:" title="Surfer Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c4-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":swimmer_tone2:" title="Swimmer Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ca-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":lifter_tone2:" title="Lifter Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3cb-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":ear_tone2:" title="Ear Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f442-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":nose_tone2:" title="Nose Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f443-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":point_up_2_tone2:" title="Point Up 2 Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f446-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":point_down_tone2:" title="Point Down Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f447-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":point_left_tone2:" title="Point Left Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f448-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":point_right_tone2:" title="Point Right Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f449-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":punch_tone2:" title="Punch Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44a-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":wave_tone2:" title="Wave Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44b-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":ok_hand_tone2:" title="Ok Hand Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44c-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":thumbsup_tone2:" title="Thumbsup Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44d-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":thumbsdown_tone2:" title="Thumbsdown Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44e-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":clap_tone2:" title="Clap Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44f-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":open_hands_tone2:" title="Open Hands Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f450-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":boy_tone2:" title="Boy Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f466-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":girl_tone2:" title="Girl Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f467-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":man_tone2:" title="Man Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":woman_tone2:" title="Woman Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":cop_tone2:" title="Cop Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46e-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":bride_with_veil_tone2:" title="Bride With Veil Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f470-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":person_with_blond_hair_tone2:" title="Person With Blond Hair Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f471-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":man_with_gua_pi_mao_tone2:" title="Man With Gua Pi Mao Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f472-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":man_with_turban_tone2:" title="Man With Turban Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f473-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":older_man_tone2:" title="Older Man Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f474-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":grandma_tone2:" title="Grandma Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f475-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":baby_tone2:" title="Baby Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f476-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":construction_worker_tone2:" title="Construction Worker Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f477-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":princess_tone2:" title="Princess Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f478-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":angel_tone2:" title="Angel Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47c-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":information_desk_person_tone2:" title="Information Desk Person Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f481-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":guardsman_tone2:" title="Guardsman Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f482-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":dancer_tone2:" title="Dancer Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f483-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":nail_care_tone2:" title="Nail Care Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f485-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":massage_tone2:" title="Massage Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f486-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":haircut_tone2:" title="Haircut Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f487-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":muscle_tone2:" title="Muscle Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4aa-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":spy_tone2:" title="Spy Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f575-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":hand_splayed_tone2:" title="Hand Splayed Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f590-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":middle_finger_tone2:" title="Middle Finger Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f595-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":vulcan_tone2:" title="Vulcan Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f596-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":no_good_tone2:" title="No Good Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f645-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":ok_woman_tone2:" title="Ok Woman Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f646-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":bow_tone2:" title="Bow Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f647-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":raising_hand_tone2:" title="Raising Hand Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64b-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":raised_hands_tone2:" title="Raised Hands Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64c-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":person_frowning_tone2:" title="Person Frowning Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64d-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":person_with_pouting_face_tone2:" title="Person With Pouting Face Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64e-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":pray_tone2:" title="Pray Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64f-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":rowboat_tone2:" title="Rowboat Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a3-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":bicyclist_tone2:" title="Bicyclist Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b4-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":mountain_bicyclist_tone2:" title="Mountain Bicyclist Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b5-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":walking_tone2:" title="Walking Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b6-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":bath_tone2:" title="Bath Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c0-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":metal_tone2:" title="Metal Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f918-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":point_up_tone2:" title="Point Up Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/261d-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":basketball_player_tone2:" title="Basketball Player Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f9-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":fist_tone2:" title="Fist Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270a-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":raised_hand_tone2:" title="Raised Hand Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270b-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":v_tone2:" title="V Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270c-1f3fc.png"></i><i class="emojibtn" role="button" data-name=":writing_hand_tone2:" title="Writing Hand Tone2"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270d-1f3fc.png"></i></div><div class="emojionearea-category-block" name="tones" data-tone="1" style="display: none;"><div class="emojionearea-category-title">Diversity</div><i class="emojibtn" role="button" data-name=":santa_tone1:" title="Santa Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f385-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":runner_tone1:" title="Runner Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c3-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":surfer_tone1:" title="Surfer Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3c4-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":swimmer_tone1:" title="Swimmer Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3ca-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":lifter_tone1:" title="Lifter Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f3cb-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":ear_tone1:" title="Ear Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f442-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":nose_tone1:" title="Nose Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f443-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":point_up_2_tone1:" title="Point Up 2 Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f446-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":point_down_tone1:" title="Point Down Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f447-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":point_left_tone1:" title="Point Left Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f448-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":point_right_tone1:" title="Point Right Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f449-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":punch_tone1:" title="Punch Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44a-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":wave_tone1:" title="Wave Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44b-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":ok_hand_tone1:" title="Ok Hand Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44c-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":thumbsup_tone1:" title="Thumbsup Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44d-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":thumbsdown_tone1:" title="Thumbsdown Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44e-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":clap_tone1:" title="Clap Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f44f-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":open_hands_tone1:" title="Open Hands Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f450-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":boy_tone1:" title="Boy Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f466-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":girl_tone1:" title="Girl Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f467-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":man_tone1:" title="Man Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f468-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":woman_tone1:" title="Woman Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f469-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":cop_tone1:" title="Cop Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f46e-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":bride_with_veil_tone1:" title="Bride With Veil Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f470-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":person_with_blond_hair_tone1:" title="Person With Blond Hair Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f471-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":man_with_gua_pi_mao_tone1:" title="Man With Gua Pi Mao Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f472-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":man_with_turban_tone1:" title="Man With Turban Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f473-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":older_man_tone1:" title="Older Man Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f474-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":grandma_tone1:" title="Grandma Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f475-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":baby_tone1:" title="Baby Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f476-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":construction_worker_tone1:" title="Construction Worker Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f477-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":princess_tone1:" title="Princess Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f478-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":angel_tone1:" title="Angel Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f47c-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":information_desk_person_tone1:" title="Information Desk Person Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f481-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":guardsman_tone1:" title="Guardsman Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f482-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":dancer_tone1:" title="Dancer Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f483-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":nail_care_tone1:" title="Nail Care Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f485-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":massage_tone1:" title="Massage Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f486-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":haircut_tone1:" title="Haircut Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f487-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":muscle_tone1:" title="Muscle Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f4aa-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":spy_tone1:" title="Spy Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f575-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":hand_splayed_tone1:" title="Hand Splayed Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f590-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":middle_finger_tone1:" title="Middle Finger Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f595-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":vulcan_tone1:" title="Vulcan Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f596-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":no_good_tone1:" title="No Good Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f645-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":ok_woman_tone1:" title="Ok Woman Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f646-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":bow_tone1:" title="Bow Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f647-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":raising_hand_tone1:" title="Raising Hand Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64b-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":raised_hands_tone1:" title="Raised Hands Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64c-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":person_frowning_tone1:" title="Person Frowning Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64d-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":person_with_pouting_face_tone1:" title="Person With Pouting Face Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64e-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":pray_tone1:" title="Pray Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f64f-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":rowboat_tone1:" title="Rowboat Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6a3-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":bicyclist_tone1:" title="Bicyclist Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b4-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":mountain_bicyclist_tone1:" title="Mountain Bicyclist Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b5-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":walking_tone1:" title="Walking Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6b6-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":bath_tone1:" title="Bath Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f6c0-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":metal_tone1:" title="Metal Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/1f918-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":point_up_tone1:" title="Point Up Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/261d-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":basketball_player_tone1:" title="Basketball Player Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/26f9-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":fist_tone1:" title="Fist Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270a-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":raised_hand_tone1:" title="Raised Hand Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270b-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":v_tone1:" title="V Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270c-1f3fb.png"></i><i class="emojibtn" role="button" data-name=":writing_hand_tone1:" title="Writing Hand Tone1"><img class="emojioneemoji lazy-emoji" data-src="https://cdn.jsdelivr.net/emojione/assets/png/270d-1f3fb.png"></i></div></div></div></div></div></div>
                <div class="camera-div">
                    <span class="camera-icon"></span>
                    <span class="bell-icon blur shift"><span class="notification-count invisible"></span></span>
                    <div class="notification-area-wrapper shift">
                                <div class="header"><span class="lang" lang_id="notifications">Notifications</span> <span class="mark-read lang invisible" lang_id="notifications_mark_all_as_read">Mark all as read</span></div>
    <div class="notification-body scrollbar" id="style-1"> <div class="empty-notification  ">   no notifications yet   </div> </div>
                        <div class="footer invisible"><span></span></div>
                    </div>
                </div>

                <input class="invisible file-input" accept="image/*" type="file">
                <div class="messages invisible">
                    <span class="validImg invalid invisible">Image upload failed. Please verify that the file is in a supported format (JPEG, PNG, or GIF).</span>
                    <span class="sizeError invalid invisible">Image upload failed. Please verify that the file is not bigger than 1MB.</span>
                    <span class="sizeError sizeError2mb invalid invisible">Image upload failed. Please verify that the file is not bigger than 2MB.</span>
                </div>
            </div>
        </fieldset>
    </form>

    <div class="rich-media-div invisible">
    </div>

    <input class="add-comment-submit-btn btn-long invisible lang" lang_id="continue_button" value="Continue" fontsize="18" type="button">

    <div class="post-step-2" style="display:none;">
        <div class="review-posting-block">
            <form class="submission-form">
                <fieldset>
                    <textarea class="add-comment-title-input lang empty" maxlength="200" max_width="433" max_width_reply="360" cols="30" placeholder-default-lang-id="enter_a_title_logged_out" placeholder="Please enter a title for your comment, and then select relevant log in below" placeholder-logged-out-lang-id="enter_a_title_logged_out" placeholder-logged-out="Please enter a title for your comment, and then select relevant log in below" placeholder-logged-in-lang-id="enter_a_title_logged_in" placeholder-logged-in="Please enter a title for your comment, and then click &quot;Post Comment&quot; below" placeholder-mobile-lang-id="enter_a_title_mobile" placeholder-mobile="Textual comment" placeholder-android-mobile-lang-id="enter_a_title_mobile_android" placeholder-android-mobile="Enter a title" placeholder-android-mobile-missing-lang-id="enter_a_title_mobile_android_missing" placeholder-android-mobile-missing="Title is required" fontsize="14" height="53" line-height="20" textchange=""></textarea>
                </fieldset>
            </form>
            <div class="signin signin-block">
                <div class="signin-selection">
                    <span class="login-with-social lang" lang_id="log_in_with" fontsize="14">Log in to post</span>
                    <ul class="social-networks inline colored">
                        <li><a class="facebook lang" lang_id="log_in" href="javascript:void(0);" fontsize="14" no_lang="1"></a></li>
                        <li><a class="twitter lang" lang_id="log_in" href="javascript:void(0);" fontsize="14" no_lang="1"></a></li>
                        <li><a class="google-plus lang" lang_id="log_in" href="javascript:void(0);" fontsize="14" no_lang="1"></a></li>
                        <li class="li-last"><a class="email lang" lang_id="log_in" href="javascript:void(0);" fontsize="14" no_lang="1"></a></li>
                    </ul>
                    <div class="signin-small-message lang" lang_id="verification_purposes_only" fontsize="12">(You are being asked to Log in for verification purposes only and will not be automatically shared)</div>
                </div>
                <form class="signin-form-container signin-form">
                    <fieldset>
                        <span class="login-with-social lang" lang_id="or_sign_up_with_heyoya" fontsize="14">Or sign up with Heyoya</span>
                        <div>
                            <div class="field-wrap float-left">
                                <input class="add-comment-name-input lang" maxlength="50" max_width="327" placeholder-default-lang-id="your_name" placeholder="Your Name" placeholder-default="Your Name" placeholder-missing-lang-id="name_is_required" placeholder-missing="Name is required" fontsize="14" type="text">
                            </div>
                            <div class="field-wrap float-left no-padding">
                                <input class="add-comment-email-input lang invisible" maxlength="255" placeholder-default-lang-id="your_email" placeholder="Your Email" placeholder-default="Your Email" placeholder-missing-lang-id="email_is_required" placeholder-missing="Email is required" placeholder-invalid-lang-id="email_is_invalid" placeholder-invalid="Email is invalid" fontsize="14" type="email">
                            </div>
                            <input class="add-comment-post-comment lang invisible" lang_id="post" value="Post" fontsize="15" type="button">
                            <div class="gdpr-agreement-text" fontsize="12">
                                <span class="agree-text lang" lang_id="agree_text">By signing up, you agree to the</span> Heyoya
                                <span><a href="https://www.heyoya.com/terms-and-conditions/" class="terms-Link" rel="nofollow" target="_blank"> T&amp;C</a> and <a class="privacy-policy-link" href="https://www.heyoya.com/privacy-policy/" rel="nofollow" target="_blank"> Privacy Policy</a></span>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="signout invisible signin-block">
                <div class="signin-form"><input class="add-signout-comment-post-comment lang" lang_id="post_review" value="Post comment" fontsize="15" max-width="none" min-width="108" width="0" type="button"></div>
                <div class="signout-div" fontsize="14"><span class="float-left user-photo inline-block"></span>
                        <div class="logout float-left">
                            <span class="user-name"></span>,&nbsp;<span class="lang" lang_id="not_you">Not You? <a href="javascript:void(0);" class="logout-button">Log out</a> and sign in as a different user.</span>
                        </div>
                </div>
            </div>
        </div>
    </div>
    <input class="btn-long lang invisible add-comment-post-comment-new" lang_id="post_review" value="Post Comment" fontsize="18" type="button">


    <span class=" logout-n invisible logout-span">
        <span class="user-photo"></span>
        <span class="lang logout-text" lang_id="not_you_log_out">Not You?
        <a href="javascript:void(0);" class="logout-button">log out</a>
        </span>
    </span>
  <div class="clearfix"></div>
</div>
</div>
                    <ul class="types-list invisible">
                        <li class="float-left">
                            <a id="displayBothActionSpan" href="javascript:void(0);" class="btn-review active" fontsize="12"><span class="icon-mic small"></span><span class="icon-lines"></span><span class="lang" lang_id="voice_and_text" textchange="Filter by voice &amp; text">Filter by voice &amp; text</span></a>
                        </li>
                        <li class="float-left">
                            <a id="playAllVoiceCommentsActionSpan" href="javascript:void(0);" class="btn-review" fontsize="12"><span class="icon-mic small"></span><span class="lang" lang_id="voice_reviews">Filter by voice comments</span></a>
                        </li>
                        <li class="float-left">
                            <a id="displayAllTextCommentsActionSpan" href="javascript:void(0);" class="btn-review last" fontsize="12"><span class="icon-lines"></span><span class="lang" lang_id="text_reviews">Filter by text comments</span></a>
                        </li>
                    </ul>        <div class="block review">   		
        <article class="review-post comment" cid="312267" ctype="2" csc="" scl="0">
       
            <header>
                <div class="header-l">
                    <a href="javascript:void(0);" class="photo float-left">
                        <img src="b2b_ui_data/picture.jpeg" class="" alt="Aderogba Otunla" width="60" height="60">
                    </a>
                    <div class="text-wrap">
			            <span class="reply-on-full-name invisible" fontsize="14">@<span></span></span>
                        <h2 class="product-title" fontsize="20">&nbsp;</h2>
                        <p fontsize="14" width="496" max-width="none" min-width="0"><a href="javascript:void(0);" class="name" title="Aderogba Otunla">Aderogba Otunla</a>
                        <!-- <span class="user-type"> - <span class="lang" lang_id="verified_user">Verified Heyoya User</span> </span> -->
                        <a class="invisible" href="javascript:void(0);" lang_id="past_reviews">(2 past comments)</a></p>
                    </div>
                </div>
                <div class="header-r"><a class="view invisible" href="javascript:void(0);" fontsize="13"><span class="icon-eye"></span> 36</a><time datetime="1531474348000" class="time" fontsize="13">Jul 13. 2018</time><span class="seperator"></span><a href="javascript:void(0);" class="flag" width="17" max-width="none" min-width="0" height="18" line-height="19"></a></div>
            </header>
            <div class="container invisible">
                <a class="pause-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-pause">pause</span></a>
                <a class="play-btn btn-blue " href="javascript:void(0);"><span class="icon-play">play</span></a>
                <a class="loading-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-refresh">loading</span></a>
                <div class="messaging-box content-right-box invisible" style="width: 501px;">
                    <span class="link-wrap"><a href="javascript:void(0);" class="link-record-voice" fontsize="14"></a></span>
                </div>
                <div class="content-right-box" style="width: 501px;">
                    <!-- equalizer -->
                    <div class="equalizer solid">
                        <div class="holder">
                            #TIME_PLACEHOLDER#
                            <span class="time #NUMBER_OF_SECONDS_DISPLAY#" fontsize="13">#NUMBER_OF_SECONDS# <small class="lang" lang_id="seconds_short">sec</small></span>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);" class="btn-retake btn-reply invisible lang" lang_id="replay" fontsize="11" style="" width="62" max-width="none" min-width="0">Re-Play</a>
                <a class="btn-placeholder btn-retake invisible" fontsize="11" style="" width="62" max-width="none" min-width="0"></a>
            </div>
            <div class="text-block " fontsize="14"><p>This is so beautiful....Great Job! Works like MAGIC - God bless you and #KeepDoingGreatThingsThatMatters</p><p class="message_show_more invisible">...&nbsp;<a class="lang" lang_id="see_more">See More</a></p><p class="message_show_more_text invisible"></p>
            </div>

           <div class="image-block invisible">

               <span class="lang images-load-more invisible" lang_id="load_more_image">Load ## more image</span>
               <span class="lang images-load-more invisible" lang_id="load_more_images">Load ## more images</span>
           </div>
            <div class="video-block invisible">

                <span class="lang videos-load-more single-video invisible" lang_id="load_more_video">Load ## more video</span>
                <span class="lang videos-load-more multiple-videos invisible" lang_id="load_more_videos">Load ## more videos</span>
            </div>
           <div style="clear:both;"></div>
            <footer>
                <div class="footer-l float-left">
                    <div class="like float-left" height="26" line-height="19">
                        <a href="javascript:void(0);" class="" width="21" max-width="none" min-width="0"><span class="icon-love"></span></a>
                        <span class="number_of_likes hidden" ln="0" fontsize="14">0</span>
                    </div>

                    <!-- sharing options -->
                    <ul class="social-networks share float-left">
  	                <li class="float-left"><a rel="nofollow" href="javascript:void(0);" class="share-icon " width="19" max-width="none" min-width="0" height="19" line-height="0">&nbsp;</a></li>
                        <li class="float-left"><a rel="nofollow" class="facebook" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Facebook</a></li>
                        <li class="float-left"><a rel="nofollow" class="twitter" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Twitter</a></li>
                        <li class="float-left"><a rel="nofollow" class="google-plus" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Google+</a></li>
                        <li class="float-left"><a class="copy-link" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Copy link</a></li>
                    </ul>
                    <span class="clear-float"></span>
                </div>
                <a href="javascript:void(0);" class="reply btn gray middle float-right lang " lang_id="reply" fontsize="15" height="27" line-height="27">Reply</a>
                <div class="share-link-container float-left" style="display:none;"><input class="share-link-input" value="https://www.heyoya.com/social/showComment?commentId=312267&amp;pageId=231255" fontsize="14" style="width: 569px;" type="text"></div>
            </footer>
            
            
            
        </article>
    </div><div class="block review ade"><article class="review-post comment" style="  text-align: center;  padding-top: 0px;margin-bottom: -4px;"><iframe src="b2b_ui_data/GFOGExAnIf_connatix_int_002.html" style="width: 400px;height: 225px;overflow: hidden;" id="9ff1e750f83f284bcc681532187615876" cnx-ifr="012cbcc0e92fb4ead7ba1532187615877" frameborder="0"></iframe></article></div>
            <div class="block review">   		
        <article class="review-post comment" cid="305569" ctype="2" csc="" scl="0">
       
            <header>
                <div class="header-l">
                    <a href="javascript:void(0);" class="photo float-left">
                        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="user-default-photo" alt="pardeep" width="60" height="60">
                    </a>
                    <div class="text-wrap">
			            <span class="reply-on-full-name invisible" fontsize="14">@<span></span></span>
                        <h2 class="product-title" fontsize="20">&nbsp;</h2>
                        <p fontsize="14" width="496" max-width="none" min-width="0"><a href="javascript:void(0);" class="name" title="pardeep">pardeep</a>
                        <!-- <span class="user-type"> - <span class="lang" lang_id="verified_user">Verified Heyoya User</span> </span> -->
                        <a class="invisible" href="javascript:void(0);" lang_id="past_reviews">(2 past comments)</a></p>
                    </div>
                </div>
                <div class="header-r"><a class="view invisible" href="javascript:void(0);" fontsize="13"><span class="icon-eye"></span> 36</a><time datetime="1530344691000" class="time" fontsize="13">Jun 30. 2018</time><span class="seperator"></span><a href="javascript:void(0);" class="flag" width="17" max-width="none" min-width="0" height="18" line-height="19"></a></div>
            </header>
            <div class="container invisible">
                <a class="pause-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-pause">pause</span></a>
                <a class="play-btn btn-blue " href="javascript:void(0);"><span class="icon-play">play</span></a>
                <a class="loading-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-refresh">loading</span></a>
                <div class="messaging-box content-right-box invisible" style="width: 501px;">
                    <span class="link-wrap"><a href="javascript:void(0);" class="link-record-voice" fontsize="14"></a></span>
                </div>
                <div class="content-right-box" style="width: 501px;">
                    <!-- equalizer -->
                    <div class="equalizer solid">
                        <div class="holder">
                            #TIME_PLACEHOLDER#
                            <span class="time #NUMBER_OF_SECONDS_DISPLAY#" fontsize="13">#NUMBER_OF_SECONDS# <small class="lang" lang_id="seconds_short">sec</small></span>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);" class="btn-retake btn-reply invisible lang" lang_id="replay" fontsize="11" style="" width="62" max-width="none" min-width="0">Re-Play</a>
                <a class="btn-placeholder btn-retake invisible" fontsize="11" style="" width="62" max-width="none" min-width="0"></a>
            </div>
            <div class="text-block " fontsize="14"><p>Nice article ! but you use mysql() queries that would be less secure use prepared statements . <br>Like<br>$stmt = $dbConnection-&gt;prepare('SELECT * FROM employees WHERE name = ?');<br>$stmt-&gt;bind_param('s', $name); // 's' specifies the variable type =&gt; 'string'<br><br>$stmt-&gt;execute();<br><br>$result = $stmt-&gt;get_result();<br>while ($row = $result-&gt;fetch_assoc()) {<br>    // do something with $row<br>}</p><p class="message_show_more invisible">...&nbsp;<a class="lang" lang_id="see_more">See More</a></p><p class="message_show_more_text invisible"></p>
            </div>

           <div class="image-block invisible">

               <span class="lang images-load-more invisible" lang_id="load_more_image">Load ## more image</span>
               <span class="lang images-load-more invisible" lang_id="load_more_images">Load ## more images</span>
           </div>
            <div class="video-block invisible">

                <span class="lang videos-load-more single-video invisible" lang_id="load_more_video">Load ## more video</span>
                <span class="lang videos-load-more multiple-videos invisible" lang_id="load_more_videos">Load ## more videos</span>
            </div>
           <div style="clear:both;"></div>
            <footer>
                <div class="footer-l float-left">
                    <div class="like float-left" height="26" line-height="19">
                        <a href="javascript:void(0);" class="" width="21" max-width="none" min-width="0"><span class="icon-love"></span></a>
                        <span class="number_of_likes hidden" ln="0" fontsize="14">0</span>
                    </div>

                    <!-- sharing options -->
                    <ul class="social-networks share float-left">
  	                <li class="float-left"><a rel="nofollow" href="javascript:void(0);" class="share-icon " width="19" max-width="none" min-width="0" height="19" line-height="0">&nbsp;</a></li>
                        <li class="float-left"><a rel="nofollow" class="facebook" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Facebook</a></li>
                        <li class="float-left"><a rel="nofollow" class="twitter" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Twitter</a></li>
                        <li class="float-left"><a rel="nofollow" class="google-plus" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Google+</a></li>
                        <li class="float-left"><a class="copy-link" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Copy link</a></li>
                    </ul>
                    <span class="clear-float"></span>
                </div>
                <a href="javascript:void(0);" class="reply btn gray middle float-right lang " lang_id="reply" fontsize="15" height="27" line-height="27">Reply</a>
                <div class="share-link-container float-left" style="display:none;"><input class="share-link-input" value="https://www.heyoya.com/social/showComment?commentId=305569&amp;pageId=231255" fontsize="14" style="width: 569px;" type="text"></div>
            </footer>
            
            
            
        </article>
    </div>
            <div class="block review">   		
        <article class="review-post comment" cid="265125" ctype="2" csc="" scl="0">
       
            <header>
                <div class="header-l">
                    <a href="javascript:void(0);" class="photo float-left">
                        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="user-default-photo" alt="Tom" width="60" height="60">
                    </a>
                    <div class="text-wrap">
			            <span class="reply-on-full-name invisible" fontsize="14">@<span></span></span>
                        <h2 class="product-title" fontsize="20">&nbsp;</h2>
                        <p fontsize="14" width="496" max-width="none" min-width="0"><a href="javascript:void(0);" class="name" title="Tom">Tom</a>
                        <!-- <span class="user-type"> - <span class="lang" lang_id="verified_user">Verified Heyoya User</span> </span> -->
                        <a class="invisible" href="javascript:void(0);" lang_id="past_reviews">(2 past comments)</a></p>
                    </div>
                </div>
                <div class="header-r"><a class="view invisible" href="javascript:void(0);" fontsize="13"><span class="icon-eye"></span> 36</a><time datetime="1524087757000" class="time" fontsize="13">Apr 19. 2018</time><span class="seperator"></span><a href="javascript:void(0);" class="flag" width="17" max-width="none" min-width="0" height="18" line-height="19"></a></div>
            </header>
            <div class="container invisible">
                <a class="pause-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-pause">pause</span></a>
                <a class="play-btn btn-blue " href="javascript:void(0);"><span class="icon-play">play</span></a>
                <a class="loading-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-refresh">loading</span></a>
                <div class="messaging-box content-right-box invisible" style="width: 501px;">
                    <span class="link-wrap"><a href="javascript:void(0);" class="link-record-voice" fontsize="14"></a></span>
                </div>
                <div class="content-right-box" style="width: 501px;">
                    <!-- equalizer -->
                    <div class="equalizer solid">
                        <div class="holder">
                            #TIME_PLACEHOLDER#
                            <span class="time #NUMBER_OF_SECONDS_DISPLAY#" fontsize="13">#NUMBER_OF_SECONDS# <small class="lang" lang_id="seconds_short">sec</small></span>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);" class="btn-retake btn-reply invisible lang" lang_id="replay" fontsize="11" style="" width="62" max-width="none" min-width="0">Re-Play</a>
                <a class="btn-placeholder btn-retake invisible" fontsize="11" style="" width="62" max-width="none" min-width="0"></a>
            </div>
            <div class="text-block " fontsize="14"><p>Shouldn't there be a form action, for the edits to submit to? <br>Is the jquery.js file, a 'standard' jquery file?</p><p class="message_show_more invisible">...&nbsp;<a class="lang" lang_id="see_more">See More</a></p><p class="message_show_more_text invisible"></p>
            </div>

           <div class="image-block invisible">

               <span class="lang images-load-more invisible" lang_id="load_more_image">Load ## more image</span>
               <span class="lang images-load-more invisible" lang_id="load_more_images">Load ## more images</span>
           </div>
            <div class="video-block invisible">

                <span class="lang videos-load-more single-video invisible" lang_id="load_more_video">Load ## more video</span>
                <span class="lang videos-load-more multiple-videos invisible" lang_id="load_more_videos">Load ## more videos</span>
            </div>
           <div style="clear:both;"></div>
            <footer>
                <div class="footer-l float-left">
                    <div class="like float-left" height="26" line-height="19">
                        <a href="javascript:void(0);" class="" width="21" max-width="none" min-width="0"><span class="icon-love"></span></a>
                        <span class="number_of_likes hidden" ln="0" fontsize="14">0</span>
                    </div>

                    <!-- sharing options -->
                    <ul class="social-networks share float-left">
  	                <li class="float-left"><a rel="nofollow" href="javascript:void(0);" class="share-icon " width="19" max-width="none" min-width="0" height="19" line-height="0">&nbsp;</a></li>
                        <li class="float-left"><a rel="nofollow" class="facebook" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Facebook</a></li>
                        <li class="float-left"><a rel="nofollow" class="twitter" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Twitter</a></li>
                        <li class="float-left"><a rel="nofollow" class="google-plus" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Google+</a></li>
                        <li class="float-left"><a class="copy-link" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Copy link</a></li>
                    </ul>
                    <span class="clear-float"></span>
                </div>
                <a href="javascript:void(0);" class="reply btn gray middle float-right lang " lang_id="reply" fontsize="15" height="27" line-height="27">Reply</a>
                <div class="share-link-container float-left" style="display:none;"><input class="share-link-input" value="https://www.heyoya.com/social/showComment?commentId=265125&amp;pageId=231255" fontsize="14" style="width: 569px;" type="text"></div>
            </footer>
            
            
            
        </article>
    </div>
            <div class="block review">   		
        <article class="review-post comment" cid="258230" ctype="2" csc="" scl="0">
       
            <header>
                <div class="header-l">
                    <a href="javascript:void(0);" class="photo float-left">
                        <img src="b2b_ui_data/picture_002.jpeg" class="" alt="Alexandre da Costa" width="60" height="60">
                    </a>
                    <div class="text-wrap">
			            <span class="reply-on-full-name invisible" fontsize="14">@<span></span></span>
                        <h2 class="product-title" fontsize="20">&nbsp;</h2>
                        <p fontsize="14" width="496" max-width="none" min-width="0"><a href="javascript:void(0);" class="name" title="Alexandre da Costa">Alexandre da Costa</a>
                        <!-- <span class="user-type"> - <span class="lang" lang_id="verified_user">Verified Heyoya User</span> </span> -->
                        <a class="invisible" href="javascript:void(0);" lang_id="past_reviews">(2 past comments)</a></p>
                    </div>
                </div>
                <div class="header-r"><a class="view invisible" href="javascript:void(0);" fontsize="13"><span class="icon-eye"></span> 36</a><time datetime="1522859025000" class="time" fontsize="13">Apr 4. 2018</time><span class="seperator"></span><a href="javascript:void(0);" class="flag" width="17" max-width="none" min-width="0" height="18" line-height="19"></a></div>
            </header>
            <div class="container invisible">
                <a class="pause-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-pause">pause</span></a>
                <a class="play-btn btn-blue " href="javascript:void(0);"><span class="icon-play">play</span></a>
                <a class="loading-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-refresh">loading</span></a>
                <div class="messaging-box content-right-box invisible" style="width: 501px;">
                    <span class="link-wrap"><a href="javascript:void(0);" class="link-record-voice" fontsize="14"></a></span>
                </div>
                <div class="content-right-box" style="width: 501px;">
                    <!-- equalizer -->
                    <div class="equalizer solid">
                        <div class="holder">
                            #TIME_PLACEHOLDER#
                            <span class="time #NUMBER_OF_SECONDS_DISPLAY#" fontsize="13">#NUMBER_OF_SECONDS# <small class="lang" lang_id="seconds_short">sec</small></span>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);" class="btn-retake btn-reply invisible lang" lang_id="replay" fontsize="11" style="" width="62" max-width="none" min-width="0">Re-Play</a>
                <a class="btn-placeholder btn-retake invisible" fontsize="11" style="" width="62" max-width="none" min-width="0"></a>
            </div>
            <div class="text-block " fontsize="14"><p>Very nice, that helped a lot. I was having trouble figuring out how to work the JS part. Thank you very much.</p><p class="message_show_more invisible">...&nbsp;<a class="lang" lang_id="see_more">See More</a></p><p class="message_show_more_text invisible"></p>
            </div>

           <div class="image-block invisible">

               <span class="lang images-load-more invisible" lang_id="load_more_image">Load ## more image</span>
               <span class="lang images-load-more invisible" lang_id="load_more_images">Load ## more images</span>
           </div>
            <div class="video-block invisible">

                <span class="lang videos-load-more single-video invisible" lang_id="load_more_video">Load ## more video</span>
                <span class="lang videos-load-more multiple-videos invisible" lang_id="load_more_videos">Load ## more videos</span>
            </div>
           <div style="clear:both;"></div>
            <footer>
                <div class="footer-l float-left">
                    <div class="like float-left" height="26" line-height="19">
                        <a href="javascript:void(0);" class="" width="21" max-width="none" min-width="0"><span class="icon-love"></span></a>
                        <span class="number_of_likes hidden" ln="0" fontsize="14">0</span>
                    </div>

                    <!-- sharing options -->
                    <ul class="social-networks share float-left">
  	                <li class="float-left"><a rel="nofollow" href="javascript:void(0);" class="share-icon " width="19" max-width="none" min-width="0" height="19" line-height="0">&nbsp;</a></li>
                        <li class="float-left"><a rel="nofollow" class="facebook" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Facebook</a></li>
                        <li class="float-left"><a rel="nofollow" class="twitter" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Twitter</a></li>
                        <li class="float-left"><a rel="nofollow" class="google-plus" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Google+</a></li>
                        <li class="float-left"><a class="copy-link" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Copy link</a></li>
                    </ul>
                    <span class="clear-float"></span>
                </div>
                <a href="javascript:void(0);" class="reply btn gray middle float-right lang " lang_id="reply" fontsize="15" height="27" line-height="27">Reply</a>
                <div class="share-link-container float-left" style="display:none;"><input class="share-link-input" value="https://www.heyoya.com/social/showComment?commentId=258230&amp;pageId=231255" fontsize="14" style="width: 569px;" type="text"></div>
            </footer>
            
            
            
        </article>
    </div><div class="block review ade"><article class="review-post comment" style="  text-align: center;  padding-top: 0px;margin-bottom: -4px;"><iframe src="b2b_ui_data/GFOGExAnIf_connatix_int_002.html" style="width: 400px;height: 225px;overflow: hidden;" id="74632ed195f2ba123b111532187616042" cnx-ifr="82580e5fa78dd0b180cc1532187616043" frameborder="0"></iframe></article></div>
            <div class="block review">   		
        <article class="review-post comment" cid="252373" ctype="2" csc="" scl="0">
       
            <header>
                <div class="header-l">
                    <a href="javascript:void(0);" class="photo float-left">
                        <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="user-default-photo" alt="Atrensky" width="60" height="60">
                    </a>
                    <div class="text-wrap">
			            <span class="reply-on-full-name invisible" fontsize="14">@<span></span></span>
                        <h2 class="product-title" fontsize="20">&nbsp;</h2>
                        <p fontsize="14" width="496" max-width="none" min-width="0"><a href="javascript:void(0);" class="name" title="Atrensky">Atrensky</a>
                        <!-- <span class="user-type"> - <span class="lang" lang_id="verified_user">Verified Heyoya User</span> </span> -->
                        <a class="invisible" href="javascript:void(0);" lang_id="past_reviews">(2 past comments)</a></p>
                    </div>
                </div>
                <div class="header-r"><a class="view invisible" href="javascript:void(0);" fontsize="13"><span class="icon-eye"></span> 36</a><time datetime="1521791858000" class="time" fontsize="13">Mar 23. 2018</time><span class="seperator"></span><a href="javascript:void(0);" class="flag" width="17" max-width="none" min-width="0" height="18" line-height="19"></a></div>
            </header>
            <div class="container invisible">
                <a class="pause-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-pause">pause</span></a>
                <a class="play-btn btn-blue " href="javascript:void(0);"><span class="icon-play">play</span></a>
                <a class="loading-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-refresh">loading</span></a>
                <div class="messaging-box content-right-box invisible" style="width: 501px;">
                    <span class="link-wrap"><a href="javascript:void(0);" class="link-record-voice" fontsize="14"></a></span>
                </div>
                <div class="content-right-box" style="width: 501px;">
                    <!-- equalizer -->
                    <div class="equalizer solid">
                        <div class="holder">
                            #TIME_PLACEHOLDER#
                            <span class="time #NUMBER_OF_SECONDS_DISPLAY#" fontsize="13">#NUMBER_OF_SECONDS# <small class="lang" lang_id="seconds_short">sec</small></span>
                        </div>
                    </div>
                </div>
                <a href="javascript:void(0);" class="btn-retake btn-reply invisible lang" lang_id="replay" fontsize="11" style="" width="62" max-width="none" min-width="0">Re-Play</a>
                <a class="btn-placeholder btn-retake invisible" fontsize="11" style="" width="62" max-width="none" min-width="0"></a>
            </div>
            <div class="text-block " fontsize="14"><p>How i can edit an dropdown select list from database ?</p><p class="message_show_more invisible">...&nbsp;<a class="lang" lang_id="see_more">See More</a></p><p class="message_show_more_text invisible"></p>
            </div>

           <div class="image-block invisible">

               <span class="lang images-load-more invisible" lang_id="load_more_image">Load ## more image</span>
               <span class="lang images-load-more invisible" lang_id="load_more_images">Load ## more images</span>
           </div>
            <div class="video-block invisible">

                <span class="lang videos-load-more single-video invisible" lang_id="load_more_video">Load ## more video</span>
                <span class="lang videos-load-more multiple-videos invisible" lang_id="load_more_videos">Load ## more videos</span>
            </div>
           <div style="clear:both;"></div>
            <footer>
                <div class="footer-l float-left">
                    <div class="like float-left" height="26" line-height="19">
                        <a href="javascript:void(0);" class="" width="21" max-width="none" min-width="0"><span class="icon-love"></span></a>
                        <span class="number_of_likes hidden" ln="0" fontsize="14">0</span>
                    </div>

                    <!-- sharing options -->
                    <ul class="social-networks share float-left">
  	                <li class="float-left"><a rel="nofollow" href="javascript:void(0);" class="share-icon " width="19" max-width="none" min-width="0" height="19" line-height="0">&nbsp;</a></li>
                        <li class="float-left"><a rel="nofollow" class="facebook" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Facebook</a></li>
                        <li class="float-left"><a rel="nofollow" class="twitter" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Twitter</a></li>
                        <li class="float-left"><a rel="nofollow" class="google-plus" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Google+</a></li>
                        <li class="float-left"><a class="copy-link" href="javascript:void(0);" width="26" max-width="none" min-width="0" height="26" line-height="0">Copy link</a></li>
                    </ul>
                    <span class="clear-float"></span>
                </div>
                <a href="javascript:void(0);" class="reply btn gray middle float-right lang " lang_id="reply" fontsize="15" height="27" line-height="27">Reply</a>
                <div class="share-link-container float-left" style="display:none;"><input class="share-link-input" value="https://www.heyoya.com/social/showComment?commentId=252373&amp;pageId=231255" fontsize="14" style="width: 569px;" type="text"></div>
            </footer>
            
            
            
        </article>
    </div>
    
                     <div id="loadingDiv" class="no-comments block invisible" fontsize="14">
                         <div class="holder">
                             <div class="frame">
                                 <ul class="circles-list">
                                     <li class=""><span class="one"></span></li>
                                     <li class=""><span class="two"></span></li>
                                     <li class=""><span class="three"></span></li>
                                     <li class=""><span class="four"></span></li>
                                     <li class=""><span class="five"></span></li>
                                 </ul>
                                 <p class="lang" lang_id="processing">Processing</p>
                             </div>
                         </div>
                     </div>
                    <div id="noComments" class="invisible no-comments block" fontsize="14">
                        <div class="">
                            <span class="icon-mic big"></span>
                            <span class="icon-lines big"></span>
                        </div>
                        
                        <p class="lang" lang_id="no_reviews_general">No comments yet, be the first one!</p>
                    </div>
                    <div id="noVocalComments" class="invisible no-comments block" fontsize="14">
                        <span class="icon-mic big"></span>
                        
                        <p class="lang" lang_id="no_voice_reviews">No voice comments yet, be the first one!</p>
                    </div>
                    <div id="noTextualComments" class="invisible no-comments block" fontsize="14">
                        <span class="icon-lines big"></span>
                        
                        <p class="lang" lang_id="no_text_reviews">No text comments yet, be the first one!</p>
                    </div>
                    <div id="commentsLoadMoreContainer">
                        <a id="commentsLoadMore" class="btn blue middle invisible lang finished" lang_id="load_more" href="javascript:void(0);" fontsize="15">Load More</a>
                        <a id="commentsLoadingMore" class="invisible btn blue middle invisible lang" lang_id="loading" href="javascript:void(0);" fontsize="15">Loading...</a>
                    </div>
		    <div id="mainPoweredBy" class="powered-by" fontsize="13">
                        <a id="poweredByLink" href="https://www.heyoya.com/" rel="nofollow" target="_blank"><span></span></a>
                        <a class="terms-Link" href="https://www.heyoya.com/terms-and-conditions/" rel="nofollow" target="_blank"><span>Terms</span> <span class="seperator"></span> </a>
                        <a class="privacy-policy-link" href="https://www.heyoya.com/privacy-policy/" rel="nofollow" target="_blank"><span>Privacy</span></a>
                    </div>
                    <div id="reportBadContainer" class="invisible">
    <div id="reportBad" class="block">
        <a class="close" width="8" max-width="none" min-width="0" height="8" line-height="19"></a>
        <div>
            <div class="review-posting-block">
                <h2 class="h2" fontsize="16">
                    <span class="lang" lang_id="report_this_comment">REPORT THIS COMMENT:</span>
                    <span class="flag" width="17" max-width="none" min-width="0" height="18" line-height="29"></span>
                </h2>
                <form class="report-form signin-form">
                    <fieldset>
                        <div class="field-wrap float-left first" fontsize="14">
                            <input class="reporter-name-input lang" maxlength="50" max_width="327" placeholder-default-lang-id="your_name" placeholder="Your Name" placeholder-default="Your Name" placeholder-missing-lang-id="name_is_required" placeholder-missing="Name is required" fontsize="14" type="text">
                        </div>
                        <div class="field-wrap float-left email" fontsize="14">
                            <input class="reporter-email-input lang" maxlength="255" placeholder-default-lang-id="your_email" placeholder="Your Email" placeholder-default="Your Email" placeholder-missing-lang-id="email_is_required" placeholder-missing="Email is required" placeholder-invalid-lang-id="email_is_invalid" placeholder-invalid="Email is invalid" fontsize="14" type="email">
                        </div>
                        <div class="field-wrap float-left type" fontsize="14">
                            <dl id="reportType" class="dropdown">
                                <dt><a><span class="lang" lang_id="abuse_type">Abuse Type</span><span class="arrow"></span></a></dt>
                                <dd>
                                    <ul>
                                        <li><a class="default lang" lang_id="abuse_type">Abuse Type</a></li>
                                        <li><a class="lang" lang_id="adult_content">Adult Content</a></li>
                                        <li><a class="lang" lang_id="copyright_infringement">Copyright Infringement</a></li>
                                        <li><a class="lang" lang_id="trademark_infringement">Trademark Infringement</a></li>
                                        <li><a class="lang" lang_id="defamation_privacy">Defamation/Privacy</a></li>
                                        <li><a class="lang" lang_id="hacking">Hacking</a></li>
                                        <li><a class="lang" lang_id="pedophilia_child_abuse">Pedophilia/Child Abuse</a></li>
                                        <li><a class="lang" lang_id="spam">Spam</a></li>
                                        <li><a class="lang" lang_id="phishing">Phishing</a></li>
                                        <li><a class="lang" lang_id="investigations_illegal_content">Investigations/Illegal Content</a></li>
                                        <li><a class="lang" lang_id="other">Other</a></li>
                                    </ul>
                                </dd>
                            </dl>
                        </div>
                        <div class="field-wrap float-left report-comment" fontsize="14">
                            <textarea class="reporter-comment-input lang" maxlength="255" placeholder-default-lang-id="comments" placeholder="Comments" placeholder-default="Description" placeholder-missing-lang-id="comment_is_required" placeholder-missing="Description is required" fontsize="14"></textarea>
                        </div>

                    </fieldset>
                </form>
            </div>
            <div class="thank-you invisible lang" lang_id="thanks_for_submitting_the_form">
                Thanks for submitting the form!
            </div>
            <div>
                <div class="powered-by float-left" fontsize="13"><span class="lang" lang_id="powered_by">Powered by</span> <a target="_blank" href="https://www.heyoya.com/"><span class="logo-heyoya"></span> Heyoya</a></div>
                <a class="submit-btn btn gray middle float-right lang" lang_id="submit" href="javascript:void(0);" fontsize="15">Submit</a>
            </div>

        </div>
    </div>
</div>

                </div>
            </div>
        </div>
    </div>
</div>
<div id="addContainerBackground" class="invisible"></div>
<div id="howToVideo" class="invisible">
    <a id="howToVideoClose" class="lang" lang_id="close">Close</a>
    <div id="howToVideoContainer">
        <div id="howToVideoInner"></div>
    </div>
</div>
<div id="templates" class="invisible">
    <textarea id="farfeshDemoA" fontsize="14">        &lt;div 
class="block review farfesh"&gt;
            &lt;article class="review-post " style="  text-align: 
center;  padding-top: 20px;  margin-bottom: 20px;"&gt;

                &lt;script type="text/javascript" 
src="http://cas.criteo.com/delivery/ajs.php?zoneid=112711&amp;nodis=1&amp;cb=98463909466&amp;exclude=undefined&amp;charset=windows-1256&amp;loc=http%3A//www.farfesh.com/Display.asp%3FcatID%3D126%26mainCatID%3D124%26sID%3D167008%23topofpage&amp;referer=http%3A//hdev1.heyoya-dev.com%3A8085/b2b/demos/farfesh/demo-en.html"&gt;&lt;/script&gt;

                &lt;script 
src="http://www.googletagservices.com/tag/js/gpt.js"&gt;
                    
googletag.pubads().definePassback('/60345044/Pirsom_Ayoub_LTD_TOP/farfesh.com/Arab_films_and_TV',
 [468, 60]).display();
                &lt;/script&gt;
                &lt;script type="text/javascript" 
src="https://securepubads.g.doubleclick.net/gampad/ads?gdfp_req=1&amp;correlator=4212503905042432&amp;output=json_html&amp;callback=googletag.impl.pubads.setPassbackAdContents&amp;impl=s&amp;eid=108809048%2C108809031%2C108809035&amp;sc=0&amp;sfv=1-0-2&amp;iu=%2F60345044%2FPirsom_Ayoub_LTD_TOP%2Ffarfesh.com%2FArab_films_and_TV&amp;sz=300x250&amp;eri=2&amp;cookie=ID%3Ddc8803604d2016eb%3AT%3D1430944184%3AS%3DALNI_MYwSSbUdCnRiOqE_0VvXRgjIVSCxQ&amp;lmt=1430949487&amp;dt=1430949487228&amp;cc=100&amp;frm=20&amp;biw=1920&amp;bih=612&amp;oid=3&amp;adk=913651147&amp;ifi=7&amp;u_tz=180&amp;u_his=1&amp;u_java=true&amp;u_h=1080&amp;u_w=1920&amp;u_ah=1040&amp;u_aw=1920&amp;u_cd=24&amp;u_nplug=6&amp;u_nmime=8&amp;u_sd=1&amp;flash=17.0.0&amp;url=http%3A%2F%2Fwww.farfesh.com%2FDisplay.asp%3FcatID%3D126%26mainCatID%3D124%26sID%3D167008%23topofpage&amp;ref=http%3A%2F%2Fhdev1.heyoya-dev.com%3A8085%2Fb2b%2Fdemos%2Ffarfesh%2Fdemo-en.html&amp;vrg=60&amp;vrp=60&amp;ga_vid=816799252.1430943699&amp;ga_sid=1430946318&amp;ga_hid=22639329&amp;ga_fc=true"&gt;&lt;/script&gt;

                &lt;script async="" type="text/javascript" 
src="http://www.googletagservices.com/tag/js/check_359604.js"&gt;&lt;/script&gt;

                &lt;iframe 
src="http://tpc.googlesyndication.com/safeframe/1-0-2/html/container.html"
 style="visibility: hidden; display: none;"&gt;&lt;/iframe&gt;
                &lt;iframe id="google_ads_frame6" 
name="google_ads_frame6" width="468" height="60" frameborder="0" 
src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-1231661633440980&amp;format=468x60&amp;output=html&amp;h=60&amp;slotname=8697072091&amp;adk=661421442&amp;w=336&amp;lmt=1430948941&amp;flash=17.0.0&amp;url=http%3A%2F%2Fwww.farfesh.com%2FDisplay.asp%3FcatID%3D126%26mainCatID%3D124%26sID%3D167008%23topofpage&amp;dt=1430948933769&amp;bpp=652&amp;bdt=3693&amp;shv=r20150430&amp;cbv=r20150428&amp;saldr=aa&amp;prev_fmts=160x600_as%2C728x90%2C570x135&amp;correlator=4978660823041&amp;frm=20&amp;ga_vid=816799252.1430943699&amp;ga_sid=1430946318&amp;ga_hid=2116905791&amp;ga_fc=1&amp;u_tz=180&amp;u_his=1&amp;u_java=1&amp;u_h=1080&amp;u_w=1920&amp;u_ah=1040&amp;u_aw=1920&amp;u_cd=24&amp;u_nplug=6&amp;u_nmime=8&amp;dff=arial&amp;dfs=16&amp;adx=718&amp;ady=1364&amp;biw=1920&amp;bih=612&amp;eid=575144604%2C317150304&amp;oid=3&amp;ref=http%3A%2F%2Fhdev1.heyoya-dev.com%3A8085%2Fb2b%2Fdemos%2Ffarfesh%2Fdemo-en.html&amp;rx=0&amp;eae=0&amp;fc=24&amp;brdim=0%2C0%2C0%2C0%2C1920%2C0%2C1920%2C1040%2C1920%2C612&amp;vis=2&amp;rsz=d%7C%7Ca%7C&amp;abl=NA&amp;ppjl=u&amp;fu=16&amp;bc=1&amp;ifi=6&amp;xpc=ElvyUglOOF&amp;p=http%3A//www.farfesh.com&amp;dtd=7847"
 marginwidth="0" marginheight="0" vspace="0" hspace="0" 
allowtransparency="true" scrolling="no" 
allowfullscreen="true"&gt;&lt;/iframe&gt;
            &lt;/article&gt;
        &lt;/div&gt;
    </textarea>
    <textarea id="adTemplate" fontsize="14">        &lt;div class="block review ad-entry"&gt;
            &lt;article class="review-post " style="  text-align: center;  padding-top: 130px;  margin-bottom: 20px;"&gt;
            &lt;/article&gt;
        &lt;/div&gt;
    </textarea>
    <textarea id="commentInner" fontsize="14">   		
        &lt;article class="review-post comment new #PROCESSING_CLASS# 
#PENDING_CLASS# #FLAGGED_CLASS# #COMMENT_SUB# #COMMENT_INVISIBLE#" 
cid="#COMMENT_ID#" ctype="#COMMENT_TYPE#" csc="#COMMENT_SUB#" 
scl="0"&gt;
       
            &lt;header&gt;
                &lt;div class="header-l"&gt;
                    &lt;a href="javascript:void(0);" class="photo 
float-left"&gt;
                        &lt;img src="#USER_PHOTO_URL#" 
class="#USER_DEFAULT_PHOTO_CLASS#" height="60" width="60" 
alt="#USER_NAME#"&gt;
                    &lt;/a&gt;
                    &lt;div class="text-wrap"&gt;
			            &lt;span class="reply-on-full-name 
#REPLY_FULL_NAME_INVISIBLE#"&gt;@&lt;span&gt;#REPLY_ON_FULL_NAME#&lt;/span&gt;&lt;/span&gt;

                        &lt;h2 
class="product-title"&gt;#USER_TITLE#&lt;/h2&gt;
                        &lt;p&gt;&lt;a href="javascript:void(0);" 
class="name" title="#USER_NAME#"&gt;#USER_NAME_WITH_ICONS#&lt;/a&gt;
                        &lt;!-- &lt;span 
class="user-type"&gt;&nbsp;-&nbsp;&lt;span class="lang" 
lang_id="verified_user"&gt;Verified Heyoya 
User&lt;/span&gt;&nbsp;&lt;/span&gt; --&gt;
                        &lt;a class="invisible" 
href="javascript:void(0);" class="lang" lang_id="past_reviews"&gt;(2 
past comments)&lt;/a&gt;&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="header-r"&gt;&lt;a class="view invisible"
 href="javascript:void(0);"&gt;&lt;span 
class="icon-eye"&gt;&lt;/span&gt; 36&lt;/a&gt;&lt;time 
datetime="#TIME_ADDED_DATETIME#" 
class="time"&gt;#TIME_ADDED#&lt;/time&gt;&lt;span 
class="seperator"&gt;&lt;/span&gt;&lt;a href="javascript:void(0);" 
class="flag"&gt;&lt;/a&gt;&lt;/div&gt;
            &lt;/header&gt;
            &lt;div class="container #AUDIO_VISIBLE#"&gt;
                &lt;a class="pause-btn btn-blue invisible" 
href="javascript:void(0);"&gt;&lt;span 
class="icon-pause"&gt;pause&lt;/span&gt;&lt;/a&gt;
                &lt;a class="play-btn btn-blue " 
href="javascript:void(0);"&gt;&lt;span 
class="icon-play"&gt;play&lt;/span&gt;&lt;/a&gt;
                &lt;a class="loading-btn btn-blue invisible" 
href="javascript:void(0);"&gt;&lt;span 
class="icon-refresh"&gt;loading&lt;/span&gt;&lt;/a&gt;
                &lt;div class="messaging-box content-right-box 
invisible"&gt;
                    &lt;span class="link-wrap"&gt;&lt;a 
href="javascript:void(0);" 
class="link-record-voice"&gt;&lt;/a&gt;&lt;/span&gt;
                &lt;/div&gt;
                &lt;div class="content-right-box"&gt;
                    &lt;!-- equalizer --&gt;
                    &lt;div class="equalizer solid"&gt;
                        &lt;div class="holder"&gt;
                            #TIME_PLACEHOLDER#
                            &lt;span class="time 
#NUMBER_OF_SECONDS_DISPLAY#"&gt;#NUMBER_OF_SECONDS# &lt;small 
class="lang" lang_id="seconds_short"&gt;sec&lt;/small&gt;&lt;/span&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;a href="javascript:void(0);" class="btn-retake 
btn-reply invisible lang" lang_id="replay" &gt;Re-Play&lt;/a&gt;
                &lt;a class="btn-placeholder btn-retake 
invisible"&gt;&lt;/a&gt;
            &lt;/div&gt;
            &lt;div class="text-block 
#COMMENT_MESSAGE_VISIBLE#"&gt;&lt;p&gt;#USER_MESSGAE#&lt;/p&gt;&lt;p 
class="message_show_more 
#COMMENT_MESSAGE_SHOW_MORE_VISIBLE#"&gt;...&nbsp;&lt;a class="lang" 
lang_id="see_more"&gt;See More&lt;/a&gt;&lt;/p&gt;&lt;p 
class="message_show_more_text 
invisible"&gt;#USER_MESSGAE_MORE#&lt;/p&gt;
            &lt;/div&gt;

           &lt;div class="image-block #COMMENT_IMAGE_VISIBLE#"&gt;

               &lt;span class="lang images-load-more 
#COMMENT_IMAGE_LOAD_MORE_SINGLE_VISIBLE#" 
lang_id="load_more_image"&gt;Load ## more image&lt;/span&gt;
               &lt;span class="lang images-load-more 
#COMMENT_IMAGE_LOAD_MORE_VISIBLE#" lang_id="load_more_images"&gt;Load ##
 more images&lt;/span&gt;
           &lt;/div&gt;
            &lt;div class="video-block #COMMENT_VIDEO_VISIBLE#"&gt;

                &lt;span class="lang videos-load-more single-video 
#COMMENT_VIDEOS_LOAD_MORE_SINGLE_VISIBLE#" 
lang_id="load_more_video"&gt;Load ## more video&lt;/span&gt;
                &lt;span class="lang videos-load-more multiple-videos 
#COMMENT_VIDEOS_LOAD_MORE_VISIBLE#" lang_id="load_more_videos"&gt;Load 
## more videos&lt;/span&gt;
            &lt;/div&gt;
           &lt;div style="clear:both;"&gt;&lt;/div&gt;
            &lt;footer&gt;
                &lt;div class="footer-l float-left"&gt;
                    &lt;div class="like float-left"&gt;
                        &lt;a href="javascript:void(0);" 
class=""&gt;&lt;span class="icon-love"&gt;&lt;/span&gt;&lt;/a&gt;
                        &lt;span class="number_of_likes 
#SHOULD_DISPLAY_LIKES#" 
ln="#NUM_OF_LIKES_NUMRIC#"&gt;#NUM_OF_LIKES#&lt;/span&gt;
                    &lt;/div&gt;

                    &lt;!-- sharing options --&gt;
                    &lt;ul class="social-networks share float-left"&gt;
  	                &lt;li class="float-left"&gt;&lt;a rel="nofollow" 
href="#SHARE_PAGE_URL#" class="share-icon #SHARE_PAGE_CLASS#" 
#SHARE_PAGE_TARGET# #SHARE_PAGE_ALT#&gt;&nbsp;&lt;/a&gt;&lt;/li&gt;
                        &lt;li class="float-left"&gt;&lt;a 
rel="nofollow" class="facebook" 
href="javascript:void(0);"&gt;Facebook&lt;/a&gt;&lt;/li&gt;
                        &lt;li class="float-left"&gt;&lt;a 
rel="nofollow" class="twitter" 
href="javascript:void(0);"&gt;Twitter&lt;/a&gt;&lt;/li&gt;
                        &lt;li class="float-left"&gt;&lt;a 
rel="nofollow" class="google-plus" 
href="javascript:void(0);"&gt;Google+&lt;/a&gt;&lt;/li&gt;
                        &lt;li class="float-left"&gt;&lt;a 
class="copy-link" href="javascript:void(0);"&gt;Copy 
link&lt;/a&gt;&lt;/li&gt;
                    &lt;/ul&gt;
                    &lt;span class="clear-float"&gt;&lt;/span&gt;
                &lt;/div&gt;
                &lt;a href="javascript:void(0);" class="reply btn gray 
middle float-right lang #SHOULD_SHOW_REPLY_BTN#" 
lang_id="reply"&gt;Reply&lt;/a&gt;
                &lt;div class="share-link-container float-left" 
style="display:none;"&gt;&lt;input class="share-link-input" type="text" 
value="#COMMENT_SHARE_URL#" /&gt;&lt;/div&gt;
            &lt;/footer&gt;
            #PROCESSING_PLACEHOLDER#
            #FLAGGED_PLACEHOLDER#
            #PENDING_PLACEHOLDER#
        &lt;/article&gt;
    </textarea>
    <textarea id="commentWrapper" fontsize="14">        &lt;div class="block review"&gt;#COMMENT_INNER_CODE#&lt;/div&gt;
    </textarea>

    <textarea id="adEntryTemplate" fontsize="14">        &lt;div 
class="block review ade"&gt;
            &lt;article class="review-post comment" scl="0"&gt;
                &lt;header&gt;
                    &lt;div class="header-l"&gt;
                        &lt;a href="javascript:void(0);" class="photo 
float-left"&gt;
                            &lt;img src="#THUMBNAIL#" height="60" 
width="60" alt="#DISPLAY_NAME#"&gt;
                        &lt;/a&gt;
                        &lt;div class="text-wrap"&gt;
                            &lt;div class="product-title-top"&gt;
                                &lt;div 
class="product-title-container"&gt;
                                    &lt;h2 class="product-title" 
title="#TITLE#"&gt;#TITLE#&lt;/h2&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;

                            &lt;p&gt;&lt;a href="javascript:void(0);" 
class="name" title="#DISPLAY_NAME#"&gt;#DISPLAY_NAME#&lt;/a&gt;&lt;span 
class="user-type"&gt;&lt;span class="minus-sign 
#MINUS_SIGN_VISIBILITY#"&gt;&nbsp;-&nbsp;&lt;/span&gt;&lt;span 
class="lang" 
lang_id="sponsored"&gt;Sponsored&lt;/span&gt;&nbsp;&lt;/span&gt;&lt;/p&gt;

                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/header&gt;
                &lt;div class="text-block #DESCRIPTION_VISIBLE#"&gt;
                    &lt;p&gt;#DESCRIPTION#&lt;/p&gt;
                &lt;/div&gt;
                &lt;span class="click-url 
invisible"&gt;#CLICK_URL#&lt;/span&gt;
            &lt;/article&gt;
        &lt;/div&gt;
    </textarea>

    <textarea id="jmgAdTemplate" fontsize="14">&lt;div class="block 
review ade"&gt;&lt;article class="review-post comment" style="  
text-align: center;  padding-top: 0px;margin-bottom: 
-4px;"&gt;&lt;iframe 
src="//commerce-static.heyoya.com/b2b/jmg/#FILE_NUMBER#_#NUMBER#.#FILE_EXTENSION#?a=17&amp;aff_id=#AFFILIATE_ID#&amp;page_url=#PAGE_URL#"
 style="width: #WIDTH#px;height: #HEIGHT#px;overflow: hidden;" 
frameborder="0"&gt;&lt;/iframe&gt;&lt;/article&gt;&lt;/div&gt;</textarea>

    <textarea id="customLogoTemplate" fontsize="14">        &lt;div id="customLogo"&gt;&lt;img src="#IMAGE_SRC#" alt=""/&gt;&lt;/div&gt;
    </textarea>

    <textarea id="progressBarEntry" fontsize="14">        &lt;span class="recorder-bar-entry #STYLE_COLOR#" style="min-height:#HEIGHT#px;"&gt;&lt;/span&gt;
    </textarea>
    <textarea id="processingTemplate" fontsize="14">        &lt;div class="processing-info"&gt;
            &lt;div class="holder"&gt;
                &lt;div class="frame"&gt;
                    &lt;ul class="circles-list"&gt;
                        &lt;li class="invisible"&gt;&lt;span class="one"&gt;&lt;/span&gt;&lt;/li&gt;
                        &lt;li class="invisible"&gt;&lt;span class="two"&gt;&lt;/span&gt;&lt;/li&gt;
                        &lt;li class="invisible"&gt;&lt;span class="three"&gt;&lt;/span&gt;&lt;/li&gt;
                        &lt;li class="invisible"&gt;&lt;span class="four"&gt;&lt;/span&gt;&lt;/li&gt;
                        &lt;li class="invisible"&gt;&lt;span class="five"&gt;&lt;/span&gt;&lt;/li&gt;
                    &lt;/ul&gt;
                    &lt;p class="lang" lang_id="processing"&gt;Processing&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    </textarea>
    <textarea id="commentFlaggedTemplate" fontsize="14">        &lt;div 
class="comment-disabled" &gt;        
        	&lt;span class="holder-container"&gt;&lt;img 
src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAlJJREFUeNq0l8FrE0EUxjdRSlkQg6X1JEJjJEl7qp5FbG0E0bvHIATaSz3UnpqWevAPEC8FT6XQHiwUVHpKCkJIbJNTULyJMVDopfFg24Cb7bfwFh7DbvbNpvvgx8zOzrz59s3sm92YbdtGH8uAF2AaZEGC2jugCfbBFvhphDVHgAdp8NmW2y5I+fjqi1fjHOja+nYOCoMKeOvhuAIWwCS4DhJUfwWqHv1XwwqYUxz9Ao8FTmZBSxlb0BWQVsL+DdzQeJJRcKAsR0pHwBflyd3Jr4J5sE2hDxLRUjamSEBGCZ8b9mGwx9rvCxw+UXzdlQh4o2w49+Z7ajsCOY3lqDF/KxIBFTZggW6Mg//gDExovlqLzF85qH+cMpxrJSqfgytgE3zXzG0lVs8GdY6z9OrYHyqTVNZCJNffrH5TIoBbjMouldeMwcyWCOiw61tU1ql8FGLS26x+LBHQZNczVH4CFdAIIWCG1X9ITsM1tmurYU40hQbzV5S8hmkleeQGmPwZ89MDSWkq3mUDW5RWdScfA23mZ0fnLEjRAeJaXVOEM3mTjbcoGlrHcUFZijbldknY2x7fBX9BHpg6HyRFD0eH4DWYAiOEU19SNpyX9Siaps4n2Us6A3TN6nPPV4RfaJLKxgx6yo/gKYVdS0TQ+t6hZSnTsWwRTr0ElpVXLU+CxCKMS0g8HJMmsaUiLluAVMSBKyIKAVIRzrKasYBfs0HMBF/BvT59PkQpQCLiX9yI1k7BA3Doc9+KWoAr4iH9Sau2EdUm9NuY65SsTsA7MHQhwAATpEd0vqq6RAAAAABJRU5ErkJggg=="/&gt;&lt;span
 class="lang" lang_id="pending_admin_verification"&gt;Pending 
administrator verification&lt;/span&gt;&lt;/span&gt;
        &lt;/div&gt;
    </textarea>    
    <textarea id="commentPendingTemplate" fontsize="14">     	&lt;div 
class="comment-disabled" &gt;
    		&lt;span class="holder-container"&gt;&lt;img 
src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABjCAYAAACPO76VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAB71JREFUeNrsXQtsVEUUfXysBhFUggFBkkYwSCAiIhQoIEQqglCoVkU+QYkYiCECGjAxaPwV0PiJDSgxKAoqoDRKhKBQIqIUBMGgQgQ/aI18BIpIkUJZz2XvhuF2Xruf995ud+9JTuTN9r15e8/MnZk7d9YGoVDIUaQGGqoJVAyFiqFiKFQMFUOhYqgYChVDxVCoGCqGQsVQqBgqhkLFUDEUsYjRAdwJhpRJ4z4wh8TYA/YEF2vbTAo+A7uDZRE3VQmOBSeBp9Q+geAs+Aw4BDxEBQ0sCQmk0kdgO7WXbzgMjgNXyTGjs/jDrWA3cLXazBds5Qa/SpRnkxhrwYkW5e4An+TupPAGb4C54G+ifBj4rQM3VREK422wCbktwTzwUEiRCE6A4yy2bQQWgWfpj2jMqIAqzVmh78BCnmGZoPFjGc+6FLGBbHknLx9MXAV+AA5wW/TdwD5thCj/HewPFqttY0IJjw9SiNxzbskQ4hwMN2WCus1csLGla40Gj6vnqRWnwenseaT9poJVtpukm5LYAN4D7hflNANbDnbUxl8DZKu7wS9FeTPwTR4G4opN9QO3g31F+fdgDxZEcR5fgDdahKDGu7k2IaINFLYCS8HptEg0yo9zC5gGns5wEWjl/AJ4q8WLjAY3ReVFXMYMN6wAm1n8YB+wPEPHh2PgCItNLgaLY3lQXWNGQlO1DICnS4F49jMo5F7GsRUTB8FBYBF323THIrC3RYg8nrbGviaL0U1JvM7dUXbRYeDRNHVLJ8GJlu/cEJwFVsf74HjclC3wVWiJt2SDK8CuadQbfuVJy1ZR3sIJ7wcNTuThXmy7dueXG2J58V7gwjQR4lPwZosQ3dktDU60Aq/2wKllrASfBhsZ5f+BE8AH+N/1EdXgLI6sHhaf0WbcRservZ8Exwwb1oAtLT61K/hzPRsfDoKDLN+Fotvvel2ZH9khedyVc0T5DvAm8JN60iNoxkibbJ+L8ut4NT3G6wr9StVpx6GBh0V5BUeEH+fun6oo5lBQuSin9dU3Ts3dUSdV3ZTEErCppasPAPenmFuiaPS9lnel6PVLkU0gv+DF1DYa/Mitarcob8Or9twU6A30bgXgLlF+Nb9jX79fIKiMwk7cvWXU8k9wIPhyklftS3naKoWg0M62IIQIyk1JvAJeZHEFhRx0CxK0yTPF8i7kMWbwJlFgCMpNSXzNLuGAKO/IeySdA3gH6pV38azJRFNeTecH3T2TlfjciPdDbH6bpsRLfK5/nRPeBCqzfHbSuXDfJq3FKOdeUcnXV4gvf4Ln8DQt9jrVlMal58DbHE6pNHClseIeZdkiSLsx41+wi1jJ7gBXgpdbfHcPcJ9HdR8Bh1rquARcAP4BtjbK23JZYAhSjDPgcJHA9bHx+S8cMpHGasEhlkSwDcy2PDubP4ugTCTy9eQEtMDEqA6ormnCEHNd9gomuOwVPBXnuy7g1i+fOZR7i8RykWIz0u/FnilGEJgnDPFQHX+/0MWAg8G/o6yzEhzvklL5bB0GLhL3zEwXMdaBWcYXGwieiuK+7eC1FmO2A7fUce9PLi6Poslro3zvMeLeRfVdjF1gc+MLdYhxjKKt23yXzIt5LveUuEwGesWYwUINpr9xPzWo0voqBu0FtBetck8czyF3Mpvdiy3V9ISRUjnDJaVyiltKZUDfIaliUKvqJ1rV+gSfSa2ylcXQncEN4C2WzyhavDTBeneL3t3erxmoX2KMFkZ5x6PnkpvpazG6jdezm0zmuJd0MfyeiZC7merijiIcFfI+U36+qOPBVBdjmTBSgY9zdFoPyFRTiga/5uM4+Kiob06qipGM1etuHjOovmvATUmOIiQcQg95FPyjIwJ/8XVbjoi2CSC8RgFHygCfDLYMqL4cI5DYBPzKi2Q9L8SgUHgf4+UudcIp8F2c9EU5J+iVG41vE/83aSH0ag537zT2Kd5LcyEixv+Qe0VEnJHGtkBSxHhM5EHNAYc7mYHI761E9mIoV+y+hPbyPQz+TQplJjybysc7ZpTybtkZvqYMD/p5iywnMzHeCZ/XiICSve8PYgDfxYPXMSOJoCwJSQ2phConnIW+nq+zuHEO9FMM2jem0zp7+bolZ3q0dxTSNi24kUZtm4Yxql9gVJbFMwoV4nzDXG14CDo+cDt41GsxqPfQGYuNwi/2Uw0uADXMFcbYuZdzs6q8FGO2yGWa6YTPNytqgsaJYjHZmezV1HapCP4VBrVBX88xQ0x5ixKd2m5mpSuNhU6psfJU1B6dKDAWxeSFSmpbFNcmBi3x6fDgASMEsAVsrXaOKahIcbsdRlCRflekWyxjxj9O+PRqRIjLnPBv6qkQsYGMv9IIIJI4+U7NE1GuYlD3GiuCf4szIPjnZ1CxRAQV821BRZsY00Xw78UMCv75BXL37xtBRTo3PsoR5xqlGPPBV41rOuf8iNrSE1CDft64pgb/hNsATrOkPEMtmkWtARurHT0FLZ7fMq7p19kmmGL8wKN+JPjXiWNOzdV2nqOKwySlRljpXFCRxDjoaPAvaFDcKsewOR0Y2kJi9GbjR1SiI1a5ai/fsZcX0Ucica0G3iSHKLyA/p9lVAyFiqFiKFQMFUOhYqgYChVDxVCoGCqGQsVQqBgqhkLFSHX8L8AAmVu8XRLHtYwAAAAASUVORK5CYII="
 width="32px" height="32px"/&gt;&lt;span class="lang" 
lang_id="pending_email_verification"&gt;Pending email 
verification&lt;/span&gt;&lt;/span&gt;
    	&lt;/div&gt;
    </textarea>    
    <textarea id="notificationsTemplate" fontsize="14">        &lt;span 
class="msg-bar #NOTIFICATIONS_SMALL_CLASS# #NOTIFICATIONS_RED_CLASS#" 
style=""&gt;#NOTIFICATIONS_TEXT#&lt;/span&gt;
    </textarea>
    <textarea id="guidanceTemplate" fontsize="14">        &lt;div 
class="user-guidance invisible"&gt;
            &lt;div class="arrow-sign"&gt;&lt;/div&gt;
            &lt;div class="text"&gt;
                &lt;div class="close-link"&gt;X&lt;/div&gt;
                &lt;div class="title"&gt;#TITLE#&lt;/div&gt;
                &lt;div class="text-body"&gt;#BODY#&lt;/div&gt;
                &lt;div class="footer"&gt;
                    &lt;div class="float-left"&gt;#STEP#&lt;/div&gt;
                    &lt;div class="float-right"&gt;&lt;a class="by-link"
 href="#BY_LINK#" target="_blank"&gt;#BY#&lt;/a&gt;&lt;/div&gt;
                    &lt;span class="clear-float"&gt;&lt;/span&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    </textarea>
   
    <textarea id="notificationsHeadTemplate" fontsize="14">        
&lt;div class="header"&gt;&lt;span class="lang" lang_id="notifications" 
&gt;#NOTIFICATION_TEXT#&lt;/span&gt; &lt;span class="mark-read lang" 
lang_id="notifications_mark_all_as_read" 
&gt;#MARK_ALL_READ_TEXT#&lt;/span&gt;&lt;/div&gt;
    </textarea>


    <textarea id="notificationsBodyTemplate" fontsize="14">        
&lt;div class="row #SHOW_ROW# #READ_STATUS#" id="#ID#" 
onclick="openPage('#PAGE_URL#', #CID#, this)"&gt;
            &lt;div class="notification-avatar-div"&gt;
                &lt;img class="notification-avatar" 
src="#AVATAR_URL#"&gt;
            &lt;/div&gt;
            &lt;div class="row-data"&gt;
                &lt;span class="notification-text" 
title='#NOTIFICATION_DATA_TITLE#'&gt;#NOTIFICATION_DATA#&lt;/span&gt;
                &lt;br/&gt;&lt;span class="notification-type-icon 
#NOTIFICATION_TYPE_ICON#"&gt;&lt;/span&gt;&lt;span 
class="notification-time"&gt;#NOTIFTICATION_TIME#&lt;/span&gt;
                &lt;div class="dots" 
onclick="showOptions(event,this)"&gt;
                     &lt;span  class="dots-span"&gt;&lt;/span&gt;
                    &lt;div class="options-menu hidden"  &gt;
                        &lt;div class="options-wrapper"&gt;
                             &lt;span class="menu-item lang" 
lang_id="notifications_mark_as_read"  
onclick="markRead(#ID#,this)"&gt;#MARK_AS_READ#&lt;/span&gt;
                             &lt;span class="menu-item lang"  
lang_id="notifications_hide"  
onclick="hideNotification(#ID#,this)"&gt;#HIDE_THIS_NOTIFICATION#&lt;/span&gt;

                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
     </textarea>
    <textarea id="emptyNotificationsTemplate" fontsize="14"> &lt;div class="empty-notification #SHOW_ZERO_NOTIFICATION#"&gt;   #NO_NOTIFICATION_MSG#   &lt;/div&gt; </textarea>
    <textarea id="mobileVideoTemplate" class="invisible" fontsize="14"> 
       &lt;div id='#ID#' class='mobile-view-video-div float-left' 
onclick='loadVideoPlayerForMobile("#VIDEO_ID#",this, "#PLAYER_ID#")'&gt;
             &lt;span class='view-video-icon'&gt;&lt;/span&gt;
             &lt;span class='view-txt invisible'&gt;#TITLE#&lt;/span&gt;
             &lt;span class='post-media-link-domain'&gt; &nbsp; --- 
heyoya.com&lt;/span&gt;
        &lt;/div&gt;
    </textarea>

    <textarea id="mobileImageTemplate" class="invisible" fontsize="14"> 
        &lt;div class='mobile-view-image-div  view-image float-left' 
onclick='viewMedia(this, "#IMG_SRC#")'&gt;
            &lt;span class='view-image-icon'&gt;&lt;/span&gt;
            &lt;span class='view-txt'&gt;#VIEW_TEXT#&lt;/span&gt;
            &lt;span class='post-media-link-domain'&gt; &nbsp; --- 
heyoya.com&lt;/span&gt;
            &lt;div class='media invisible'&gt;&lt;img 
onload='hideLoader(this)' alt='Thumbnail' 
onclick='window.open(this.src)'/&gt;&lt;/div&gt;
         &lt;/div&gt;
     </textarea>

      <textarea id="desktopImageTemplate" class="invisible" fontsize="14">
           &lt;div class='media #SHOW_MORE_CONTENT#  
#INVISIBLE#'&gt;&lt;img #SRC# #LOAD_FUNCTION# #DATA# alt='Thumbnail' 
onclick='window.open(this.src)'/&gt;&lt;/div&gt;
      </textarea>

    <script type="text/plain" id="addCommentTemplate">
        <div id="addCommentContainer#ADD_COMMENT_CONTAINER_ID#" class="add-comment-reply-container #REPLY#" style="display:none;"><div class="shadow-div #TOP_LEVEL_COMMENT#"></div><div class="add-comment-record-guidance add-comment-guidance invisible"></div>
<div class="add-comment-text-guidance add-comment-guidance invisible"></div>
<div class="add-comment-title-guidance add-comment-guidance invisible"></div>
<div class="add-comment-login-guidance add-comment-guidance invisible"></div>

<div class="add-container block">
    <a class="how-to-video-link lang" title-lang="learn_more_about_heyoya" title="How to use Heyoya">?</a>
    <a class="invisible close"></a>
    <h2 class="h2">
        <span class="small default-headline lang" lang_id="add_comment_headline">Voice your opinion about</span><span class="small invisible reply-headline lang" placeholder-default-lang-id="start_conversion_with" placeholder="Start a conversation with {Commenter_Name} about"></span>
        <span class="headline-text"></span>
    </h2>
    <div class="container">
        <a class="record-btn btn-blue" href="javascript:void(0);"><span class="icon-mic">record</span></a>
        <a class="stop-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-stop">stop</span></a>
        <a class="pause-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-pause">pause</span></a>
        <a class="play-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-play">play</span></a>
        <a class="loading-btn btn-blue invisible" href="javascript:void(0);"><span class="icon-refresh">loading</span></a>
        <span class="btn-blue btn-unavailable invisible"></span>
        <div class="recorder-default-view content-right-box">
            <span class="link-wrap"><a class="link-record-voice lang" lang_id="start_recording">Start recording (click here to add your voice comment)</a></span>
        </div>

        <div class="recorder-messaging-view-unavailable content-right-box invisible"></div>

        <div class="recorder-messaging-view content-right-box invisible">
            <span class="link-wrap"><a class="link-record-voice"></a></span>
        </div>
        <div class="recorder-equalizer-view content-right-box invisible">
            <div class="equalizer">
                <div class="holder">
                    <span class="time invisible"><span class="recorder-time-seconds">30</span> <small class="lang" lang_id="seconds_short">sec</small></span>
                </div>
            </div>
        </div>
        <a class="add-comment-reset-button btn-retake invisible lang" href="javascript:void(0);" lang_id="retake">Re-Take</a>
        <a class="add-comment-clear-button btn-clear invisible lang" href="javascript:void(0);" lang_id="clear">Clear</a>
        <a class="add-comment-white-bg btn-retake invisible"></a>
        <div class="ucbrowser-install-message invisible">
            <h3>Record a voice comment with Heyoya</h3>
            <p>Record a voice comment by installing the Heyoya application!</p>
            <p class="android invisible"><a class="btn blue" href="intent://recordComment/#Intent;scheme=heyoyaapp;package=com.heyoya;category=android.intent.category.BROWSABLE;action=android.intent.action.VIEW;end">Click here to continue</a></p>
            <p class="ios invisible"><a class="btn blue" href="https://itunes.apple.com/il/app/heyoya-voice-comments-reviews/id1062215446?mt=8">Click here to continue</a></p>
            <a class="close"></a>
        </div>
    </div>
    <form class="submission-form post-step-1">
        <fieldset>
            <div class="form-elements">
                <textarea class="add-comment-text-input lang" cols="30" placeholder-default-lang-id="want_to_add_a_text_review" placeholder="Want to add a text comment? Start typing here..."></textarea>
                <div class="camera-div">
                    <span class="camera-icon"></span>
                    <span class="bell-icon invisible "><span class="notification-count"></span></span>
                    <div class="notification-area-wrapper" >
                        <div class="notification-body scrollbar"  id="style-1">
                            <!-- <div class="row read">
                                <div class="notification-avatar-div">
                                    <img class="notification-avatar" src="https://graph.facebook.com/203162273428853/picture?width=60&height=60">
                                </div>
                                <p class="row-data">
                                    Red Umbrella replied to your comment:"please help us dummies and decide that".</br>
                                    <span class="notification-type-icon reply"></span><span class="notification-time"> 24 Aug</span>
                                </p>
                            </div>
                            <div class="row unread">
                                <div class="notification-avatar-div">
                                    <img class="notification-avatar" src="images/avatar.jpg">
                                </div>
                                <p class="row-data">
                                    Norman Beck liked your comment:"ggsdfdfsf".</br>
                                    <span class="notification-type-icon like"></span><span class="notification-time"> 24 Aug</span>
                                </p>
                            </div> -->
                        </div>
                        <div class="footer invisible"><span></span></div>
                    </div>
                </div>

                <input type="file" class="invisible file-input" accept="image/*">
                <div class="messages invisible">
                    <span  class="validImg invalid invisible">Image upload failed. Please verify that the file is in a supported format (JPEG, PNG, or GIF).</span>
                    <span  class="sizeError invalid invisible">Image upload failed. Please verify that the file is not bigger than 1MB.</span>
                    <span  class="sizeError sizeError2mb invalid invisible">Image upload failed. Please verify that the file is not bigger than 2MB.</span>
                </div>
            </div>
        </fieldset>
    </form>

    <div class="rich-media-div invisible">
    </div>

    <input type="button" class="add-comment-submit-btn btn-long invisible lang" lang_id="continue_button" value="Continue">

    <div class="post-step-2" style="display:none;">
        <div class="review-posting-block">
            <form class="submission-form">
                <fieldset>
                    <textarea class="add-comment-title-input lang empty" maxlength="200"  max_width="433" max_width_reply="360" cols="30" placeholder-default-lang-id="enter_a_title_logged_out" placeholder="Please enter a title for your comment, and then select relevant log in below" placeholder-logged-out-lang-id="enter_a_title_logged_out" placeholder-logged-out="Please enter a title for your comment, and then select relevant log in below" placeholder-logged-in-lang-id="enter_a_title_logged_in" placeholder-logged-in='Please enter a title for your comment, and then click "Post Comment" below'  placeholder-mobile-lang-id="enter_a_title_mobile" placeholder-mobile="Textual comment" placeholder-android-mobile-lang-id="enter_a_title_mobile_android" placeholder-android-mobile="Enter a title" placeholder-android-mobile-missing-lang-id="enter_a_title_mobile_android_missing" placeholder-android-mobile-missing="Title is required"></textarea>
                </fieldset>
            </form>
            <div class="signin invisible signin-block">
                <div class="signin-selection">
                    <span class="login-with-social lang" lang_id="log_in_with">Log in to post</span>
                    <ul class="social-networks inline colored">
                        <li><a class="facebook lang" lang_id="log_in" href="javascript:void(0);">Log in</a></li>
                        <li><a class="twitter lang" lang_id="log_in" href="javascript:void(0);">Log in</a></li>
                        <li><a class="google-plus lang" lang_id="log_in" href="javascript:void(0);">Log in</a></li>
                        <li class="li-last"><a class="email lang" lang_id="log_in" href="javascript:void(0);">Log in</a></li>
                    </ul>
                    <div class="signin-small-message lang" lang_id="verification_purposes_only">(You are being asked to Log in for verification purposes only and will not be automatically shared)</div>
                </div>
                <form class="signin-form-container signin-form invisible">
                    <fieldset>
                        <span class="login-with-social lang" lang_id="or_sign_up_with_heyoya">Or sign up with Heyoya</span>
                        <div>
                            <div class="field-wrap float-left">
                                <input class="add-comment-name-input lang" type="text" maxlength="50" max_width="327" placeholder-default-lang-id="your_name" placeholder="Your Name"  placeholder-default="Your Name" placeholder-missing-lang-id="name_is_required" placeholder-missing="Name is required">
                            </div>
                            <div class="field-wrap float-left no-padding">
                                <input class="add-comment-email-input lang" maxlength="255" type="email" placeholder-default-lang-id="your_email"  placeholder="Your Email" placeholder-default="Your Email" placeholder-missing-lang-id="email_is_required" placeholder-missing="Email is required" placeholder-invalid-lang-id="email_is_invalid" placeholder-invalid="Email is invalid">
                            </div>
                            <input class="add-comment-post-comment lang" lang_id="post" type="button" value="Post">
                            <div class="gdpr-agreement-text">
                                <span class="agree-text lang" lang_id="agree_text">By signing up, you agree to the</span> Heyoya
                                <span ><a href="https://www.heyoya.com/terms-and-conditions/" class="terms-Link" rel="nofollow" target="_blank"> T&C</a> and <a class="privacy-policy-link" href="https://www.heyoya.com/privacy-policy/" rel="nofollow" target="_blank"> Privacy Policy</a></span>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="signout invisible signin-block">
                <div class="signin-form"><input class="add-signout-comment-post-comment lang" lang_id="post_review" type="button" value="Post comment"></div>
                <div class="signout-div"><span class="float-left user-photo inline-block"></span>
                        <div class="logout float-left">
                            <span class="user-name"></span>,&nbsp;<span class="lang" lang_id="not_you">Not You? <a href="javascript:void(0);" class="logout-button">Log out</a> and sign in as a different user.</span>
                        </div>
                </div>
            </div>
        </div>
    </div>
    <input type="button" class="btn-long lang invisible add-comment-post-comment-new" lang_id="post_review" value="Post Comment">


    <span class=" logout-n invisible logout-span">
        <span class="user-photo"></span>
        <span class="lang logout-text" lang_id="not_you_log_out">Not You?
        <a href="javascript:void(0);" class="logout-button">log out</a>
        </span>
    </span>
  <div class="clearfix"></div>
</div>
<div class="spacer-div #TOP_LEVEL_COMMENT#"></div></div>
    </script>
    <div id="additionalText" class="invisible">
        <span class="lang" lang_id="add_comment_headline">Voice your opinion about</span>
        <span class="lang" lang_id="start_conversion_with">Start a conversation with {Commenter_Name} about</span>
        <span class="lang" lang_id="start_recording">Start recording (click here to add your voice comment)</span>
        <span class="lang" lang_id="alternate_start_recording">Start recording<br>(click to add a voice comment)</span>
        <span class="lang" lang_id="seconds_short">sec</span>
        <span class="lang" lang_id="retake">Re-Take</span>
        <span class="lang" lang_id="clear">Clear</span>
        <span class="lang" lang_id="want_to_add_a_text_review">Want to add a text comment? Start typing here...</span>
        <span class="lang" lang_id="continue_button">Continue</span>
        <span class="lang" lang_id="enter_a_title_logged_out">Please enter a title for your comment, and then select relevant log in below</span>
        <span class="lang" lang_id="alternate_enter_a_title_logged_out">Please enter a title for your comment, and then select relevant log in below</span>
        <span class="lang" lang_id="enter_a_title_logged_in">Please enter a title for your comment, and then click "Post Comment" below</span>
        <span class="lang" lang_id="text_logged_out">Please select relevant log in below</span>
        <span class="lang" lang_id="text_logged_in">Now that your comment is ready,<br>click the "Post Comment" button below</span>
        <span class="lang" lang_id="enter_a_title_mobile">Textual comment</span>
        <span class="lang" lang_id="verification_purposes_only">You are being asked to Log in for verification purposes only and will not be automatically shared</span>
        <span class="lang" lang_id="your_name">Your Name</span>
        <span class="lang" lang_id="name_is_required">Name is required</span>
        <span class="lang" lang_id="your_email">Your Email</span>
        <span class="lang" lang_id="email_is_required">Email is required</span>
        <span class="lang" lang_id="email_is_invalid">Email is invalid</span>
        <span class="lang" lang_id="post">Post</span>
        <span class="lang" lang_id="post_review">Post comment</span>
        <span class="lang" lang_id="not_you">Not You? <a href="javascript:void(0);" class="logout-button">Log out</a> and sign in as a different user.</span>
        <span class="lang" lang_id="reviews">Comments</span>
        <span class="lang" lang_id="alternate_voice_and_text">Voice &amp; text</span>
        <span class="lang" lang_id="voice_and_text">Filter by voice &amp; text</span>
        <span class="lang" lang_id="voice_reviews">Filter by voice comments</span>
        <span class="lang" lang_id="text_reviews">Filter by text comments</span>
        <span class="lang" lang_id="its_all_so_quiet">It's all so quiet</span>
        <span class="lang" lang_id="no_reviews_general">No comments yet, be the first one!</span>
        <span class="lang" lang_id="no_voice_reviews">No voice comments yet, be the first one!</span>
        <span class="lang" lang_id="no_text_reviews">No text comments yet, be the first one!</span>
        <span class="lang" lang_id="load_more">Load More</span>
        <span class="lang" lang_id="loading">Loading...</span>
        <span class="lang" lang_id="powered_by">Powered by</span>
        <span class="lang" lang_id="verified_user">Verified Heyoya User</span>
        <span class="lang" lang_id="past_reviews">(### past comments)</span>
        <span class="lang months" lang_id="months">Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec</span>
        <span class="lang months-format" lang_id="months_format">MONTH DAY. YEAR</span>
        <span class="lang minutes-ago" lang_id="minutes_ago">### Minutes ago</span>
        <span class="lang minute-ago" lang_id="minute_ago">A minute ago</span>
        <span class="lang hours-ago" lang_id="hours_ago">### Hours ago</span>
        <span class="lang hour-ago" lang_id="hour_ago">An hour ago</span>
        <span class="lang just-added" lang_id="just_added">Just added</span>
        <span class="lang" lang_id="replay">Re-Play</span>
        <span class="lang" lang_id="reply">Reply</span>
        <span class="lang" lang_id="processing">Processing</span>
        <span class="lang" lang_id="report_this_comment">REPORT THIS COMMENT</span>
        <span class="lang" lang_id="abuse_types">Abuse Types:</span>
        <span class="lang" lang_id="abuse_type">Abuse Type</span>
        <span class="lang" lang_id="adult_content">Adult Content</span>
        <span class="lang" lang_id="copyright_infringement">Copyright Infringement</span>
        <span class="lang" lang_id="trademark_infringement">Trademark Infringement</span>
        <span class="lang" lang_id="defamation_privacy">Defamation/Privacy</span>
        <span class="lang" lang_id="hacking">Hacking</span>
        <span class="lang" lang_id="pedophilia_child_abuse">Pedophilia/Child Abuse</span>
        <span class="lang" lang_id="spam">Spam</span>
        <span class="lang" lang_id="phishing">Phishing</span>
        <span class="lang" lang_id="investigations_illegal_content">Investigations/Illegal Content</span>
        <span class="lang" lang_id="other">Other</span>
        <span class="lang" lang_id="comments">Description</span>
        <span class="lang" lang_id="comment_is_required">Comment is required</span>
        <span class="lang" lang_id="thanks_for_submitting_the_form">Thanks for submitting the form!</span>
        <span class="lang" lang_id="submit">Submit</span>
        <span class="lang" lang_id="log_in">Log in</span>
        <span class="lang" lang_id="close">Close</span>
        <span class="lang" lang_id="learn_more_about_heyoya">How to use Heyoya</span>
        <span class="lang" lang_id="recorder_flash_activation_sentence">Click Allow and start recording!</span>
        <span class="lang" lang_id="log_in_with">Log in to post</span>
        <span class="lang" lang_id="or_sign_up_with_heyoya">Or sign up with Heyoya</span>
        <span class="lang" lang_id="pending_email_verification">Pending email verification</span>
        <span class="lang" lang_id="pending_admin_verification">Pending administrator verification</span>
        <span class="lang" lang_id="see_more">See More</span>
        <span class="lang" lang_id="not_you_log_out">Not You?</span>

        <span id="messageMicVolumeIsZero" class="lang" lang_id="mic_volume_is_zero">Mic volume is zero, please check it</span>
        <span id="messageMicVolumeIsZeroHasMore" class="lang" lang_id="mic_volume_is_zero_has_more">Mic volume is zero<br>We've detected an additional microphone <a>Click here to start again with it</a></span>
        <span id="messagePostingReview" class="lang" lang_id="posting_review">Posting comment, please wait...</span>
        <span id="messageSomethingWentWrong" class="lang" lang_id="something_went_wrong">Something went wrong,<br>please try again in a few seconds</span>
        <span id="messageVerificationEmailSent" class="lang" lang_id="verification_email_sent">A verification email was sent to your mailbox. To proceed, please approve it.</span>
        <span id="messageReviewSavedPendingAdministratorApproval" class="lang" lang_id="review_saved_pending_administrator_approval">Comment saved successfully! It will be publish according to the administrator approval</span>
        <span id="messageReviewSavedSuccessfully" class="lang" lang_id="review_saved_successfully">Comment saved successfully!</span>
        <span id="messageRecordingApprovalTimedOut" class="lang" lang_id="recording_approval_timed_out">Recording approval timed-out, please try again</span>
        <span id="messageCantFindYourMic" class="lang" lang_id="cant_find_your_mic">We can't find your mic! Please check that its turned on</span>
        <span id="messageAllowToUseYourMic" class="lang" lang_id="allow_to_use_your_mic">Please allow Heyoya to use your microphone</span>
        <span id="messageAllowToUseYourMic_ff" class="lang" lang_id="allow_to_use_your_mic_ff">Look up! Click on the 2nd button and<br> allow Heyoya to use your mic</span>
        <span id="messageAllowToUseYourMicChrome" class="lang" lang_id="allow_to_use_your_mic_chrome">Please allow heyoya to use your microphone on your browser<br>(below the address bar)</span>
        <span id="messageReviewReadyAddTitle" class="lang" lang_id="review_ready_add_title">Now that your comment is ready, please add a title!</span>
        <span id="messageWaitReviewLoading" class="lang" lang_id="wait_review_loading">Please wait while your comment is loading</span>
        <span id="messageHeyoyaSayItLoud" class="lang" lang_id="heyoya_say_it_loud">Heyoya! Say it loud</span>
        <span id="messageCommentOriginallyRecorded" class="lang" lang_id="comment_originally_recorded">Comment was originally recorded at: </span>
        <span id="messageUsingHeyoyaCom" class="lang" lang_id="using_heyoya_com">using heyoya.com - Say it loud!</span>
        <span id="messagePostedAVoiceCommentWith" class="lang" lang_id="posted_a_voice_comment_with">### posted a voice comment with heyoya.com at </span>
        <span id="messagePostedACommentWith" class="lang" lang_id="posted_a_comment_with">### posted a comment with heyoya.com at </span>
        <span id="messageDontWaitListen" class="lang" lang_id="dont_wait_listen"></span>
        <span id="messagePreparingYourReview" class="lang" lang_id="preparing_your_review">Preparing your comment</span>
        <span id="messageDeviceNotSupportRecording" class="lang" lang_id="device_not_support_recording">Your device does not support recording.<br>Please proceed and post a text comment</span>
        <span id="viewMedia" class="lang" lang_id="view_text">View</span>
        <span id="hideMedia" class="lang" lang_id="hide_text">Hide</span>
        <span id="emojiSearch" class="lang" lang_id="search">Search</span>
        <span id="loadMoreImages" class="lang" lang_id="load_more_images">Load ## more images</span>
        <span id="loadMoreImage" class="lang" lang_id="load_more_image">Load ## more image</span>
        <span id="loadMoreVideos" class="lang" lang_id="load_more_videos">Load ## more videos</span>
        <span id="loadMoreVideo" class="lang" lang_id="load_more_video">Load ## more video</span>
        <span id="imageText" class="lang" lang_id="image_text">image</span>
        <span id="imagesText" class="lang" lang_id="images_text">images</span>
        <span id="videoText" class="lang" lang_id="video_text">video</span>
        <span id="videosText" class="lang" lang_id="videos_text">videos</span>
        <span id="replyNotification" class="lang" lang_id="notifications_loggedin_user_has_replied"> #USERNAME# replied to you on:"#MESSAGE#". </span>
        <span id="likeNotification" class="lang" lang_id="notifications_loggedin_user_has_liked"> #USERNAME# liked your comment:"#MESSAGE#". </span>
        <span id="anonymousLikeNotification" class="lang" lang_id="notifications_anonymous_user_has_liked">user liked you comment:"#MESSAGE#". </span>
        <span id="pendingAdminApprovalNotification" class="lang" lang_id="notifications_comment_pending_admin_verification"> Your comment:"#MESSAGE#". posted on "#PAGE_URL#" is waiting for admin approval </span>
        <span id="pendingEmailApprovalNotification" class="lang" lang_id="notifications_comment_pending_email_verification"> Your comment:"#MESSAGE#". posted on "#PAGE_URL#" is waiting for your email approval </span>
        <span id="zeroNotification" class="lang" lang_id="notifications_no_notifications">no notifications yet</span>
        <span id="mark-read" class="lang" lang_id="notifications_mark_as_read">Mark as read</span>
        <span id="hide-notification" class="lang" lang_id="notifications_hide">Hide this notification</span>
	<span id="mark-all-read" class="lang" lang_id="notifications_mark_all_as_read">Mark all as read</span>
        <span id="notifications" class="lang" lang_id="notifications">Notifications</span>
        <span id="load-more" class="lang" lang_id="load_more">Load More</span>
        <span id="agreeText" class="lang" lang_id="agree_text">By signing up, you agree to the</span>
        <span id="loadingText" class="lang" lang_id="loading_text">Loading...</span>
    </div>
</div>

        <textarea id="linksColorTemplate" class="invisible" fontsize="14">        .link-record-voice{ color: #COLOR# !important; }
        .logout-button{ color: #COLOR# !important; }
        .logout-span .logout-button{color:#COLOR# !important;}
	.review-post .message_show_more a{ color: #COLOR# !important; }
    </textarea>

    <textarea id="textColorTemplate" class="invisible" fontsize="14">   
     .add-container .h2{ color: #COLOR# !important; }
        .add-container .signout-div{ color: #COLOR# !important; }
        .add-container .login-with-social{ color: #COLOR# !important; }
        .review-post .reply-on-full-name{ color: #COLOR# !important; }
        .review-post .product-title{ color: #COLOR# !important; }
        .review-post header .header-l .text-wrap a.name, 
.comment-user-name{ color: #COLOR# !important; }
        .review-post header .header-r .time{ color: #COLOR# !important; }
        .review-post .like .number_of_likes{ color: #COLOR# !important; }
        .review-post .share-link-input{ color: #COLOR# !important; }
        .add-comment-title-input{ color: #COLOR# !important; }
	.add-container .add-comment-title-input{ color: #COLOR# !important; }
        .add-container .add-comment-text-input, .add-container 
.add-comment-text-input.darkerText{ color: #COLOR# !important; }
        .add-container .signin-form-container .field-wrap input{ color: 
#COLOR# !important; }
        .review-post .header-r .seperator{ background-color: #COLOR# 
!important; }

        .add-container 
.add-comment-title-input::-webkit-input-placeholder{ color: #COLOR# 
!important; }
        .add-container .add-comment-title-input:-moz-placeholder{ color:
 #COLOR# !important; }
        .add-container .add-comment-title-input::-moz-placeholder{ 
color: #COLOR# !important; }
        .add-container .add-comment-title-input:-ms-input-placeholder{ 
color: #COLOR# !important; }
        .add-container .add-comment-title-input.placeholder{ color: 
#COLOR# !important; }
        .add-comment-title-input::-webkit-input-placeholder{ color: 
#COLOR# !important; }
        .add-comment-title-input:-moz-placeholder{ color: #COLOR# 
!important; }
        .add-comment-title-input::-moz-placeholder{ color: #COLOR# 
!important; }
        .add-comment-title-input:-ms-input-placeholder{ color: #COLOR# 
!important; }
        .add-comment-title-input.placeholder{ color: #COLOR# !important;
 }
        .add-comment-text-input::-webkit-input-placeholder{ color: 
#COLOR# !important; }
        .add-comment-text-input:-moz-placeholder{ color: #COLOR# 
!important; }
        .add-comment-text-input::-moz-placeholder{ color: #COLOR# 
!important; }
        .add-comment-text-input:-ms-input-placeholder{ color: #COLOR# 
!important; }
        .add-comment-text-input.placeholder{ color: #COLOR# !important; }
        .add-container 
.add-comment-text-input.darkerText::-webkit-input-placeholder{ color: 
#COLOR# !important; }
        .add-container 
.add-comment-text-input.darkerText:-moz-placeholder{ color: #COLOR# 
!important; }
        .add-container 
.add-comment-text-input.darkerText::-moz-placeholder{ color: #COLOR# 
!important; }
        .add-container 
.add-comment-text-input.darkerText:-ms-input-placeholder{ color: #COLOR#
 !important; }
        .add-container .add-comment-text-input.darkerText.placeholder{ 
color: #COLOR# !important; }
        .add-container .signin-form-container .field-wrap input 
::-webkit-input-placeholder, .add-container .signin-form-container 
.field-wrap input :-moz-placeholder, .add-container 
.signin-form-container .field-wrap input ::-moz-placeholder, 
.add-container .signin-form-container .field-wrap input 
:-ms-input-placeholder, .add-container .signin-form-container 
.field-wrap input.placeholder{ color: #COLOR# !important; }


        #reportBad input[type="text"]:not(.invalid), #reportBad 
input[type="email"]:not(.invalid), #reportBad textarea:not(.invalid), 
#reportBad .dropdown:not(.invalid) dt span, #reportBad 
.dropdown:not(.invalid) dd a{ color: #COLOR# !important; }


        #reportBad 
input[type="text"]:not(.invalid)::-webkit-input-placeholder{ color: 
#COLOR# !important; }
        #reportBad input[type="text"]:not(.invalid):-moz-placeholder{ 
color: #COLOR# !important; }
        #reportBad input[type="text"]:not(.invalid)::-moz-placeholder{ 
color: #COLOR# !important; }
        #reportBad 
input[type="text"]:not(.invalid):-ms-input-placeholder{ color: #COLOR# 
!important; }
        #reportBad input[type="text"]:not(.invalid).placeholder{ color: 
#COLOR# !important; }

        #reportBad 
input[type="email"]:not(.invalid)::-webkit-input-placeholder{ color: 
#COLOR# !important; }
        #reportBad input[type="email"]:not(.invalid):-moz-placeholder{ 
color: #COLOR# !important; }
        #reportBad input[type="email"]:not(.invalid)::-moz-placeholder{ 
color: #COLOR# !important; }
        #reportBad 
input[type="email"]:not(.invalid):-ms-input-placeholder{ color: #COLOR# 
!important; }
        #reportBad input[type="email"]:not(.invalid).placeholder{ color:
 #COLOR# !important; }

        #reportBad textarea:not(.invalid)::-webkit-input-placeholder{ 
color: #COLOR# !important; }
        #reportBad textarea:not(.invalid):-moz-placeholder{ color: 
#COLOR# !important; }
        #reportBad textarea:not(.invalid)::-moz-placeholder{ color: 
#COLOR# !important; }
        #reportBad textarea:not(.invalid):-ms-input-placeholder{ color: 
#COLOR# !important; }
        #reportBad textarea:not(.invalid).placeholder{ color: #COLOR# 
!important; }

        #reportBad .dropdown:not(.invalid) dt 
span::-webkit-input-placeholder{ color: #COLOR# !important; }
        #reportBad .dropdown:not(.invalid) dt span:-moz-placeholder{ 
color: #COLOR# !important; }
        #reportBad .dropdown:not(.invalid) dt span::-moz-placeholder{ 
color: #COLOR# !important; }
        #reportBad .dropdown:not(.invalid) dt 
span:-ms-input-placeholder{ color: #COLOR# !important; }
        #reportBad .dropdown:not(.invalid) dt span.placeholder{ color: 
#COLOR# !important; }

        .btn-retake, .btn-clear, .btn-reply { color: #COLOR# !important;
 }
        
.btn-retake:not(.add-comment-white-bg):not(.btn-placeholder):before, 
.btn-clear:not(.add-comment-white-bg):not(.btn-placeholder):before{ 
background-image:url('images/sprite-v2.9.9.1.png') !important; 
z-index:5;}
        
.btn-retake:not(.add-comment-white-bg):not(.btn-placeholder):after, 
.btn-clear:not(.add-comment-white-bg):not(.btn-placeholder):after{ 
background-color: #COLOR# !important; color: #COLOR# !important; 
z-index:4;}




        #startRecordingDiv{ color:#COLOR# !important }
        .content-right-box .time{ color:#COLOR# !important }
        .review-post .messaging-box{ background-color: 
rgba(255,255,255,0.7) !important; }
        .review-post .text-block p{ color:#COLOR# !important; }
        .btn-reply:before {background-position: -126px -51px 
!important;}
        
.btn-retake:not(.add-comment-white-bg):not(.btn-placeholder):before 
{background-position: -85px -51px; !important;}
        
.btn-clear:not(.add-comment-white-bg):not(.btn-placeholder):before 
{background-position: -259px -24px; !important;}
        .icon-lines.big:before, .icon-lines.big:after, 
.icon-lines.big{background-color: #COLOR# !important;}
        #noComments {color: #COLOR# !important;}
        #noComments .icon-mic, #noComments .icon-lines{ display: none; }
        .logout-span .logout-text{color:#COLOR# !important;}

	.review-post .text-block a {color: #COLOR# !important;}
    </textarea>

    <textarea id="buttonsColorTemplate" class="invisible" fontsize="14">        .btn-long{ background-color: #COLOR# !important; }
        .btn.gray{ background-color: #COLOR# !important; }
        .add-comment-post-comment{ background-color: #COLOR# !important; }
        .add-comment-post-comment-new{ background-color: #COLOR# !important; }
        .add-signout-comment-post-comment{ background-color: #COLOR# !important; }
        .add-comment-submit-btn{ background-image: url('images/icon-arrow-v4.png') !important; }
        .add-comment-post-comment-new{ background-image: url('images/icon-arrow-v4.png') !important; }
    </textarea>

    <textarea id="buttonsTextColorTemplate" class="invisible" fontsize="14">        .btn-long{ color: #COLOR# !important; }
        .btn.gray{ color: #COLOR# !important; }
        .add-comment-post-comment{ color: #COLOR# !important; }
        .add-comment-post-comment-new{ color: #COLOR# !important; }
        .add-signout-comment-post-comment{ color: #COLOR# !important; }
    </textarea>

    <textarea id="cardsColorTemplate" class="invisible" fontsize="14">  
      .block:not(#reportBad) {
           background-color: #COLOR#;
           box-shadow: none;
           border: none;
        }

        .flag, .icon-mic, .icon-play, .icon-love, .social-networks li 
a:not(.share-icon) {
            background-image: url('images/sprite-v2.9.9.1.png');
        }

        .icon-play {
            background-position: -173px 0;
        }

        .icon-love {
            background-position: -219px -49px !important;
            line-height: 26px !important;
            margin-top: 2px !important;
            vertical-align: top !important;
        }

        .icon-love:hover, .icon-love.orange {
            background-position: -219px -80px !important;
        }

        .content-right-box.recorder-equalizer-view, 
.content-right-box.recorder-default-view, .review-post 
.content-right-box:not(.messaging-box){
            background-color:white;        }


        .add-comment-reply-container .close{
            background-color: transparent;
            background-image: url('images/sprite-v2.9.9.1.png') 
!important;
        }

        .recording-window #addContainerBackground{
            background-color: #COLOR#;
        }

        #noComments .icon-mic, #noComments .icon-lines{ display: none; }
    </textarea>

    <textarea id="videoTemplate" class="invisible" fontsize="14">    
&lt;span class="video-preview preview"&gt;
        &lt;a href="#URL#" target="_blank"&gt;
            &lt;img src = 
"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
 class="youtube-play-icon"&gt;
            &lt;img src="#THUMB_URL#"/&gt;
        &lt;/a&gt;
    &lt;/span&gt;
</textarea>

    <script type="text/javascript">
    window.heyoya_vt = null;

    var MouseStats_Commands = MouseStats_Commands ? MouseStats_Commands : [];
    var MouseStats_PausedPlaybacks = true; //Prevent AutoStart Playback Recording
    var languageJSONObj = null;
    

    var guidanceText = {
        "en": { //english
            "recordingHowTo": {
                "text": {
                    "title": "Click on the microphone icon to get started",
                    "message": "Make sure your microphone is working properly and that you have allowed your browser to \"use\" your computer's microphone.",

                    "chrome_title": "Start recording by clicking on the mic icon",
                    "chrome_message": "Please make sure your mic is working properly and allow Google Chrome to \"Use your microphone\". When done click the Stop button",

                    "firefox_title": "Start recording by clicking on the mic icon",
                    "firefox_message": "Please make sure your mic is working properly and allow Firefox to \"Use your microphone\". When done click the Stop button",

                    "ie_title": "Start recording by clicking on the mic icon",
                    "ie_message": "Please make sure your mic is working properly and allow Internet Explorer to \"Use your microphone\". When done click the Stop button",

                    "step": "Step",
                    "link": "By Heyoya"

                },
                "browser_split": false,
                "step_order": "1",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 7 * 24 * 60 * 60 * 1000
            },
            "textHowTo": {
                "text": {
                    "title": "Add your text review here",
                    "message": "Texts review can be in addition or instead of a voice review.",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "Step",
                    "link": "By Heyoya"

                },
                "browser_split": false,
                "step_order": "2",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 7 * 24 * 60 * 60 * 1000
            },
            "titleHowTo": {
                "text": {
                    "title": "Add a title to your post here",
                    "message": "An interesting title will help \"advertise\" your post and get others excited about listening to your post.",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "Step",
                    "link": "By Heyoya"

                },
                "browser_split": false,
                "step_order": "3",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 7 * 24 * 60 * 60 * 1000
            },
            "loginHowTo": {
                "text": {
                    "title": "In order to post, you must verify you are you!",
                    "message": "We verify users to prevent spamming and ensure that all reviews are from real people! We will never automatically share content on your behalf on the social platform you use to log in.",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "Step",
                    "link": "By Heyoya"

                },
                "browser_split": false,
                "step_order": "4",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 7 * 24 * 60 * 60 * 1000
            }
        },
        "ar": { //english
            "recordingHowTo": {
                "text": {
                    "title": "إضغط على إيقونة المايكروفون للبدء",
                    "message": "تأكد من أن مايكروفونك يعمل بشكل جيد و أنك قد سمحت للمتصفح بإستخدامه",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "Step",
                    "link": "By Heyoya"

                },
                "browser_split": false,
                "step_order": "1",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 24 * 60 * 60 * 1000
            },
            "textHowTo": {
                "text": {
                    "title": "أضف نص تعليقك هنا",
                    "message": "التعليقات المكتوبة يمكن أن تكون بالتوازي مع التسجيل الصوتي أو عوضا عنه",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "Step",
                    "link": "By Heyoya"

                },
                "browser_split": false,
                "step_order": "2",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 24 * 60 * 60 * 1000
            },
            "titleHowTo": {
                "text": {
                    "title": "أضف عنوانا لتعليقك هنا",
                    "message": "إن العنوان المثير للإهتمام يساعد على ترويج و تعزيز تعليقك و يشجع المستخدمين الآخرين على الإستماع لك",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "Step",
                    "link": "By Heyoya"

                },
                "browser_split": false,
                "step_order": "3",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 24 * 60 * 60 * 1000
            },
            "loginHowTo": {
                "text": {
                    "title": "حتى تقوم بنشر التعليق يجب أن تأكد هويتك",
                    "message": "نتأكد من هوية المستخدمين حتى نتفادى المحتويات المؤذية و حتى نتأكد من أنك إنسان و لست آلة, لن نقوم أبدا بنشر أي محتوى على حساب التواصل الإجتماعي الذي ستستخدمه لتسجيل الدخول و تأكيد هويتك",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "Step",
                    "link": "By Heyoya"

                },
                "browser_split": false,
                "step_order": "3",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 24 * 60 * 60 * 1000
            }
        },
        "il": { //english
            "recordingHowTo": {
                "text": {
                    "title": "לחץ על כפתור ההקלטה על מנת להתחיל",
                    "message": "נא וודא כי המיקרופון מחובר ואשר לדפדפן להשתמש בו",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "שלב",
                    "link": "ע\"י היויה"

                },
                "browser_split": false,
                "step_order": "1",
                "link_click_url": "https://www.heyoya.com/?guidance?guidance",
                "cookie_expiration": 7 * 24 * 60 * 60 * 1000
            },
            "textHowTo": {
                "text": {
                    "title": "הוסף תגובת טקסט",
                    "message": "ניתן להוסיף תגובת טקסט להקלטה או לחילופין לפרסם תגובת טקסט בלבד",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "שלב",
                    "link": "ע\"י היויה"

                },
                "browser_split": false,
                "step_order": "2",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 7 * 24 * 60 * 60 * 1000
            },
            "titleHowTo": {
                "text": {
                    "title": "הוסף כותרת לתגובתך",
                    "message": "כותרת מעניינת תקדם את תגובתך ותגרום לאחרים להאזין לה",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "שלב",
                    "link": "ע\"י היויה"

                },
                "browser_split": false,
                "step_order": "3",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 7 * 24 * 60 * 60 * 1000
            },
            "loginHowTo": {
                "text": {
                    "title": "על מנת לפרסם את התגובה, הינך מתבקש להזדהות",
                    "message": "אנו מאמתים את זהות המשתמשים על מנת להבטיח כי התגובות מפורסמות ע\"י אנשים אמיתיים. אנו מתחייבים כי פרטי ההזדהות לא ישמשו לפרסום אוטומטי של תוכן בשמך",

                    "chrome_title": "",
                    "chrome_message": "",

                    "firefox_title": "",
                    "firefox_message": "",

                    "ie_title": "",
                    "ie_message": "",

                    "step": "שלב",
                    "link": "ע\"י היויה"

                },
                "browser_split": false,
                "step_order": "4",
                "link_click_url": "https://www.heyoya.com/?guidance",
                "cookie_expiration": 7 * 24 * 60 * 60 * 1000
            }
        }
    };


    function loadWhitelabels(){
        if (!querystringUtil)
            return;

        var queryString = querystringUtil.extract(window.location.href);
        if (!queryString.affIdId)
            return;


        if(queryString.iwl){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/heyoyaSharePage.css?v=2");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/heyoyaSharePage.js");
            $("body").addClass("video-page");
            return;
        }

        if (queryString.affIdId.toLowerCase() == "farfesh"){
            //params.showAds = true;
            params.pageSize = 4;
            params.showQuickerContinueProcess = true;
            params.hideTitle = true;

            document.getElementById("headerText").innerHTML = "تعليقات - <span>جديد، بإمكانكم اضافة تعليق صوتي أيضاً في فرفش.</span>";
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/farfesh.css?v=8");

            if (navigator && navigator.userAgent && navigator.userAgent.toLowerCase().indexOf("firefox") != -1 )
                document.getElementsByTagName('body')[0].className += " farfesh-ff ";
            else
                document.getElementsByTagName('body')[0].className += " farfesh-ie ";


            if (navigator && navigator.userAgent && (navigator.userAgent.toLowerCase().indexOf("msie") != -1 || navigator.userAgent.toLowerCase().indexOf("trident") != -1 )){
                document.getElementsByTagName('body')[0].className += " old-ie ";

                params.refreshLanguageFileEveryPageview = true;

                document.createElement('header');
                document.createElement('nav');
                document.createElement('section');
                document.createElement('article');
                document.createElement('aside');
                document.createElement('footer');

            }
        }

        if (queryString.affIdId.toLowerCase() == "qvc"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/qvc.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/qvc.js");
        }

        if (queryString.affIdId.toLowerCase() == "elan"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/elan.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/elan.js");
        }

        if (queryString.affIdId == "BOXXJeSltq"){
			 loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/BOXXJeSltq.css");
		}

        if (queryString.affIdId.toLowerCase() == "maccabi" || queryString.affIdId.toLowerCase() == "ampm" || queryString.affIdId.toLowerCase() == "57VYcLeBKd" || queryString.affIdId.toLowerCase() == "maccabi-ynet-demo" || queryString.affIdId.toLowerCase() == "heyoya-demo"  ){
            if (queryString.affIdId.toLowerCase() == "ampm"){
                $("body").addClass("ignui");
                $("body").addClass("avatar-fix");
            }
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/maccabi.css?v=3");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/maccabi.js?v=2");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "hQ6bYcripZ" || queryString.affIdId == "dXmFdPD4jW"  ){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/heyoyablog.css?v=2");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/heyoyablog.js");
        }

        if (queryString.affIdId == "ecoboomer"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/ecoboomer.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/ecoboomer.js");
        }

        if (queryString.affIdId == "nP5rXXH6iw"){ //markettwister
//            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/default_whitelabel.css");
//            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/default_whitelabel_en.js");
//            params.pendingWLExecution = true;

            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/markettwister.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/markettwister.js");
        }

        if (queryString.affIdId == "richbottle"){ //RichBottle
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/richbottle.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/richbottle.js");
        }

        if (queryString.affIdId == "hkds"){ //hkds
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/hkds.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/hkds.js");
        }

        if (queryString.affIdId == "halwa2home"){ //halwa2home
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/halwa2home.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/halwa2home.js");
        }

        if (queryString.affIdId == "ioptedtoshop"){ //ioptedtoshop
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/ioptedtoshop.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/ioptedtoshop.js");
        }

        if (queryString.affIdId == "tresorvault"){ //tresorvault
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/tresorvault.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/tresorvault.js");
        }

        if (queryString.affIdId == "yoledet"){ //yoledet
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/yoledet.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/yoledet.js");
        }
        if (queryString.affIdId == "sdarotpm-demo" || queryString.affIdId == "sdarotpm"){ //sdarotpm-demo
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/sdarotpm.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/sdarotpm.js");
            //params.showAds = true;
        }


        if (queryString.affIdId == "upmccom-demo" || queryString.affIdId == "upmccom"){ //sdarotpm-demo
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/upmccom.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/upmccom.js");
        }

        if (queryString.affIdId == "ynet" || queryString.affIdId == "ynet-demo" || queryString.affIdId == "itgirls-second-season-event"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/ynet.css?v=6");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/ynet.js?v=4");
            params.pendingWLExecution = true;
            $("body").addClass("ynet");
        }

        if (queryString.affIdId == "itgirls-second-season-event"){
            $("#mainHeader").addClass("invisible");
        }

        if (queryString.affIdId == "sport5" || queryString.affIdId == "sport5-demo"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/sport5.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/sport5.js");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "galis" || queryString.affIdId == "galis-demo"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/galis.css?v=1");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/galis.js");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "kkl" || queryString.affIdId == "kkl-demo"){ //Keren Kayemeth LeIsrael
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/kkl.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/kkl.js");
        }

        if (queryString.affIdId == "XRhvzgyFD8"){ //psychicgia
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/xrhvzgyfd8.css?v=1");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/xrhvzgyfd8.js?v=1");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "bellini" || queryString.affIdId == "bellini-demo"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/bellini.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/bellini.js");
        }

        if (queryString.affIdId == "p1k7UfXLPY"){ //Topdowngames
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/p1k7UfXLPY.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/p1k7UfXLPY.js");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "dEJS17ZdM7"){ //shoppickr
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/dEJS17ZdM7.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/dEJS17ZdM7.js");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "ZpMvrMq2HH"){ //leadlearner.com
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/ZpMvrMq2HH.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/ZpMvrMq2HH.js");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "daka90" || queryString.affIdId == "daka90-demo"){
//            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/default_whitelabel.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/daka90.css");
//            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/default_whitelabel_he.js");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "khaleejtimes" || queryString.affIdId == "khaleejtimes-demo"){
//            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/default_whitelabel.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/khaleejtimes.css");
//            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/default_whitelabel_en.js");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "kick" || queryString.affIdId == "kick-demo"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/kick.css");
            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "i24news" || queryString.affIdId == "i24news-demo" || queryString.affIdId == "taptica-demo" || queryString.affIdId == "amg-demo" || queryString.affIdId == "mor-sobol-demo" || queryString.affIdId == "cfnXajHq75" || queryString.affIdId == "LL0FXDacjn" || queryString.affIdId == "SDbaHj4ErS"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/i24news.css");
        }

        if (queryString.affIdId == "bigbrotheril" || queryString.affIdId == "bigbrotheril-demo"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/bigbrotheril.css");
        }

        if (queryString.affIdId == "makemysushi"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/makemysushi.css");
        }

        if (queryString.affIdId == "rikycohen" || queryString.affIdId == "rikycohen-demo" ){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/rikycohen.css?v=1");
        }

        if (queryString.affIdId == "maccabi-football" || queryString.affIdId == "maccabi-football-demo" ){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/maccabi-football.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/maccabi-football.js");

        }

        if (queryString.affIdId == "AwdUTjLtpN"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/AwdUTjLtpN.css?v=1");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/AwdUTjLtpN.js?v=1");

            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "itzhakshilo"){
//            params.showAds = true;
        }

        if (queryString.affIdId == "connatix"){
            params.showAds = true;
        }

        if (queryString.affIdId == "taboola"){
            params.showAds = true;
        }

        if (queryString.affIdId == "mgid"){
            params.showAds = true;
        }

        if (queryString.affIdId == "add" || queryString.affIdId == "add-demo"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/add.css?v=3");
        }

        if (queryString.affIdId == "israelrising"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/israelrising.css");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/israelrising.js");
        }

        if (queryString.affIdId == "hr-bwvvr" ||queryString.affIdId == "hr-ndvvr"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/hr.css?v=1");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/hr-voice.css?v=1");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/hr.js?v=2");

            params.pendingWLExecution = true;
        }

        if (queryString.affIdId == "hr-bwvtr" ||queryString.affIdId == "hr-ndvtr"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/hr.css?v=1");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/hr-text.css?v=1");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/hr.js?v=2");

            params.pendingWLExecution = true;
        }


        if (queryString.affIdId == "INMWN7mMfA"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/INMWN7mMfA.css");
        }


        if (queryString.affIdId == "INMWN7mMfA"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/INMWN7mMfA.css");
        }

	
	if (queryString.affIdId == "TzARGUi0jf"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/TzARGUi0jf.css");
        }

        if (queryString.affIdId == "zig7nH1PbX"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/zig7nH1PbX.css");
        }

        if (queryString.affIdId == "linkedin-demo" || queryString.affIdId == "FQWPTgWMyV" || queryString.affIdId == "lNtvgjdWOL" || queryString.affIdId == "nir-demo" || queryString.affIdId == "9ebAxepgso"){
            if (queryString.affIdId == "FQWPTgWMyV" || queryString.affIdId == "lNtvgjdWOL")
                $("body").addClass("heyoya-demo");

            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/linkedin.css?v=1");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/linkedin.js");
        }

        if (queryString.affIdId == "hapoel-jerusalem-basketball-club" || queryString.affIdId == "hapoel-jerusalem-basketball-club-demo"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/hapoel-jerusalem-basketball-club.css?v=1");
            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "js/whitelabels/hapoel-jerusalem-basketball-club.js");
        }

        if (queryString.affIdId == "beltlock-demo"){
            $("body").css("background-color", "transparent");
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "unchanginggodchangingyou-demo"){
            $("body").css("background-color", "transparent");
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "larryferlazzo-demo"){
            $("body").css("background-color", "transparent");
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "102-demo"){
            $("body").css("background-color", "transparent");
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "kabbalah-demo"){
            $("body").css("background-color", "transparent");
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
            $("#mainHeader").addClass("invisible");
        }

	    if (queryString.affIdId == "thejmj-demo" || queryString.affIdId == "jalab524Df"){
            $("body").css("background-color", "transparent");
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
            $("#mainHeader").addClass("invisible");
        }

        if (queryString.affIdId == "5XfwRlNP0V"){
            $("body").css("background-color", "transparent");
        }

        if (queryString.affIdId == "kslyC2b003"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "toivj"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "toidf"){
	        loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/toidf.css");
        }

        if (queryString.affIdId == "E7NioZtWFM"){
            $("body").css("background-color", "transparent");
            $("#mainHeader").css("display", "none");
        }

        if (queryString.affIdId == "Cw2e10Pi3V"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "JlbOY3wjh9"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "v1CDof2Ne4"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "hindustan-demo"){
            $("body").css("background-color", "transparent");
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "teva-demo"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "atWvDMP1cE"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "walla-demo"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "pnUArNIgpR"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "kahalon2-demo"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
            $("#mainHeader").css("display", "none");
        }

        if (queryString.affIdId == "8XbCMEy448"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "VoK32pHVgJ"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "BbkdMVejO1"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "AhGMIO7TOY"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "OLxHi9KGDN"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
            $(".reviews-block .heading h1").css("font-size", "20px").css("line-height", "20px");
            $(".reviews-block .heading").css("background-color", "transparent").css("background", "url('images/3rd_logos/philadelphiadance-bg.png') repeat-x");
        }

        if (queryString.affIdId == "nysYB19tz3"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
            $("#mainHeader").css("height", "35px").css("padding-top", "0px").css("background", "url(demos/yesitsorganic/demo_files/button-bg1.jpg) repeat-x");
            $("#headerText").css("font-size", "25px").css("line-height", "35px").css("background", "none");
        }

        if (queryString.affIdId == "thehopeline-demo"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/thehopeline.css");
        }

        if (queryString.affIdId == "Vh6A9cY6dh" || queryString.affIdId == "8F2QmfNDzd"){
            $(".reviews-block > .holder > .content-block").css("margin", "0 auto");
        }

        if (queryString.affIdId == "DqBlKGacmk"){
            $("#additionalText #messageReviewSavedPendingAdministratorApproval").text("Thank you. Your comments will be added to the On-Air queue");
        }

        if (queryString.affIdId == "WFv7EE24tm"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/WFv7EE24tm.css");
        }

        if (queryString.affIdId == "MONl71sTTS"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/MONl71sTTS.css");
        }

        if (queryString.affIdId == "TqZabelIj5"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/TqZabelIj5.css");
        }

        if (queryString.affIdId == "a9kDZKZHej"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/a9kDZKZHej.css");
        }

        if (queryString.affIdId == "BP1XIlUlio"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/BP1XIlUlio.css");
        }

        if (queryString.affIdId == "DMMZsKIAle"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/DMMZsKIAle.css");
        }

        if (queryString.affIdId == "gL2qI0DVPz"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/gL2qI0DVPz.css");
        }

        if (queryString.affIdId == "WKEP7DPddT"){
            $("#headerText").css("font-size", "18px").css("line-height", "26px");
        }

        if (queryString.affIdId == "VWJubIBVQh"){
            $("#mainHeader").css("padding-top", "4px").css("padding-bottom", "5px");
            $("#headerText").css("font-size", "28px").css("font-family", "'Oswald', sans-serif");
        }

        if (queryString.affIdId == "EJtPppbKdD"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/EJtPppbKdD.css");
        }

        if (queryString.affIdId == "MsIvkOuR4x"){
            $("#headerText").css("line-height", "20px");
            addStylesheetUtil.removeStylesheet("MsIvkOuR4xCustomFontsSheet");
            var customFontsSheet = addStylesheetUtil.createNewStylesheet("MsIvkOuR4xCustomFontsSheet");
            addStylesheetUtil.addCSSRule(customFontsSheet, "#headerText", "line-height:20px;");
            addStylesheetUtil.addCSSRule(customFontsSheet, ".mobile #headerText", "line-height:30px !important;");
        }

        if (queryString.affIdId == "WnGyGyu1oY"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/WnGyGyu1oY.css");
        }

        if (queryString.affIdId == "R7IBhrpO7x") {
            $("#mainHeader").css("border-bottom", "2px solid #c2c2c2");
            $("#headerText").css("font-weight", "bold").css("font-size", "25px").css("font-weight", "25px");
        }

        if (queryString.affIdId == "VBbwZ5Nvfl") {
            $("#mainHeader").css("border-bottom", "4px solid #fcdb00");
            $("#headerText").css("font-weight", "bold").css("font-size", "20px").css("font-weight", "20px");
        }

        if (queryString.affIdId == "33u3PePB3K") {
//            $("#mainHeader").css("padding-top", "10px").css("padding-bottom", "11px");
            $("#headerText").css("font-size", "24px");//.css("padding-right", "6px");
        }

        if (queryString.affIdId == "eUbJyMGE2Q") {
            $("#mainHeader").css("border-bottom", "solid 1px #000000");
            $("#headerText").css("font-size", "25px");
        }

        if (queryString.affIdId == "Rj6dD11Ydf") {
            $("#numberOfComments").css("position", "relative").css("top", "-16px").css("right", "0").css("color", "black").css("height", "6px").css("border-top", "1px solid #e0dede").css("border-bottom", "1px solid #e0dede").css("width", "100%").css("display", "block");
            document.getElementById("numberOfComments").style.setProperty("display", "block", "important");
            document.getElementById("numberOfComments").style.setProperty("right", "0", "important");
            $("#headerText").css("color", "#333").css("font-size", "25px").css("position", "relative").css("z-index", "1").css("background", "white").css("display", "inline-block").css("padding-left", "6px");
        }

        if (queryString.affIdId == "yhGCard6ll"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/yhGCard6ll.css");
        }

        if (queryString.affIdId == "4OHYhgkjnT"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/4OHYhgkjnT.css");
        }

        if (queryString.affIdId == "kTBxNxuTOQ"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/kTBxNxuTOQ.css");
        }

        if (queryString.affIdId == "vYMu56ooZa"){
            $("#wrapper > .holder").css("padding", "0px 1px 0 0");
        }

        if (queryString.affIdId == "PQM2dh02fU"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/PQM2dh02fU.css");
        }

        if (queryString.affIdId == "Nc28ppxrhK"){
            $("#commentsLoadMore").css("border", "1px solid white").css("background-color", "transparent");
            $("#commentsLoadingMore").css("border", "1px solid white").css("background-color", "transparent");
        }

        if (queryString.affIdId == "6ezXSjK0qn"){
            $("#headerText").css("color", "black").css("font-weight", "bold").css("font-size", "20px").css("text-transform", "uppercase");
            $("#mainHeader").css("background-color", "transparent").css("border-top", "5px solid #636466");
        }

        if (queryString.affIdId == "FWi7KG2Al4"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/FWi7KG2Al4.css?v=1");
        }

        if (queryString.affIdId == "NaHGkbL43z"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/NaHGkbL43z.css?v=1");
        }

        if (queryString.affIdId == "W3p3VE79y9"){
            loadFileUtil.loadFile(loadFileUtil.urlTypes.css, params.baseUrl + "css/whitelabels/W3p3VE79y9.css?v=1");
        }

    }

    function setCustomUI(){
        if (!querystringUtil)
            return;

        var queryString = querystringUtil.extract(window.location.href);
        var topLevelQuestionMarkSingleElementMode = 0;

        if (queryString.st)
            document.getElementById("headerText").innerHTML = queryString.st;

        if (queryString.stct){
            document.getElementById("headerText").style.color = queryString.stct.replace(";anchor;", "#");
	        document.getElementById("numberOfComments").style.color = queryString.stct.replace(";anchor;", "#");
	    }

        if (queryString.stcb)
            document.getElementById("mainHeader").style.backgroundColor = queryString.stcb.replace(";anchor;", "#");

        if (queryString.stcm)
            document.body.style.background = queryString.stcm.replace(";anchor;", "#");

        if (queryString.stlp)
            renderAffiliateLogo(queryString.stlp);

        if (queryString.stit == "0")
            $("body").addClass("no-headline");

        if (queryString.swdt == "1"){
            params.isWixShowDemoData = true;
            showDemoData();
        }

        if (queryString.sdiosml == "1")
            params.shouldDisplayIOSMobileLayers = true;


        if (queryString.smachl == "0") {
            params.shouldDisplayMainAddCommentHeadline = false;
//            document.getElementById("addCommentContainer").getElementsByClassName("h2")[0].className += " invisible";
            document.getElementById("addCommentContainer").getElementsByClassName("default-headline")[0].className += " invisible";
            topLevelQuestionMarkSingleElementMode++;
        }

        if (queryString.macht) {
            params.mainAddCommentHeadlineText = queryString.macht;
            document.getElementById("addCommentContainer").getElementsByClassName("default-headline")[0].innerHTML = queryString.macht;
            document.getElementById("addCommentContainer").getElementsByClassName("default-headline")[0].setAttribute("no_lang", "1");
        }

        if (queryString.srachl == "0")
            params.shouldDisplayReplyAddCommentHeadline = false;

        if (queryString.racht)
            params.replyAddCommentHeadlineText = queryString.racht;

        if (queryString.ssacht == "0") {
            params.shouldDisplaySubAddCommentHeadline = false;
            document.getElementById("addCommentContainer").getElementsByClassName("headline-text")[0].className += " invisible";
            topLevelQuestionMarkSingleElementMode++;
        }

        if (queryString.sacht) {
            params.subAddCommentHeadlineText = queryString.sacht;
            document.getElementById("addCommentContainer").getElementsByClassName("headline-text")[0].innerHTML = queryString.sacht;
        }

        if (queryString.srsacht == "0")
            params.shouldDisplayReplySubAddCommentHeadline = false;

        if (queryString.rsacht)
            params.replySubAddCommentHeadlineText = queryString.rsacht;


        if (queryString.recordingIconsColor) {
            params.recordingButtonsColor = queryString.recordingIconsColor;
            changeRecordingButtonsColor(queryString.recordingIconsColor);
	    }

        if (queryString.linksColor) {
            params.linksColor = queryString.linksColor;
            changeLinksColor(queryString.linksColor);
	    }

        if (queryString.cardsColor) {
            params.cardsColor = queryString.cardsColor;
            changeCardsColor(queryString.cardsColor);
	    }

        if (queryString.textColor) {
            params.textColor = queryString.textColor;
            changeTextColor(queryString.textColor);
	    }

        if (queryString.buttonsColor) {
            params.buttonsColor = queryString.buttonsColor;
            changeButtonsColor(queryString.buttonsColor);
	    }

        if (queryString.fonts){
            params.customFonts = queryString.fonts;
            changeCustomFonts(queryString.fonts);
        }

        if (topLevelQuestionMarkSingleElementMode == 2)
            document.getElementById("addCommentContainer").getElementsByClassName("how-to-video-link")[0].className += " single-element";

        if(queryString.asi)
            params.storeId = queryString.asi;


        if (queryString.pec && queryString.pec == 1 && queryString.wa && queryString.wa > 0){
            if (queryString.wa == 1)
                document.body.className += " align-to-left";
            else if (queryString.wa == 2)
                document.body.className += " align-to-right";
            else
                document.body.className += " align-to-center";
        } else
            document.body.className += " align-to-center";
    }

    var querystringUtil = querystring = function(){

    function extract(querystring){
        var qsResult = {};

        if (!querystring)
            return qsResult;

        querystring.replace(
            new RegExp("([^?=&]+)(=([^&]*))?", "g"),
            function($0, $1, $2, $3)
            {
                if ($3 != undefined && $3 != null && $1 != undefined && $1 != null){
                    try {
                        qsResult[$1] = decodeURIComponent($3);
                    }
                    catch(err){

                    }

                }
            }
        );

        return qsResult;
    }


    return {
        extract: extract
    };

}();;
    var CryptoJS=CryptoJS||function(s,p){var m={},l=m.lib={},n=function(){},r=l.Base={extend:function(b){n.prototype=this;var h=new n;b&&h.mixIn(b);h.hasOwnProperty("init")||(h.init=function(){h.$super.init.apply(this,arguments)});h.init.prototype=h;h.$super=this;return h},create:function(){var b=this.extend();b.init.apply(b,arguments);return b},init:function(){},mixIn:function(b){for(var h in b)b.hasOwnProperty(h)&&(this[h]=b[h]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}},
q=l.WordArray=r.extend({init:function(b,h){b=this.words=b||[];this.sigBytes=h!=p?h:4*b.length},toString:function(b){return(b||t).stringify(this)},concat:function(b){var h=this.words,a=b.words,j=this.sigBytes;b=b.sigBytes;this.clamp();if(j%4)for(var g=0;g<b;g++)h[j+g>>>2]|=(a[g>>>2]>>>24-8*(g%4)&255)<<24-8*((j+g)%4);else if(65535<a.length)for(g=0;g<b;g+=4)h[j+g>>>2]=a[g>>>2];else h.push.apply(h,a);this.sigBytes+=b;return this},clamp:function(){var b=this.words,h=this.sigBytes;b[h>>>2]&=4294967295<<
32-8*(h%4);b.length=s.ceil(h/4)},clone:function(){var b=r.clone.call(this);b.words=this.words.slice(0);return b},random:function(b){for(var h=[],a=0;a<b;a+=4)h.push(4294967296*s.random()|0);return new q.init(h,b)}}),v=m.enc={},t=v.Hex={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0;j<b;j++){var k=a[j>>>2]>>>24-8*(j%4)&255;g.push((k>>>4).toString(16));g.push((k&15).toString(16))}return g.join("")},parse:function(b){for(var a=b.length,g=[],j=0;j<a;j+=2)g[j>>>3]|=parseInt(b.substr(j,
2),16)<<24-4*(j%8);return new q.init(g,a/2)}},a=v.Latin1={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0;j<b;j++)g.push(String.fromCharCode(a[j>>>2]>>>24-8*(j%4)&255));return g.join("")},parse:function(b){for(var a=b.length,g=[],j=0;j<a;j++)g[j>>>2]|=(b.charCodeAt(j)&255)<<24-8*(j%4);return new q.init(g,a)}},u=v.Utf8={stringify:function(b){try{return decodeURIComponent(escape(a.stringify(b)))}catch(g){throw Error("Malformed UTF-8 data");}},parse:function(b){return a.parse(unescape(encodeURIComponent(b)))}},
g=l.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new q.init;this._nDataBytes=0},_append:function(b){"string"==typeof b&&(b=u.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(b){var a=this._data,g=a.words,j=a.sigBytes,k=this.blockSize,m=j/(4*k),m=b?s.ceil(m):s.max((m|0)-this._minBufferSize,0);b=m*k;j=s.min(4*b,j);if(b){for(var l=0;l<b;l+=k)this._doProcessBlock(g,l);l=g.splice(0,b);a.sigBytes-=j}return new q.init(l,j)},clone:function(){var b=r.clone.call(this);
b._data=this._data.clone();return b},_minBufferSize:0});l.Hasher=g.extend({cfg:r.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset()},reset:function(){g.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(b){b&&this._append(b);return this._doFinalize()},blockSize:16,_createHelper:function(b){return function(a,g){return(new b.init(g)).finalize(a)}},_createHmacHelper:function(b){return function(a,g){return(new k.HMAC.init(b,
g)).finalize(a)}}});var k=m.algo={};return m}(Math);
(function(s){function p(a,k,b,h,l,j,m){a=a+(k&b|~k&h)+l+m;return(a<<j|a>>>32-j)+k}function m(a,k,b,h,l,j,m){a=a+(k&h|b&~h)+l+m;return(a<<j|a>>>32-j)+k}function l(a,k,b,h,l,j,m){a=a+(k^b^h)+l+m;return(a<<j|a>>>32-j)+k}function n(a,k,b,h,l,j,m){a=a+(b^(k|~h))+l+m;return(a<<j|a>>>32-j)+k}for(var r=CryptoJS,q=r.lib,v=q.WordArray,t=q.Hasher,q=r.algo,a=[],u=0;64>u;u++)a[u]=4294967296*s.abs(s.sin(u+1))|0;q=q.MD5=t.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(g,k){for(var b=0;16>b;b++){var h=k+b,w=g[h];g[h]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var b=this._hash.words,h=g[k+0],w=g[k+1],j=g[k+2],q=g[k+3],r=g[k+4],s=g[k+5],t=g[k+6],u=g[k+7],v=g[k+8],x=g[k+9],y=g[k+10],z=g[k+11],A=g[k+12],B=g[k+13],C=g[k+14],D=g[k+15],c=b[0],d=b[1],e=b[2],f=b[3],c=p(c,d,e,f,h,7,a[0]),f=p(f,c,d,e,w,12,a[1]),e=p(e,f,c,d,j,17,a[2]),d=p(d,e,f,c,q,22,a[3]),c=p(c,d,e,f,r,7,a[4]),f=p(f,c,d,e,s,12,a[5]),e=p(e,f,c,d,t,17,a[6]),d=p(d,e,f,c,u,22,a[7]),
c=p(c,d,e,f,v,7,a[8]),f=p(f,c,d,e,x,12,a[9]),e=p(e,f,c,d,y,17,a[10]),d=p(d,e,f,c,z,22,a[11]),c=p(c,d,e,f,A,7,a[12]),f=p(f,c,d,e,B,12,a[13]),e=p(e,f,c,d,C,17,a[14]),d=p(d,e,f,c,D,22,a[15]),c=m(c,d,e,f,w,5,a[16]),f=m(f,c,d,e,t,9,a[17]),e=m(e,f,c,d,z,14,a[18]),d=m(d,e,f,c,h,20,a[19]),c=m(c,d,e,f,s,5,a[20]),f=m(f,c,d,e,y,9,a[21]),e=m(e,f,c,d,D,14,a[22]),d=m(d,e,f,c,r,20,a[23]),c=m(c,d,e,f,x,5,a[24]),f=m(f,c,d,e,C,9,a[25]),e=m(e,f,c,d,q,14,a[26]),d=m(d,e,f,c,v,20,a[27]),c=m(c,d,e,f,B,5,a[28]),f=m(f,c,
d,e,j,9,a[29]),e=m(e,f,c,d,u,14,a[30]),d=m(d,e,f,c,A,20,a[31]),c=l(c,d,e,f,s,4,a[32]),f=l(f,c,d,e,v,11,a[33]),e=l(e,f,c,d,z,16,a[34]),d=l(d,e,f,c,C,23,a[35]),c=l(c,d,e,f,w,4,a[36]),f=l(f,c,d,e,r,11,a[37]),e=l(e,f,c,d,u,16,a[38]),d=l(d,e,f,c,y,23,a[39]),c=l(c,d,e,f,B,4,a[40]),f=l(f,c,d,e,h,11,a[41]),e=l(e,f,c,d,q,16,a[42]),d=l(d,e,f,c,t,23,a[43]),c=l(c,d,e,f,x,4,a[44]),f=l(f,c,d,e,A,11,a[45]),e=l(e,f,c,d,D,16,a[46]),d=l(d,e,f,c,j,23,a[47]),c=n(c,d,e,f,h,6,a[48]),f=n(f,c,d,e,u,10,a[49]),e=n(e,f,c,d,
C,15,a[50]),d=n(d,e,f,c,s,21,a[51]),c=n(c,d,e,f,A,6,a[52]),f=n(f,c,d,e,q,10,a[53]),e=n(e,f,c,d,y,15,a[54]),d=n(d,e,f,c,w,21,a[55]),c=n(c,d,e,f,v,6,a[56]),f=n(f,c,d,e,D,10,a[57]),e=n(e,f,c,d,t,15,a[58]),d=n(d,e,f,c,B,21,a[59]),c=n(c,d,e,f,r,6,a[60]),f=n(f,c,d,e,z,10,a[61]),e=n(e,f,c,d,j,15,a[62]),d=n(d,e,f,c,x,21,a[63]);b[0]=b[0]+c|0;b[1]=b[1]+d|0;b[2]=b[2]+e|0;b[3]=b[3]+f|0},_doFinalize:function(){var a=this._data,k=a.words,b=8*this._nDataBytes,h=8*a.sigBytes;k[h>>>5]|=128<<24-h%32;var l=s.floor(b/
4294967296);k[(h+64>>>9<<4)+15]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360;k[(h+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360;a.sigBytes=4*(k.length+1);this._process();a=this._hash;k=a.words;for(b=0;4>b;b++)h=k[b],k[b]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360;return a},clone:function(){var a=t.clone.call(this);a._hash=this._hash.clone();return a}});r.MD5=t._createHelper(q);r.HmacMD5=t._createHmacHelper(q)})(Math);;
    var JSONLib = json_stringify = function(){
    var $;

    function init(jQueryLibRef){
        $ = jQueryLibRef;

    }

    function toString(obj){
        if (!$ || obj == undefined || obj == "")
            return "error";

        if(typeof JSON != "undefined" && JSON.stringify){
            return JSON.stringify(obj);
        }
        else {
            var arr = [];
            $.each(obj, function(key, val) {
                var next = "\""+key + "\" : ";
                next += $.isPlainObject(val) ? toString(val) : "\""+val+"\"";
                arr.push( next );
            });
            return "{ " +  arr.join(", ") + " }";
        };
    }


    return {
        init: init,
        toString: toString
    };

}();
;
    var loadFileUtil = loadFileUtil = function(){
    var urlTypes = {script:1, css:2, json:3};
    var internalScriptId = 0;

    function loadFile(urlType,url, callback, fallbackURL){
        if (urlType == undefined || urlType == "" || url == undefined || url == "")
            return;

        if (url.indexOf("http://") == -1 && url.indexOf("https://") == -1)
            url = document.location.protocol + "//" + url;

        if (document.location.protocol == "https:" && url.indexOf("https://") == -1){
            url = url.replace("http://", "https://");
        }

        switch (urlType){
            case urlTypes.script:
                internalScriptId++;

                var script = document.createElement('script');
                script.setAttribute('src', url);
                script.setAttribute('id', "heyoya_" + internalScriptId +  Math.floor((Math.random()*1000000)+1));
                script.setAttribute('type', 'text/javascript');

                if (callback){
//                    script.onload = function() {
//                        callback();
//                    };

                    script.onload = script.onreadystatechange = function() {
                        if ( !this.readyState || this.readyState === "loaded" || this.readyState === "complete" ) {
                            script.onload = script.onreadystatechange = null;
                            callback();
                        }
                    };
                }

                if (fallbackURL != undefined && fallbackURL != null && typeof fallbackURL == "string"){
                    script.onerror = function(){
                        loadFile(urlType,fallbackURL, callback);
                    }
                }


                document.getElementsByTagName("head")[0].appendChild(script);

                break;

            case urlTypes.css:

                var head = document.getElementsByTagName('head')[0];
                var link = document.createElement('link');
                link.type = 'text/css';
                link.rel = 'stylesheet';
                link.href = url;
                head.appendChild(link);

                break;


        }

    }


    return {
        loadFile: loadFile,
        urlTypes: urlTypes
    };

}();;
    var userStorageUtil = userStorage = function(){
    var expiresPrefix = "ex_ls_";
    var noResultDefaultValue = "NO-DATA";
    var enabled;

    function init(){
        enabled = isEnabled();
    }

    function isEnabled(){
        try {  return (localStorage && (typeof localStorage).toLowerCase() == "object");
            return localStorage && localStorage.setItem;
        } catch (e) {
            return false;
        }
    }

    function set(key, value, millisecondsToAdd){
        var success = false;

        if ((!enabled) || (!(key && key != "" && value && value != "")))
            return success;

        try{
            localStorage[key] = value;
            localStorage[expiresPrefix + key] = (new Date().getTime() + millisecondsToAdd);
            success = true;
        }
        catch(err){
            clear(key);
        }

        return success;
    }

    function clear(key){
        if (!enabled || !key || key == "")
            return;

        try{
            localStorage.removeItem(key);
            localStorage.removeItem(expiresPrefix + key);
        }
        catch(err){

        }
    }


    function get(key){
        var result = noResultDefaultValue;

        if (!enabled || !key || key == "")
            return result;

        var expires = localStorage[expiresPrefix + key];

        if (!expires || isNaN(expires))
            return result;

        expires = parseInt(expires,10);
        var now = new Date().getTime();

        if (now > expires){
            clear(key);
            return result;
        }

        result = localStorage[key];

        return result;
    }

    init();

    return {
        isEnabled: isEnabled,
        set: set,
        get: get,
        clear: clear,
        noResultDefaultValue: noResultDefaultValue
    };

}();;
    var addStylesheetUtil = addStylesheet = (function() {
    function createNewStylesheet(nodeId) {
        var styleNode = document.createElement("style");

        if (nodeId)
            styleNode.id = nodeId;
        styleNode.appendChild(document.createTextNode(""));

        // Add the <style> element to the page
        document.head.appendChild(styleNode);

        return styleNode.sheet;
    }

    function removeStylesheet(nodeId) {
        var elementToRemove = document.getElementById(nodeId);

        if (elementToRemove != null)
            document.head.removeChild(elementToRemove);
    }


    function addCSSRule(sheet, selector, rules, index) {
        if("insertRule" in sheet) {
            sheet.insertRule(selector + "{" + rules + "}", index?index:0);
        }
        else if("addRule" in sheet) {
            sheet.addRule(selector, rules, index);
        }
    }

    function addStyleSheetFromText(cssValue, stylesheetId){
        if (!cssValue)
            return;

        var styleNode = document.createElement("style");

        if (stylesheetId)
            styleNode.id = stylesheetId;
        styleNode.type = "text/css";

        if (styleNode.styleSheet){
            styleNode.styleSheet.cssText = cssValue;
        } else {
            styleNode.appendChild(document.createTextNode(cssValue));
        }

        document.head.appendChild(styleNode);
    }


    return {
        createNewStylesheet: createNewStylesheet,
        removeStylesheet: removeStylesheet,
        addCSSRule: addCSSRule,
        addStyleSheetFromText: addStyleSheetFromText
    }
})();
;

    var UUID = /**
 * Created with IntelliJ IDEA.
 * User: idan
 * Date: 8/4/13
 * Time: 11:01 PM
 * To change this template use File | Settings | File Templates.
 */
UUID = function(){

    function create(){
        var s = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';
        var n = s.replace(/[xy]/g, function(c) {
            var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
            return v.toString(16);
        });
        return n;
    }


    return {
        create: create
    };

}();
;
    var formatGap = formatGap = function(){
    function formatDateGap(dateAInMili, dateBInMili) {
        var minutes = parseInt((dateAInMili - dateBInMili) / 60000);
        var largerMili = dateBInMili;

        var minutesAgoTemplate = $("#additionalText .minutes-ago").text();
        var minuteAgoTemplate = $("#additionalText .minute-ago").text();
        var hoursAgoTemplate = $("#additionalText .hours-ago").text();
        var hourAgoTemplate = $("#additionalText .hour-ago").text();
        var justAddedTemplate = $("#additionalText .just-added").text();

        if (minutes < 0){
            minutes = minutes * -1;
            largerMili = dateAInMili;
        }

        if (minutes > 1440){ //over a day
            var newDate = new Date(largerMili);
            var mthNames = $("#additionalText .months").text().split(",");
            var mthFormatTemplate = $("#additionalText .months-format").text();

            return mthFormatTemplate.replace("MONTH", mthNames[newDate.getMonth()]).replace("DAY", newDate.getDate()).replace("YEAR", newDate.getFullYear());
        }

        if (minutes == 0)
            return justAddedTemplate;

        if (minutes == 1)
            return minuteAgoTemplate;

        if (minutes < 60)
            return minutesAgoTemplate.replace("###", minutes);

        if (minutes < 120)
            return hourAgoTemplate;


        return hoursAgoTemplate.replace("###", parseInt(minutes / 60));
    }


    return {
        formatDateGap: formatDateGap
    };

}();
;
    var messaging = (function(){
    var messageTypes = {
        readyData: 'hey_data_rdy' ,readyUI: 'hey_ui_rdy' ,initiatedUI: 'hey_ui_init',loadedUI: 'hey_ui_loaded',getBasicInfo: 'hey_basic_info',getPageComments:'hey_gpc', getSubComments:'hey_gsc',requestPageComments: 'hey_rpc', requestSubComments: 'hey_rsc' , getData:'hey_gd', writeData:'hey_wd', displayComments: 'hey_dc', appState: 'hey_as', reportLike:'hey_rl', reportDislike:'hey_rdl', dataReceived: 'hey_dr', sendEvent: 'send_event', setPageId: 'hey_sp', setNumberOfComments: 'hey_snoc', passPageText: 'hey_spt', commentShared: 'hey_share', addCommentDisplayed: 'hey_acd', setNumberOfDisplayedComments: "hey_smodc", scrollToPoint: "hey_stp", setHeadlineText: "hey_sht", sug: 'hey_sug', userLoggedIn: 'hey_uli', userLoggedOut: 'hey_ulo', commentFlagged: 'hey_clg', setLanguage: 'hey_sl', loginSuccess: 'hey_ls', scrollToVideoTop: 'hey_stvt', setHeyoyaDivOverflow: 'hey_shdo', windowResize: 'hey_winr', ajaxPageChange: 'hey_apg', setPageTitle: 'hey_spt',

        uiAlive: 'hey_uial', commentPostedSuccessfully: 'hey_cps', recordWithIOSApplication: 'hey_rwia', IOSLinkAdd: 'hey_aiosl', IOSLinkResend: 'hey_rsdosl', IOSLinkRemoveAll: 'hey_ralliosl', setUIWidth: "hey_suiw",

        //placement data
        placementPlacedDone: 'hey_po_ppd', placementSelected: 'hey_po_ps', placementMarkSelected: 'hey_po_pms', hideRecordingBars: 'hey_hd_brs', showRecordingBars: 'hey_sw_brs',

        //admin color & text changes
        adminSetTitleTextColor: 'hey_ui_astc', adminSetTitleBackgroundColor: 'hey_ui_astbc', adminSetTitle: 'hey_ui_ast', adminSetMainColor: 'hey_ui_asmc', adminSetLogo: 'hey_ui_aslg', adminShowHeadline: 'hey_ui_ash', adminShowDemoData: 'hey_ui_asdd', adminSetLanguage: 'hey_ui_asl',
  adminSetRecordingTime: 'hey_ui_rt',  adminWidgetWidth: 'hey_ui_wd',setWidth: 'hey_width',
        adminShowMainAddCommentHeadline: 'hey_ui_smachd', adminShowReplyAddCommentHeadline: 'hey_ui_srachd', adminSetMainAddCommentHeadlineText: 'hey_ui_smacht', adminSetReplyAddCommentHeadlineText: 'hey_ui_sracht', adminSetSubAddCommentHeadlineText: 'hey_ui_ssacht', adminSetRecordingButtonsColor: 'hey_ui_srbc', adminSetFonts: 'hey_ui_sf', adminShowSubAddCommentHeadline: 'hey_ui_ssachd', adminShowReplySubAddCommentHeadline: 'hey_ui_srsachd', adminSetReplySubAddCommentHeadlineText: 'hey_ui_srsacht', adminSetLinksColor: 'hey_ui_slc', adminSetCardsColor: 'hey_ui_scc', adminSetTextColor: 'hey_ui_stc', adminSetButtonsColor: 'hey_ui_sbc',

        //SDK
        sdkEnabled: 'hey_sdk', sdkRecorderStateChanged: 'hey_sdk_rsc', sdkRecorderEventChanged: 'hey_sdk_rec', sdkUpdateUserInfo: 'hey_sdk_uui', sdkLoginSuccess: 'hey_sdk_ls', sdkCommentShared: 'hey_sdk_cs', sdkCopyToClipboard: 'hey_sdk_ctc',
        sdkStartRecording: 'hey_sdk_sr', sdkStopRecording: 'hey_sdk_str', sdkPauseRecording: 'hey_sdk_pr', sdkResetRecording: 'hey_sdk_rr', sdkPlayRecording: 'hey_sdk_plr', sdkStopPlayRecording: 'hey_sdk_spr', sdkPausePlayRecording: 'hey_sdk_ppr',
        sdkPlayExternalFile: 'hey_sdk_pef', sdkStopPlayExternalFile: 'hey_sdk_spef', sdkPausePlayExternalFile: 'hey_sdk_ppef',
        sdkLoginUser: 'hey_sdk_lu', sdkPostComment: 'hey_sdk_pc',

        sendToWixHive: 'hey_wx_sth', sendWixHiveResponseSuccess: 'hey_wx_shrs', sendWixHiveResponseError: 'hey_wx_shre', wixHiveReportingClearPage: 'hey_wx_rcp', wixSetPageUrl: 'hey_wx_spu', wixOpenModal: 'hey_wx_om',
 wixPublishStore: 'hey_wx_pb',
	newCommentFromRecordingUI: 'hey_ncfri', updateNewCommentFromRecordingUI: 'hey_uncfri', removeNewCommentFromRecordingUI: 'hey_rncfri', dataGetInfo: 'hey_glsd', dataMultiGetInfo: 'hey_mglsd', dataWriteInfo: 'hey_wlsd', dataClearInfo: 'hey_clsd'
    };
    var messageDestinations = {data: null ,ui:null};
    var betweenDelimiter = "hey1234hey";
    var dataSurroundDelimiter = "heydAtA";
    var targetWindow = null;
    var callbacksArray = null;
    var messageId;
    var windowCallbacksArray;

    function init(defaultCallbackFunction, dataDestinationObj, uiDestinationObj, defaultTargetWindow){
        windowCallbacksArray = [];
        if (Object.prototype.toString.call( window.heymsgcbwarp ) === '[object Function]' )
            windowCallbacksArray.push(window.heymsgcbwarp);

        window.heymsgcbwarp = _callbackFunction;

        if (Object.prototype.toString.call( defaultCallbackFunction ) === '[object Function]' )
            windowCallbacksArray.push(defaultCallbackFunction);

        if (defaultTargetWindow != undefined)
            targetWindow = defaultTargetWindow;


        if (dataDestinationObj != null)
            messageDestinations.data = dataDestinationObj;

        if (uiDestinationObj != null)
            messageDestinations.ui = uiDestinationObj;

        callbacksArray = new Array();
        messageId = 0;

        messagingUtil.init(this.gotMessage);
    }

    function gotMessage(message){
        if (window.heymsgcbwarp== null || message == undefined || message == "" || message.indexOf == undefined || message.indexOf(betweenDelimiter) == -1)
            return;

        var messageArray = message.split(betweenDelimiter);

        var messageId = messageArray[0];
        var messageType = messageArray[1];

        if (!isValidMessageType(messageType))
            return;

        messageArray.splice(0,2);


        var callback = getCallbackFromArray(messageId);
        if (callback != -1){
            removeFromCallbacksArray(messageId);
            callback(messageType,messageArray);
        }
        else
            window.heymsgcbwarp(messageId,messageType,messageArray);

    }


    function postMessage(messageId,messageType,messageArray, callbackFunction, destination){
        if ( (targetWindow == null && destination == undefined) || messageType == undefined || messageType == "" || !isValidMessageType(messageType) || messageArray == undefined || messageArray == "")
            return;

        if (callbackFunction == undefined)
            callbackFunction = -1;

        var requestMessageId;
        if (messageId == null)
            requestMessageId = addToCallbacksArray(callbackFunction);
        else
            requestMessageId = messageId;

        var message = requestMessageId.toString().concat(betweenDelimiter,messageType,betweenDelimiter);

        if (!(Object.prototype.toString.call( messageArray ) === '[object Array]' )){
            message = message.concat(messageArray.toString(),betweenDelimiter);
        }
        else{
            for (data in messageArray){
                if (isNaN(data))
                    continue;

                message = message.concat(messageArray[data].toString(),betweenDelimiter);
            }
        }

        message = message.substring(0,message.length-betweenDelimiter.length);

        if (destination != undefined)
            messagingUtil.postMessage(destination,message);
        else
            messagingUtil.postMessage(targetWindow,message);

    }


    function isValidMessageType(messageType){
        var isValid = false;

        for (type in messageTypes){
            if (messageTypes[type] == messageType){
                isValid = true;
                break;
            }
        }

        return isValid;
    }

    function getNextMessageId(){
        var newMessageId = ++messageId;
        return newMessageId;
    }

    function addToCallbacksArray(callbackFunction){
        var messageId = "hey" + getNextMessageId();
        callbacksArray[messageId] = callbackFunction;
        return messageId;
    }

    function getCallbackFromArray(messageId){
        var callback = -1;

        if (callbacksArray[messageId] != undefined)
            callback = callbacksArray[messageId];

        return callback;

    }

    function removeFromCallbacksArray(messageId){
        if (callbacksArray[messageId] != undefined)
            callbacksArray = callbacksArray.splice(messageId,1);

    }

    function _callbackFunction(messageId,messageType,messageArray){
        var callbacksLength = windowCallbacksArray.length;
        if (callbacksLength == 0)
            return;

        for(var callbacksIterator = 0; callbacksIterator < callbacksLength; callbacksIterator++){
            windowCallbacksArray[callbacksIterator](messageId,messageType,messageArray);
        }
    }

    return {
        init: init,
        postMessage: postMessage,
        gotMessage:gotMessage,
        messageTypes: messageTypes,
        betweenDelimiter: betweenDelimiter,
        messageDestinations: messageDestinations,
        isValidMessageType: isValidMessageType



    };



}());


var messagingUtil = messagingUtil = (function(){
    var getMessageCallbackFunction;

    function init(clb){
        getMessageCallbackFunction = clb;

        if (!(Object.prototype.toString.call( window.heymsgul ) === '[object Undefined]' ))
            return;

        window.heymsgul = 1;

        if( window.addEventListener ){
            window.addEventListener("message", this.gotMessage, false );
        }else{
            window.attachEvent('onmessage', this.gotMessage );
        }
    }


    function postMessage(targetWindow, message ){
        targetWindow.postMessage( message, "*" );
    }

    function gotMessage(event){
        if(getMessageCallbackFunction && typeof getMessageCallbackFunction == "function") {
            getMessageCallbackFunction(event.data);
        }
    }

    function dispose(){
        getMessageCallbackFunction = undefined;

        if( window.removeEventListener ){
            window.removeEventListener("message", this.gotMessage, false );
        }else{
            if (window.detachEvent) {
                window.detachEvent ('onmessage', this.gotMessage );
            }
        }
    }


    return {
        init: init,
        dispose: dispose,
        postMessage: postMessage,
        gotMessage:gotMessage
    };
}());;
if (window.heyoya)
    window.heyoya.messagingUtil = messagingUtil;
;
    var jsRecorder = jsRecorder = function(){
    var $;
    var settings;
    var isRecordingShouldUpdateGap;
    var bufferSize;
    var leftChannel;
    var rightChannel;
    var gainObj;
    var scriptProcessorObj;
    var audioElement;
    var progressInterval;
    var progressTimeCurrentTime;
    var progressTimeGap;
    var recordMediaStreamSourceObj; // this is a global parameter as firefox has a bug which it remove the resource and stops the recording
    var recordingAudioContextObj;
    var recordingStream;
    var playBufferSource;
    var playLastTime;
    var stateChangedCallback;
    var eventCallback;
    var recorderStates;
    var eventTypes;
    var state;
    var playPauseClicked;
    var recorderSampleRate;
    var volume;
    var onBeforeUnloadUsed;
    var errorService;
    var mp3WorkerThread;
    var mp3WorkerIsReady;
    var pendingEncoding;
    var wavEncodingData;
    var mp3EncodingData;
    var mp3ByteLength;
    var leftChannelLength;
    var leftChannelBufferLeftOverArray;
    var mp3WorkerSendNextBucketTimeout;
    var isNotFirefox = true;
    var isSafariDesktop;
    var isIOSObj;
    var isParentPageSecure = false;

    function init(jQuery, options, recorderStatesEnum, eventTypesEnum, errorServiceObj, isParentPageSecureObj, mp3WorkerVersion, isSafariDesktopObj, isIOSObj ) {

        $ = jQuery;
        recorderStates = recorderStatesEnum;
        eventTypes = eventTypesEnum;

        errorService = errorServiceObj;

        state = recorderStates.NOT_DEFINED;

        // if (params.isMobile)
        //     return;

        if (typeof options == 'undefined') options = {};

        settings = $.extend({
            onStateChange: null,
            onEventReport: null,
            commentBaseUrl: 'https://s3.amazonaws.com/heyoya_comments/'
        }, options);

        isParentPageSecure = isParentPageSecureObj;


        if (options.onStateChange && typeof options.onStateChange == "function")
            stateChangedCallback = options.onStateChange;
        else
            stateChangedCallback = null;

        if (options.onEventReport && typeof options.onEventReport == "function")
            eventCallback = options.onEventReport;
        else
            eventCallback = null;


        if (!isRecordingSupported())
            return;

//        if (_isFlashSupported())
//             isNotFirefox = false;

        isRecordingShouldUpdateGap = false;
        playPauseClicked = false;
        onBeforeUnloadUsed = false;
        externalFileJustPaused = false;
        mp3WorkerIsReady = false;
        pendingEncoding = false;

        scriptProcessorObj = null;
        audioElement = null;
        gainObj = null;
        progressInterval = null;
        recordMediaStreamSourceObj = null;
        recordingAudioContextObj = null;
        recordingStream = null;
        playBufferSource = null;
        html5AudioObject = null;
        lastPlayedCommentId = null;
        externalFilePlayingInterval = null;
        externalFilePlayingStartTime = null;
        mp3WorkerThread = null;
        wavEncodingData = null;
        mp3EncodingData = null;
        mp3WorkerSendNextBucketTimeout = null

        bufferSize = 8192; //2048;
        leftChannel = [];
        rightChannel = [];
        leftChannelBufferLeftOverArray = [];

        progressTimeCurrentTime = 0;
        progressTimeGap = 0;
        playLastTime = 0;
        volume = 0;
        leftChannelLength = 0;

        state = recorderStates.READY;

        if ((window == top || isParentPageSecure) && isNotFirefox && mp3WorkerThread == null) {
            //console.log("loading worker");
            mp3WorkerIsReady = false;
            mp3WorkerThread = new Worker("js/mp3_worker.js?v=" + mp3WorkerVersion);
            mp3WorkerThread.onmessage = _mp3WorkerMessageReceived;
        }

        _changeRecorderState(recorderStates.READY);


        if (!Float32Array.prototype.slice) {
            Float32Array.prototype.slice = function () {
                var target = new Float32Array(this.length);

                for (var i = 0; i < this.length; ++i) {
                    target[i] = this[i];
                }
                return target;
            };
        }

        isSafariDesktop = isSafariDesktopObj;
        isIOS = isIOSObj;
    }


    function isRecordingSupported(){
        if (!navigator.getUserMedia)
            navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;

        if (!window.AudioContext)
            window.AudioContext = window.webkitAudioContext || window.mozAudioContext;

        if (( !navigator.getUserMedia && ( !navigator.mediaDevices || !navigator.mediaDevices.getUserMedia ) )   || !window.AudioContext){
            //_changeRecorderState(recorderStates.NOT_DEFINED);
            return false;
        }
        else
            return true;

    }

    function record(){

        if (!_isServiceEnabled() || state == recorderStates.RECORDING)
            return;

        if (state == recorderStates.PLAYING)
            pausePlaying();

        if (_isRecorderDefined()){
            _startRecording();
            return;
        }

        if (isIOS && (recordingAudioContextObj == null || scriptProcessorObj == null)) {
            if (recordingAudioContextObj == null)
                    recordingAudioContextObj = new window.AudioContext();


	    scriptProcessorObj = recordingAudioContextObj.createScriptProcessor(bufferSize, 2, 2);
            // scriptProcessorObj.connect(recordingAudioContextObj.destination);
        }

        if (navigator.getUserMedia)
            navigator.getUserMedia({audio:true}, _startRecording, _recordingError);
        else
            navigator.mediaDevices.getUserMedia({audio:true})
                .then(_startRecording)
                .catch(_recordingError);


        // if (window != top && isNotFirefox && mp3WorkerThread == null){
        //     //console.log("loading worker");
        //     mp3WorkerIsReady = false;
        //     mp3WorkerThread = new Worker("js/mp3_worker.js?v=2");
        //     mp3WorkerThread.onmessage =  _mp3WorkerMessageReceived;
        // }
    }

    function _recordingError(e){
        if (isIOS && recordingAudioContextObj != null) {
            recordingAudioContextObj = null;
            scriptProcessorObj = null;
        }

        var shouldReportNotDefined = true;
        if (typeof( e) == "string"){
            switch (e){
                case "PERMISSION_DENIED":
                    shouldReportNotDefined = false;
                    _reportEventType(eventTypes.RECORDING_PERMISSION_DENIED);
                    break;

                case "NO_DEVICES_FOUND":
                    _reportEventType(eventTypes.ERROR_RECORDING_FAILED_NO_RECORDING);
                    break;
                default :
                    errorService.reportError("Tracker","JsRecorderError-String", e);
                    break;
            }

            if (shouldReportNotDefined)
                _changeRecorderState(recorderStates.NOT_DEFINED);
            return;
        }

        if (!e.name){
            if (shouldReportNotDefined)
                _changeRecorderState(recorderStates.NOT_DEFINED);

            errorService.reportError("Tracker","JsRecorderError-NotName", e);
            return;
        }

        switch (e.name){
            case "PermissionDeniedError":
            case "PERMISSION_DENIED":
            case "NotAllowedError":
                shouldReportNotDefined = false;
                _reportEventType(eventTypes.RECORDING_PERMISSION_DENIED);
                break;

            case "DevicesNotFoundError":
                _reportEventType(eventTypes.ERROR_RECORDING_FAILED_NO_RECORDING);
                break;

            case "NotFoundError: The object can not be found here.":
            case "NotFoundError":
                _reportEventType(eventTypes.ERROR_RECORDING_FAILED_NO_RECORDING);
                break;

            case "PermissionDismissedError":
                shouldReportNotDefined = false;
                _reportEventType(eventTypes.RECORDING_PERMISSION_DENIED);
                break;

            default :
                errorService.reportError("Tracker","JsRecorderError-Name", e.name);
                break;
        }

        if (shouldReportNotDefined)
            _changeRecorderState(recorderStates.NOT_DEFINED);
    }

    function pauseRecording(){
        if (!_isServiceEnabled())
            return;

        if (progressInterval != null){
            clearInterval(progressInterval);
            progressInterval = null;
        }

        _changeRecorderState(recorderStates.READY);
        _reportEventType(eventTypes.PAUSED_RECORDING);
    }

    function stopRecording(){
        if (!_isServiceEnabled())
            return;

        if (recognizing){
            recognition.stop();
        }


        disconnect();

        if (progressInterval != null){
            clearInterval(progressInterval);
            progressInterval = null;
        }

        _changeRecorderState(recorderStates.READY);
        _reportEventType(eventTypes.STOPPED_RECORDING);

        _mp3WorkerRecordingStopped();
    }

    function resetRecording(){
        if (!_isServiceEnabled())
            return;

        try{
            leftChannel.length = 0;
        } catch (err){
            leftChannel = [];
        }

        try{
            rightChannel.length = 0;
        } catch (err){
            rightChannel = [];
        }


//        leftChannel = [];
//        rightChannel = [];
        leftChannelLength = 0;

        progressTimeCurrentTime = 0;
        playLastTime = 0;
        volume = 0;

        try{
            leftChannelBufferLeftOverArray.length = 0;
        } catch (err){
            leftChannelBufferLeftOverArray = [];
        }

        if (mp3WorkerSendNextBucketTimeout != null){
            clearTimeout(mp3WorkerSendNextBucketTimeout);
            mp3WorkerSendNextBucketTimeout = null;
        }

        if (isNotFirefox)
            _mp3WorkerSendMessage({cmd: "resetRecording"});

        _changeRecorderState(recorderStates.READY, false);
        _reportEventType(eventTypes.RECORDING_RESET);
    }

    var playAudioContextObj = null;
    function play(){
        if (!_isServiceEnabled() || state == recorderStates.PLAYING)
            return;

        if (state == recorderStates.RECORDING)
            stopRecording();


        if (leftChannel.length == 0 || rightChannel.length == 0)
            return;

        if (playAudioContextObj == null)
            playAudioContextObj = new window.AudioContext();

        var mergedLeftChannel = _mergeChannel(leftChannel);
        var mergedRightChannel = _mergeChannel(rightChannel);

//        var gainNode = playAudioContextObj.createGain();
        //gainNode.gain.value = 0.7;



        playBufferSource = playAudioContextObj.createBufferSource();
        var buffer = playAudioContextObj.createBuffer( 2, mergedLeftChannel.length, playAudioContextObj.sampleRate );
        buffer.getChannelData(0).set(mergedLeftChannel);
        buffer.getChannelData(1).set(mergedRightChannel);

        playBufferSource.buffer = buffer;

        playBufferSource.onended = function(){
            if (playPauseClicked){
                playPauseClicked = false;
                return;
            }

            _reportEventType(eventTypes.PLAYING_TIME ,progressTimeCurrentTime*1000);
            stopPlaying();
//            _changeRecorderState(recorderStates.READY);
//            _reportEventType(eventTypes.STOPPED_PLAYING);
        };

//        playBufferSource.connect(gainNode);
        playBufferSource.connect(playAudioContextObj.destination);
//        gainNode.connect(playAudioContextObj.destination);
        //playBufferSource.volume = 1;


        if (playBufferSource.noteOn == undefined)
            playBufferSource.start(0,playLastTime);
        else
            playBufferSource.noteOn(0, playLastTime);

        _changeRecorderState(recorderStates.PLAYING);

        if (progressInterval == null)
            progressInterval = setInterval(function(){playLastTime += 0.4; _reportEventType(eventTypes.PLAYING_TIME, playLastTime*1000);}, 400);

    }

    function pausePlaying(){
        playPauseClicked = true;

        if (!_isServiceEnabled())
            return;

        clearInterval(progressInterval);
        progressInterval = null;

        if (playBufferSource != null){
            try{
                playBufferSource.stop();
            }
            catch (err){
                try{
                    playBufferSource.stop(1);
                }
                catch (err){

                }
            }
            playBufferSource = null;
        }

        _changeRecorderState(recorderStates.READY);
        _reportEventType(eventTypes.PAUSED_PLAYING);
    }

    function stopPlaying(){
        if (!_isServiceEnabled())
            return;

        clearInterval(progressInterval);
        progressInterval = null;


        playLastTime = 0;

        if (playBufferSource != null){
            try{
                playBufferSource.stop();
            }
            catch (err){
                try{
                    playBufferSource.stop(1);
                }
                catch (err){

                }
            }

            playBufferSource = null;
        }

        _changeRecorderState(recorderStates.READY);
        _reportEventType(eventTypes.STOPPED_PLAYING);
    }

    function isEnabled(){
        return state != recorderStates.NOT_DEFINED;
    }

//  function inspired by nusofthq recordmp3 Project
//  https://github.com/nusofthq/Recordmp3js/blob/master/recordmp3.js
//  License (MIT)
//  Copyright (c) 2014 nusofthq
//  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
//  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
//  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    function encode(){
        if (!_isServiceEnabled())
            return;

        pendingEncoding = false;
        wavEncodingData = null;


        disconnect();

        if (leftChannel.length == 0 || rightChannel.length == 0){
            _changeRecorderState(recorderStates.READY, false);
            _reportEventType(eventTypes.ENCODING_ERROR, null);
            return;
        }

        _changeRecorderState(recorderStates.ENCODING);

        if(isNotFirefox){
            if (mp3WorkerIsReady)
                _mp3WorkerFinishEncoding();
            else
                pendingEncoding = true;

            return;
        }


        var mergedChannels = _mergeChannels (leftChannel, rightChannel);


        var buffer = new ArrayBuffer(44 + mergedChannels.length * 2);
        var view = new DataView(buffer);

        /* RIFF identifier */
        _writeString(view, 0, 'RIFF');
        /* RIFF chunk length */
        view.setUint32(4, 44 + mergedChannels.length * 2, true);
        /* RIFF type */
        _writeString(view, 8, 'WAVE');
        /* format chunk identifier */
        _writeString(view, 12, 'fmt ');
        /* format chunk length */
        view.setUint32(16, 16, true);
        /* sample format (raw) */
        view.setUint16(20, 1, true);
        /* channel count */
        view.setUint16(22, 2, true);
        /* sample rate */
        view.setUint32(24, recorderSampleRate, true);
        /* byte rate (sample rate * block align) */
        view.setUint32(28, recorderSampleRate * 4, true);
        /* block align (channel count * bytes per sample) */
        view.setUint16(32, 4, true);
        /* bits per sample */
        view.setUint16(34, 16, true);
        /* data chunk identifier */
        _writeString(view, 36, 'data');
        /* data chunk length */
        view.setUint32(40, mergedChannels.length * 2, true);

        _floatTo16BitPCM(view, 44, mergedChannels);

        // our final binary blob
        //var blob = new Blob ( [ view ], { type : 'audio/wav' } );


        _changeRecorderState(recorderStates.READY, false);

        //console.time("start converting");
        var binary = '';
        var bytes = new Uint8Array( view.buffer );
        var len = bytes.byteLength;
        for (var i = 0; i < len; i++) {
            binary += String.fromCharCode( bytes[ i ] );
        }
        //console.timeEnd("start converting");

        _reportEventType(eventTypes.ENCODING_WAV_COMPLETED, window.btoa( binary ));



//        var audioBlob = _createWavOutput();
//
//        _reportEventType(eventTypes.ENCODING_WAV_COMPLETED, "1");
//
//        _convertWavOutputToMp3(audioBlob);



    }

    function _mergeChannel(channel){
        if (!channel || channel == null)
            return null;

        var channelLength = channel.length;
        if (channelLength == 0)
            return null;

        var mergedChannel = new Float32Array(bufferSize * channelLength);
        var channelOffset = 0;

        for (var lengthIterator = 0; lengthIterator < channelLength; lengthIterator++, channelOffset = channelOffset + bufferSize){
            mergedChannel.set(channel[lengthIterator], channelOffset);
        }

        return mergedChannel;
    }

    function _mergeChannels(leftChannel, rightChannel){
        if (leftChannel == null || leftChannel.length == 0 || rightChannel == null || rightChannel.length == 0)
            return null;

        var mergedLeftChannel = _mergeChannel(leftChannel);
        var mergedRightChannel = _mergeChannel(rightChannel);

        if (mergedLeftChannel == null || mergedLeftChannel.length == 0 || mergedRightChannel == null || mergedRightChannel.length == 0)
            return null;

        var streamLength = mergedLeftChannel.length + mergedRightChannel.length;
        var stream = new Float32Array(streamLength);

        for (var streamPosition = 0, channelPosition = 0; streamPosition < streamLength; channelPosition++, streamPosition = streamPosition + 2){
            stream[streamPosition] = mergedLeftChannel[channelPosition];
            stream[streamPosition + 1] = mergedRightChannel[channelPosition];
        }

        return stream;
    }

//  function taken from Matt Diamond Recorderjs Project
//  https://github.com/mattdiamond/Recorderjs/blob/master/README.md
//  License (MIT)
//  Copyright Â© 2013 Matt Diamond
//  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
//  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
//  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    function _floatTo16BitPCM(output, offset, input){
        for (var i = 0; i < input.length; i++, offset+=2){
            var s = Math.max(-1, Math.min(1, input[i]));
            output.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true);
        }
    }


//  function taken from Matt Diamond Recorderjs Project
//  https://github.com/mattdiamond/Recorderjs/blob/master/README.md
//  License (MIT)
//  Copyright Â© 2013 Matt Diamond
//  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
//  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
//  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    function _writeString(view, offset, string){
        for (var i = 0; i < string.length; i++){
            view.setUint8(offset + i, string.charCodeAt(i));
        }
    }




    function disconnect(){
        if (gainObj)
            gainObj.disconnect();

        if (recordMediaStreamSourceObj)
            recordMediaStreamSourceObj.disconnect();

        if (scriptProcessorObj){
            scriptProcessorObj.disconnect();
            scriptProcessorObj.onaudioprocess = null;
        }

        if (recordingStream)
            recordingStream.stop();

        if (progressInterval != null){
            clearInterval(progressInterval);
            progressInterval = null;
        }

        volume = 0;
        progressTimeCurrentTime = 0;
        progressTimeGap = 0;
        playLastTime = 0;

        gainObj = null;
        recordMediaStreamSourceObj = null;
        scriptProcessorObj = null;
        recordingStream = null;
        //recordingAudioContextObj = null;
    }
    function encode64(buffer) {
        var binary = '',
            bytes = new Uint8Array( buffer ),
            len = bytes.byteLength;

        for (var i = 0; i < len; i++) {
            binary += String.fromCharCode( bytes[ i ] );
        }
        return window.btoa( binary );
    }

    function postComment(params){
        if (!params || params == null || params == "")
            return false;

        _reportEventType(eventTypes.COMMENT_SAVING, "1");
        window.addCommentCallback = _postCommentCallback;

        _reportEventType(eventTypes.SENDING_TO_SERVER, "1");

        var formData = new FormData();
        formData.append('c64', mp3EncodingData);
        formData.append('c64l', mp3ByteLength);

        var paramsKeys = Object.keys(params);
        for(var keysIterator = 0; keysIterator < paramsKeys.length; keysIterator++){
            formData.append(paramsKeys[keysIterator], params[paramsKeys[keysIterator]]);
        }

        $.ajax({
            type: 'POST',
            url: settings.postCommentJSONPFullPath,
            data: formData,
            processData: false,
            contentType: false,
            cache: false

//            contentType: 'application/octet-stream',
//            processData: false
//            dataType: "jsonp",
//            jsonp: "jsoncallback"
        }).always(function( data ) {
            _postCommentCallback(data);
        });


//        $.getJSON(settings.postCommentJSONPFullPath + "?" + params + "&jsoncallback=?", mp3EncodingData);

    }

    function _postCommentCallback(result){
        if (!result || result == null || result == "-1"){
            _reportEventType(eventTypes.ERROR_SENDING_TO_SERVER_FAILED, "-1");
            return;
        }

        _reportEventType(eventTypes.COMMENT_SAVED, result);
    }


    function _isServiceEnabled(){
        if (isEnabled())
            return true;
        else{
            _changeRecorderState(recorderStates.NOT_DEFINED);
            _reportEventType(eventTypes.SERVICE_NOT_DEFINED);
            return false;
        }
    }

    function _startRecording(stream, inCallback){
        if (isSafariDesktop && !inCallback){
            setTimeout(function(){ _startRecording(stream, true); }, 2000);
        }
        //console.log("in _startRecording");

        _changeRecorderState(recorderStates.RECORDING);

        errorService.reportError("Tracker","_startRecording-Start");

        if (_isRecorderDefined()){
            isRecordingShouldUpdateGap = true;
            return;
        }

//         if (undefined != typeof stream.stop)
//             recordingStream = stream;
//         else{
//            if (stream.getTracks() != null && stream.getTracks().length > 0)
//                recordingStream = stream.getTracks()[0];
//         }

        if (typeof stream.getTracks == "function" && stream.getTracks() != null && stream.getTracks().length > 0)
            recordingStream = stream.getTracks()[0];
        else
            recordingStream = stream;


        if (progressInterval != null){
            clearInterval(progressInterval);
            progressInterval = null;
        }

        isRecordingShouldUpdateGap = false;
        if (!isIOS && recordingAudioContextObj == null)
            recordingAudioContextObj = new window.AudioContext();

        recordMediaStreamSourceObj = recordingAudioContextObj.createMediaStreamSource(stream);
//        gainObj = recordingAudioContextObj.createGain();
//        gainObj.gain.value = 0.7;
//
//        recordMediaStreamSourceObj.connect(gainObj);

        if (!isIOS) {
            if (recordingAudioContextObj.createScriptProcessor == null)
                recordingAudioContextObj.createScriptProcessor = recordingAudioContextObj.createJavaScriptNode;

            scriptProcessorObj = //(recordingAudioContextObj.createScriptProcessor || recordingAudioContextObj.createJavaScriptNode).call(recordingAudioContextObj, bufferSize, 2, 2);
                recordingAudioContextObj.createScriptProcessor(bufferSize, 2, 2);
        }

        scriptProcessorObj.onaudioprocess = function(e){
            if (state != recorderStates.RECORDING) return;

            if (isRecordingShouldUpdateGap){
                isRecordingShouldUpdateGap = false;

//                if (e.playbackTime)
//                    progressTimeGap = e.playbackTime - progressTimeCurrentTime;
//                else
//                    progressTimeGap = e.playbackTime - progressTimeCurrentTime;
                playLastTime = 0;
            }

//            progressTimeCurrentTime = e.playbackTime - progressTimeGap;

            if (isNotFirefox)
                _mp3WorkerEncodeSample(e.inputBuffer.getChannelData(0), e.inputBuffer.getChannelData(1));


            leftChannel.push (new Float32Array (e.inputBuffer.getChannelData (0)));
            rightChannel.push (new Float32Array (e.inputBuffer.getChannelData (1)));

            leftChannelLength += e.inputBuffer.getChannelData(0).length;


            var buf = e.inputBuffer.getChannelData(0);
            var bufLength = buf.length;
            var sum = 0;
            var x;

            for (var i=0; i<bufLength; i++) {
                x = buf[i];
                sum += x * x;
            }
            var rms =  Math.sqrt(sum / 128);

            if($("body").hasClass("ieb"))
                volume = Math.max(rms*1.4, volume*0.90);
            else
                volume = Math.max(rms*1.3, volume*0.90);

            if (progressInterval == null){
                errorService.reportError("Tracker","progressIntervalStarted");
                _reportEventType(eventTypes.RECORDING_TIME , ((progressTimeCurrentTime*1000) + "||" + (volume * 100))      );

                progressInterval = setInterval(function(){
                    progressTimeCurrentTime += 0.4;
                    _reportEventType(eventTypes.RECORDING_TIME , ((progressTimeCurrentTime*1000) + "||" + (volume * 100))      );
                }, 400);
            }

            // if (isNotFirefox)
            //     _mp3WorkerEncodeSample(e.inputBuffer.getChannelData (0), e.inputBuffer.getChannelData (1));
        };


        recorderSampleRate = recordingAudioContextObj.sampleRate;

        // if (!isNotFirefox){
        //gainObj = recordingAudioContextObj.createGain();
        // gainObj.gain.value = 0.7;
        //gainObj.connect (scriptProcessorObj);
        //recordMediaStreamSourceObj.connect(gainObj);
        // } else
            recordMediaStreamSourceObj.connect(scriptProcessorObj);
//
//

        _mp3WorkerSendMessage({
            cmd: "start",
            process: "separate",
            sampleRate: recorderSampleRate,
            bitRate: 128
        });


        scriptProcessorObj.connect (recordingAudioContextObj.destination);

        if (!onBeforeUnloadUsed){
            onBeforeUnloadUsed = true;
            var onBeforeUnloadFunc = window.onbeforeunload;
            window.onbeforeunload = function(e) {
                disconnect();

                if (typeof onBeforeUnloadFunc == "function")
                    onBeforeUnloadFunc();
            };
        }

        if (('webkitSpeechRecognition' in window)) {
            window.heyoya_vt = null;
            if (recognition == null)
                recognition = new webkitSpeechRecognition();
            else if (recognizing) {
                try {
                    recognition.stop();
                } catch (err) {
                    recognition = new webkitSpeechRecognition();
                }
            }
            recognition.continuous = true;
            recognition.interimResults = false;

            recognition.onstart = function() {
                recognizing = true;
            }

            recognition.onend = function() {
                recognizing = false;
            }

            recognition.onerror = function() {
                recognizing = false;
            }

            recognition.onresult = function(event) {
                var final_transcript = '';
                for (var i = event.resultIndex; i < event.results.length; ++i) {
                    if (event.results[i].isFinal) {
                        final_transcript += event.results[i][0].transcript;
                    }
                }

                if (window.heyoya_vt == null)
                    window.heyoya_vt = final_transcript;
                else
                    window.heyoya_vt += " " + final_transcript;
            };


            recognition.lang = "en-US";
            try {
                recognition.start();
            } catch (err){
                setTimeout(function(){
                    try{
                        recognition.start();
                    } catch (err){
                        errorService.reportError("Tracker","errorStartingRecognition", err);
                    }
                }, 10);
            }
        }


    }

    var recognition = null;
    var recognizing = false;

    function _mergeChannel(channel, length){
        if (!channel || channel == null)
            return null;

        var channelLength = channel.length;
        if (channelLength == 0)
            return null;

        var mergedChannel = new Float32Array(bufferSize * channelLength);
        var channelOffset = 0;

        for (var lengthIterator = 0; lengthIterator < channelLength; lengthIterator++, channelOffset = channelOffset + bufferSize){
            mergedChannel.set(channel[lengthIterator], channelOffset);
        }

        return mergedChannel;
    }



    function _isRecorderDefined(){
        return recordingStream != null && scriptProcessorObj != null;
    }

//    function _updateProgressBar(stateType ,progress){
//        if (!isEnabled()){
//            _reportEventType(eventTypes.SERVICE_NOT_DEFINED);
//            return;
//        }
//
//
//        _reportEventType(stateType ,progress);
//
//    }

    function _changeRecorderState(newState, bubbleEvent){
        state = newState;

        if (bubbleEvent != undefined && !bubbleEvent)
            return;

        if (stateChangedCallback != null)
            stateChangedCallback(state);
    }

    function _reportEventType(event, value){
        if (eventCallback != null)
            eventCallback(event, value);
    }



    function _mp3WorkerMessageReceived(message){
        if (!message || !message.data || !message.data.cmd)
            return;

        switch (message.data.cmd){
            case "mp3WorkerThreadReady":

                // if (leftChannelBufferLeftOverArray.length > 0){
                //     for (var buffersArrayIterator = 0; buffersArrayIterator < leftChannelBufferLeftOverArray.length; buffersArrayIterator++){
                //         _mp3WorkerEncodeSampleInternal(leftChannelBufferLeftOverArray[buffersArrayIterator].left, leftChannelBufferLeftOverArray[buffersArrayIterator].right);
                //     }
                // }
                //
                // if (pendingEncoding){
                //     pendingEncoding = false;
                //     _mp3WorkerFinishEncoding();
                // }

                mp3WorkerIsReady = true;


                break;

            case "mp3WorkerThreadEncodeCompleted":
                window.URL = window.URL || window.webkitURL;

//                 var time = new Date(),
//                     url = URL.createObjectURL(message.data.blob),
//                     html = "<p recording='" + url + "'>" +
//                         "<audio controls src='" + url + "'></audio> " +
//                         time +
//                         " <a class='btn btn-default' href='" + url +
//                         "' download='recording.wav'>" +
//                         "Save...</a> " +
//                         "<button class='btn btn-danger' recording='" +
//                         url + "'>Delete</button>" +
//                         "</p>";
//                 $("#addCommentContainer").prepend($(html));
// return;

//                alert("finished!");

                mp3EncodingData = message.data.blob;
                mp3ByteLength = message.data.blob.size;

                var reader = new FileReader();
                reader.onload = function(event){
                    mp3EncodingData = event.target.result;

                    _reportEventType(eventTypes.ENCODING_MP3_COMPLETED, "1");
                    _changeRecorderState(recorderStates.READY, false);
                };
                reader.readAsDataURL(mp3EncodingData);

//                var url = 'data:audio/mp3;base64,'+encode64(message.data.data);
//                var url = URL.createObjectURL(message.data.data);
//
//                var au = document.createElement('audio');
//                au.controls = true;
//                au.src = url;
//                au.id = "mp3Audio";
//                $("#wrapper").append(au);
//
//                alert("start playing audio");
//
//                document.getElementById("mp3Audio").load();
//                document.getElementById("mp3Audio").play();
//                $("#mp3Audio").css("position", "relative").css("top", "-100px");


                break;
        }

    }

    function _mp3WorkerSendMessage(message){
        if (!message || mp3WorkerThread == null)
            return;

        mp3WorkerThread.postMessage(message);
    }

    function _mp3WorkerRecordingStopped(){
        if (leftChannelBufferLeftOverArray.length > 0){
            for (var buffersArrayIterator = 0; buffersArrayIterator < leftChannelBufferLeftOverArray.length; buffersArrayIterator++){
                _mp3WorkerEncodeSendToSampleInternal(buffersArrayIterator);
            }
        }
    }

    function _mp3WorkerFinishEncoding(){
        if (mp3WorkerThread == null || !mp3WorkerIsReady)
            return;

        setTimeout(function(){ _mp3WorkerSendMessage({cmd:"finish"}); }, 100);
    }


    function _mp3WorkerEncodeSample(bufferLeft, bufferRight){
        var copyOfBufferLeft, copyOfBufferRight;

//        copyOfBufferLeft = bufferLeft.slice();
//        copyOfBufferRight = bufferRight.slice();


//        if (mp3WorkerThread == null || !mp3WorkerIsReady){
        var pendingEncoding = {};
        pendingEncoding.left = bufferLeft.slice();
        pendingEncoding.right = bufferRight.slice();
        leftChannelBufferLeftOverArray.push(pendingEncoding);
//          return;
//        }

//        _mp3WorkerEncodeSampleInternal(bufferLeft, bufferRight);
    }

    function _mp3WorkerEncodeSendToSampleInternal(buffersArrayIterator){
        setTimeout(function(){
            if(leftChannelBufferLeftOverArray && leftChannelBufferLeftOverArray[buffersArrayIterator] != undefined)
                _mp3WorkerEncodeSampleInternal(leftChannelBufferLeftOverArray[buffersArrayIterator].left, leftChannelBufferLeftOverArray[buffersArrayIterator].right);
        }, 0);


    }

    function _mp3WorkerEncodeSampleInternal(bufferLeft, bufferRight){
        if (!bufferLeft)
            return;

        var eventData = {
            leftChannel: bufferLeft,
            sampleRate: recorderSampleRate,
            bufferSize: bufferSize
        };

        var buffers = [];
        buffers[0] = bufferLeft;
        buffers[1] = bufferRight;

        //console.log("sending data to worker");

        _mp3WorkerSendMessage({cmd:"encodeSample", buffers: buffers});

    }

    /*//    function _isFlashSupported(){
     //        var hasFlash = false;
     //        try {
     //            hasFlash = Boolean(new ActiveXObject('ShockwaveFlash.ShockwaveFlash'));
     //        } catch(e) {
     //            hasFlash = (navigator.mimeTypes && 'undefined' != typeof navigator.mimeTypes['application/x-shockwave-flash'] && navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin);
     //        }
     //
     //	return hasFlash && ( navigator && navigator.userAgent && navigator.userAgent.toLowerCase().indexOf("firefox") == -1  )?true:false;
     //    }
     */
    return{
        init:init,
        record: record,
        pauseRecording: pauseRecording,
        stopRecording: stopRecording,
        play: play,
        pausePlaying: pausePlaying,
        stopPlaying: stopPlaying,
        resetRecording: resetRecording,
        encode: encode,
        isEnabled: isEnabled,
        recorderState: state,
        disconnect: disconnect,
        postComment: postComment,
        isRecordingSupported : isRecordingSupported
    }

}();
;
    var flashRecorder = flashRecorder = function(){
    var settings;
    var $;
    var recorder;
    var recorderStates;
    var eventTypes;
    var isEnabled = false;
    var stateChangedCallback;
    var eventCallback;
    var recorderLoadFailedTimeout;
    var state;
    var wasRecorded;
    var wasPlayedExternalFile;
    var wasPlayedRecording;
    var recorderVerifyPermissionGrantedTimeout;
    var externalFileId;
    var recorderPermissionDialogDisplayed;
    var errorService;
    var retryNumber;
    var isLastRetryIsSwfObject;




    function init(jQuery, options, recorderStatesEnum, eventTypesEnum, errorServiceObj){
        if (jQuery == undefined || jQuery == "")
            return;

        $ = jQuery;

        recorderStates = recorderStatesEnum;
        eventTypes = eventTypesEnum;

        errorService = errorServiceObj;

        state = recorderStates.NOT_DEFINED;

        if (params.isMobile || navigator.userAgent.toLowerCase().indexOf("firefox") != -1)
            return;

        recorderLoadFailedTimeout = null;

        if(typeof options == 'undefined') options = {};

        settings = $.extend({
            width  : '215',
            height  : '137',
            elementHTML: "recorderFLObj",
            recorderPath: "recorder/v2.0/recorder.swf",
            onLoaded: null,
            onError: null,
            onStateChange: null,
            onEventReport: null,
            commentUrl: null,
            _recorderVerifyPermissionGrantedInterval: 60000,
            commentBaseUrl: 'https://s3.amazonaws.com/heyoya_comments/',
            postCommentFullPath: 'https://receiver.heyoya.com/addComment.action',
            recorderBaseUrl: '//receiver.heyoya.com/receiver/',
            recorderVersion: '2.0'
        }, options);

	$("#" + settings.elementHTML).parent().addClass("loaded");

        if ($("body").hasClass("scaled")){
            settings.width = "286";
            settings.height = "184";
        }


        if (options.onStateChange && typeof options.onStateChange == "function")
            stateChangedCallback = options.onStateChange;
        else
            stateChangedCallback = null;

        if (options.onEventReport && typeof options.onEventReport == "function")
            eventCallback = options.onEventReport;
        else
            eventCallback = null;

        window.heyoyaRecorderStateChangeRef = _onRecorderStateChange;
        window.heyoyaRecorderEventChangeRef = _onRecorderEventChange;

        wasRecorded = false;
        wasPlayedExternalFile = false;
        wasPlayedRecording = false;
        externalFileId = null;
        recorderPermissionDialogDisplayed = false;

        recorderVerifyPermissionGrantedTimeout = null;

        retryNumber = 0;
        isLastRetryIsSwfObject = false;

        var hasFlash = false;
        try {
            hasFlash = Boolean(new ActiveXObject('ShockwaveFlash.ShockwaveFlash'));
        } catch(e) {
            hasFlash = (navigator.mimeTypes && 'undefined' != typeof navigator.mimeTypes['application/x-shockwave-flash'] && navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin);
        }

        if (!hasFlash || ( navigator && navigator.userAgent && navigator.userAgent.toLowerCase().indexOf("firefox") != -1  )){
            state = recorderStates.NOT_DEFINED;
            return;
        }

        _loadRecorder();
    }

    function record(){
        if (!_isServiceEnabled() || state == recorderStates.RECORDING)
            return false;

        if (!recorderPermissionDialogDisplayed)
            $("#" + settings.elementHTML).parent().addClass("visible");

        recorderPermissionDialogDisplayed = true;

        if (state == recorderStates.PLAYING)
            stop();

        if (!wasRecorded){
            if (settings._recorderVerifyPermissionGrantedInterval > 0)
                recorderVerifyPermissionGrantedTimeout = setTimeout(function(){_recorderVerifyPermissionGranted();_changeRecorderState(recorderStates.READY);_onRecorderEventChange(eventTypes.RECORDING_PERMISSION_TIMED_OUT);},settings._recorderVerifyPermissionGrantedInterval);

            recorder.recorder_record();
        } else
            recorder.recorder_resumeRecording();

        return true;
    }

    function pauseRecording(){
        if (!_isServiceEnabled() || state != recorderStates.RECORDING)
            return;

        recorder.recorder_pauseRecording();
    }

    function stopRecording(){
        if (!_isServiceEnabled() || state != recorderStates.RECORDING)
            return;

        recorder.recorder_stop();
    }

    function resetRecording(){
        if (!_isServiceEnabled() || !wasRecorded)
            return false;

        wasRecorded = false;
        recorder.recorder_reset();
    }


    function play(){
        if (!_isServiceEnabled())
            return false;

        if (!wasPlayedRecording)
            recorder.recorder_play();
        else
            recorder.recorder_resumePlaying();
    }

    function pausePlaying(){
        if (!_isServiceEnabled() || state != recorderStates.PLAYING)
            return false;

        recorder.recorder_pausePlaying();

    }

    function stopPlaying(){
        if (!_isServiceEnabled() || state != recorderStates.PLAYING)
            return false;

        wasPlayedRecording = false;
        recorder.recorder_stopPlaying();
    }

    function playExternalFile(commentId){
        if (commentId == undefined || commentId == null || commentId == "" || isNaN(commentId) || !_isServiceEnabled())
            return false;

        if (commentId == externalFileId){
            resumeExternalFile();
            return;
        }

        externalFileId = commentId;

        if (state == recorderStates.RECORDING)
            stopRecording();

        else if (state == recorderStates.PLAYING)
            stopPlaying();

        recorder.recorder_playExternalFile(commentId.toString());
    }

    function pauseExternalFile(){
        if (!_isServiceEnabled() || state != recorderStates.PLAYING_EXTERNAL_FILE)
            return false;

        recorder.recorder_pauseExternalFile();

    }

    function resumeExternalFile(){
        if (!_isServiceEnabled() || !wasPlayedExternalFile)
            return false;

        if (state == recorderStates.RECORDING)
            stopRecording();

        else if (state == recorderStates.PLAYING)
            stopPlaying();

        recorder.recorder_resumeExternalFile();
    }

    function stopExternalFile(force){
        if ( (!_isServiceEnabled() || state != recorderStates.PLAYING_EXTERNAL_FILE) && !force)
            return false;

        recorder.recorder_stopExternalFile();
    }

    function postComment(paramsUrl){
        if (paramsUrl == undefined || paramsUrl == '')
            return;

        recorder.recorder_save(paramsUrl);
    }

    function isEnabled(){
        return state != recorderStates.NOT_DEFINED;
    }

    function encode(wavData){
        if (!wavData)
            wavData = null;

        recorder.recorder_encodeMp3(wavData);
    }

    function _loadRecorder(){
        var isRetry = false;
        if (recorderLoadFailedTimeout != null){
            clearTimeout(recorderLoadFailedTimeout);
            recorderLoadFailedTimeout = null;
            isRetry = true;
        }

        if (typeof swfobject == "undefined"){
            isLastRetryIsSwfObject = true;
            var timeoutPeriod = 500;

            if (retryNumber < 10){

                if (retryNumber == 3){
                    var swfJs = document.createElement('script');
                    swfJs.type = 'text/javascript';
                    swfJs.async = true;
                    swfJs.src = "//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js?v=1";
                    var script = document.getElementsByTagName('script')[0];
                    script.parentNode.insertBefore(swfJs, script);
                    timeoutPeriod = 1000;
                }

                retryNumber++;
                //errorService.reportError("Tracker","flashRecorderSwfObjectMissing", "will retry in " + timeoutPeriod + " milliseconds");
            } else
                timeoutPeriod = 1000;



            recorderLoadFailedTimeout = setTimeout(_loadRecorder, timeoutPeriod);
            return;
        }

        if (isLastRetryIsSwfObject){
            isLastRetryIsSwfObject = false;
            isRetry = false;
            retryNumber = 0;
        }


        var flashvars = {
            eventsFunction: "heyoyaRecorderEventChangeRef",
            statesFunction: "heyoyaRecorderStateChangeRef",
            commentBaseUrl: settings.commentBaseUrl != null? settings.commentBaseUrl: null,
            postCommentUrl: settings.postCommentFullPath
        }

        var attributes = {};
        attributes.id = settings.elementHTML;
        attributes.name = settings.elementHTML;

        if (window.location.protocol == "https:")
            settings.recorderBaseUrl = settings.recorderBaseUrl.replace("http://", "https://");


        var parentContainer = $("#" + settings.elementHTML).parent();
        if (isEnabled)
            return;

        $("#" + settings.elementHTML).remove();
        parentContainer.append("<div id=\"" + settings.elementHTML + "\" name=\"" + settings.elementHTML + "\"></div>");

        swfobject.embedSWF(settings.recorderBaseUrl + settings.recorderPath + "?v=" + settings.recorderVersion + (isRetry?"&r=" + retryNumber:""), settings.elementHTML, settings.width, settings.height, "10.1.0", false, flashvars, {allowscriptaccess: "always", bgcolor:"000000"}, attributes, function(e){
            if(e.success && typeof e.ref !="undefined" ){ //&& typeof e.ref.recorder_save != "undefined"
                recorder = e.ref;
                recorderLoadFailedTimeout = setTimeout(function(){
                    if (retryNumber > 10)
                        return;

                    retryNumber++;

                    _loadRecorder();
                }, 4000);
            }else{
                _loadRecorderFailed();
            }
        });
    }

    function _loadRecorderFailed(){
        var timeoutPeriod = 1000;
        isEnabled = false;
        recorder = null;

        state = recorderStates.NOT_DEFINED;
        if (retryNumber < 10){
            retryNumber++;
        } else if (retryNumber < 15){
            timeoutPeriod = 1500;
            retryNumber++;
        } else {
            return;
        }

        recorderLoadFailedTimeout = setTimeout(_loadRecorder, timeoutPeriod);
    }

    function _recorderVerifyPermissionGranted(isRecording){
        if (recorderVerifyPermissionGrantedTimeout == null)
            return;

        if (!isRecording)
            _onRecorderStateChange(eventTypes.READY);

        clearTimeout(recorderVerifyPermissionGrantedTimeout);
        recorderVerifyPermissionGrantedTimeout =  null;
    }

    function _isServiceEnabled(){
        if (isEnabled)
            return true;
        else{
            _changeRecorderState(recorderStates.NOT_DEFINED);
            _reportEventType(eventTypes.SERVICE_NOT_DEFINED);
            return false;
        }
    }

    function _changeRecorderState(newState, bubbleEvent){
        state = newState;

        if (bubbleEvent != undefined && !bubbleEvent)
            return;

        if (stateChangedCallback != null)
            stateChangedCallback(state);
    }

    function _reportEventType(event, value){
        if (eventCallback != null)
            eventCallback(event, value);
    }

    function _onRecorderEventChange(eventId, eventData){
        if (!isValueExistsInJsonObj(eventId, eventTypes))
            return;

        if (eventId == eventTypes.STOPPED_PLAYING_EXTERNAL_FILE){
            wasPlayedExternalFile = false;
            externalFileId = null;
        }

        if (eventId == eventTypes.STOPPED_PLAYING)
            wasPlayedRecording = false;

        if (eventId == eventTypes.RECORDING_TIME)
            _recorderVerifyPermissionGranted(true);

        _reportEventType(eventId, eventData);
    }

    function _onRecorderStateChange(newState){
        if (!isValueExistsInJsonObj(newState, recorderStates))
            return;

        if (newState == recorderStates.READY){
            isEnabled = true;

            if (recorderLoadFailedTimeout != null){
                clearTimeout(recorderLoadFailedTimeout);
                recorderLoadFailedTimeout = null;
            }

            if (navigator.userAgent.toLowerCase().indexOf("firefox") != -1)
                recorder.recorder_setGain(80);
            else if (navigator.userAgent.toLowerCase().indexOf("msie 9") == -1 && (navigator.userAgent.toLowerCase().indexOf("msie") != -1 || navigator.userAgent.toLowerCase().indexOf("trident") != -1))
                recorder.recorder_setGain(80);
            else if (navigator.userAgent.toLowerCase().indexOf("edge") != -1)
                recorder.recorder_setGain(70);
            else //chrome
                recorder.recorder_setGain(100);
        }


        if (state == recorderStates.RECORDING){
            wasRecorded = true;
            wasPlayedRecording = false;
            _recorderVerifyPermissionGranted(true);
        }

        if (state == recorderStates.PLAYING_EXTERNAL_FILE)
            wasPlayedExternalFile = true;

        if (state == recorderStates.PLAYING)
            wasPlayedRecording = true;


        _changeRecorderState(newState);
    }

    function isValueExistsInJsonObj(value, jsonObj){
        var found = false;
        for (key in jsonObj) {
            if (value == jsonObj[key]) {
                found = true;
                break;
            }
        }

        return found;

    }

    return {
        init: init,
        record: record,
        pauseRecording: pauseRecording,
        stopRecording: stopRecording,
        resetRecording: resetRecording,
        play: play,
        pausePlaying: pausePlaying,
        stopPlaying: stopPlaying,

        playExternalFile: playExternalFile,
        pauseExternalFile: pauseExternalFile,
        resumeExternalFile: resumeExternalFile,
        stopExternalFile: stopExternalFile,

        postComment: postComment,
        isEnabled: isEnabled,
        recorderState: state,

        encode: encode
    };

}();
;
    var recorderService = recorderService = function(){
    var $;
    var flashSettings;
    var recorderTypes = {flash: 'flash', js: 'js'};
    var recorders;
    var mainRecorderType;
    var recorderStates = {NOT_DEFINED: -1, READY: 0, RECORDING: 1, PLAYING:2, ENCODING: 3, PLAYING_EXTERNAL_FILE: 4,  PENDING_EXTERNAL_FILE: 5};
    var eventTypes = {SERVICE_NOT_DEFINED: -1, STOPPED_RECORDING: 1, PAUSED_RECORDING: 2, PAUSED_PLAYING: 3, PLAYING_TIME: 4, RECORDING_TIME: 5, SENDING_TO_SERVER: 6, COMMENT_SAVED: 7, PLAYING_FROM_FILE_COMPLETE:8, SEND_STATISTICS: 9, STOPPED_PLAYING: 10, RECORDING_RESET: 11, ENCODING_MP3_COMPLETED: 12, ENCODING_WAV_COMPLETED: 13, PLAYING_EXTERNAL_FILE_TIME: 14, PAUSED_PLAYING_EXTERNAL_FILE: 15, STOPPED_PLAYING_EXTERNAL_FILE: 16, ENCODING_MP3_PROGRESS: 17, COMMENT_SAVING: 18, ENCODING_ERROR: 500, ERROR_ENCODING_MP3: 501, ERROR_BINDING_INPUT_FUNCTIONS: 504, ERROR_RECORDING_FAILED_NO_RECORDING: 505, ERROR_SENDING_TO_SERVER_FAILED: 506, ERROR_ALREADY_SAVING: 507, RECORDING_PERMISSION_TIMED_OUT: 508, RECORDING_PERMISSION_DENIED: 509}
    var pendingParamsUrl;
    var wasRecordingStarted;
    var wasEncoded;
    var isEncoding;
    var shouldPost;
    var stateChangedCallback;
    var eventCallback;
    var errorService;
    var externalFileLastPlayMethod;
    var serviceState;
    var html5AudioObject;
    var lastPlayedCommentId;
    var externalFilePlayingInterval;
    var externalFilePlayingStartTime;
    var externalFileJustPaused;
    var commentBaseUrl;


    function init(jQuery, stateChangedCallbackFunction, eventCallbackFunction, flashRecorderObj, jsRecorderObj, flashOptions, errorServiceObj, mp3WorkerVersion){
        if (jQuery == undefined || jQuery == "" || flashRecorderObj == undefined || flashRecorderObj == "" || jsRecorderObj == undefined || jsRecorderObj == "" || errorServiceObj == undefined || errorServiceObj == "")
            return;
        $ = jQuery;

        flashSettings = $.extend({
            onEventReport: flashRecorderEventsCallback,
            onStateChange: flashRecorderStateChangedCallback

        }, flashOptions);

        var jsSettings = $.extend({
            onEventReport: jsRecorderEventsCallback,
            onStateChange: jsRecorderStateChangedCallback
        }, flashOptions);



        if (stateChangedCallbackFunction && typeof stateChangedCallbackFunction == "function")
            stateChangedCallback = stateChangedCallbackFunction;
        else
            stateChangedCallback = null;

        if (eventCallbackFunction && typeof eventCallbackFunction == "function")
            eventCallback = eventCallbackFunction;
        else
            eventCallback = null;

        errorService = errorServiceObj;

        _populateRecordersArray();
        recorders[recorderTypes.flash].recorder = flashRecorderObj;
        recorders[recorderTypes.js].recorder = jsRecorderObj;

        externalFileLastPlayMethod = null;        
 
        if(recorders[recorderTypes.js].recorder.isRecordingSupported()){
            var isSafariDesktop = navigator.userAgent.toLowerCase().indexOf("macintosh") != -1 && navigator.userAgent.toLowerCase().indexOf("chrome") == -1 && navigator.userAgent.toLowerCase().indexOf("safari/") != -1;
            var isIOS = (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream);
	    if( (!isSafariDesktop && navigator.userAgent.toLowerCase().indexOf("chrome") == -1) || navigator.userAgent.toLowerCase().indexOf("edge") != -1 || window.location.href.indexOf("?secure=1") != -1 || window.location.href.indexOf("&secure=1") != -1){
  				recorders[recorderTypes.js].recorder.init(jQuery, jsSettings, recorderStates, eventTypes, errorService, true, mp3WorkerVersion, isSafariDesktop, isIOS);
  				mainRecorderType = recorderTypes.js;
  			}
        } else if(_isFlashSupported()){  	
  			recorders[recorderTypes.flash].recorder.init(jQuery, flashSettings, recorderStates, eventTypes, errorService);
  			mainRecorderType = recorderTypes.flash;
        }
      
//      	if ( navigator.userAgent.indexOf("Edge") == -1 && navigator.userAgent.toLowerCase().indexOf("chrome") == -1 )
//       		recorders[recorderTypes.js].recorder.init(jQuery, jsSettings, recorderStates, eventTypes, errorService, true);

        pendingParamsUrl = null;
        wasRecordingStarted = false;
        shouldPost = false;
        wasEncoded = false;
        isEncoding = false;

        serviceState = recorderStates.READY;
        
        commentBaseUrl = 'https://s3.amazonaws.com/heyoya_comments/';
    }
       
    function flashRecorderEventsCallback(event,  value){
        _eventsCallback(recorderTypes.flash, event, value);
    }

    function flashRecorderStateChangedCallback(newState){
        recorders[recorderTypes.flash].state = newState;
        _stateChangedCallback(recorderTypes.flash, newState);
    }


    function jsRecorderEventsCallback(event,  value){
        _eventsCallback(recorderTypes.js, event, value);
    }

    function jsRecorderStateChangedCallback(newState){
        recorders[recorderTypes.js].state = newState;

        if (newState == recorderStates.READY && mainRecorderType == recorderTypes.flash)
            mainRecorderType = recorderTypes.js;

        _stateChangedCallback(recorderTypes.js, newState);
    }

    function record(){
        if (!_isMainRecorderReady() || _isMainRecorderStateMatchWithState(recorderStates.RECORDING))
            return false;

        _getMainRecorder().record();
    }

    function stop(){    	
        if (!_isMainRecorderReady() || (!_isMainRecorderStateMatchWithState(recorderStates.RECORDING) && !_isMainRecorderStateMatchWithState(recorderStates.PLAYING) && !_isMainRecorderStateMatchWithState(recorderStates.PLAYING_EXTERNAL_FILE) ))
            return;


        switch (_getMainRecorderState()){
            case recorderStates.RECORDING:
                _getMainRecorder().stopRecording();
                break;

            case recorderStates.PLAYING:
                _getMainRecorder().stopPlaying();
                break;

            case recorderStates.PLAYING_EXTERNAL_FILE:
                recorders[recorderTypes.flash].recorder.stopExternalFile();
                break;

        }

    }

    function playRecording(){
        if (!_isMainRecorderReady())
            return false;

        _getMainRecorder().play();
    }

    function pausePlaying(){
        if (!_isMainRecorderReady() || !_isMainRecorderStateMatchWithState(recorderStates.PLAYING))
            return false;

        _getMainRecorder().pausePlaying();
    }

    function pauseRecording(){
        if (!_isMainRecorderReady() || !_isMainRecorderStateMatchWithState(recorderStates.RECORDING))
            return false;

        _getMainRecorder().pauseRecording();
    }

    function resumeRecording(){
        if (!_isMainRecorderReady() || !_isMainRecorderStateMatchWithState(recorderStates.READY))
            return false;

        _getMainRecorder().record();
    }

    function resetRecording(){
        if (!_isMainRecorderReady())
            return;

        wasRecordingStarted = false;
        if(_getMainRecorder() != null)
        	_getMainRecorder().resetRecording();
    }

    function encode(){
        if (!_isMainRecorderReady() || !_isMainRecorderStateMatchWithState(recorderStates.READY) || !wasRecordingStarted)
            return false;

        isEncoding = true;

        _getMainRecorder().encode();
    }
    
    function postComment(params){
        if (!params || params == null || params == "")
            return false;

        if (params.typeId == 2){
            _postTextComment(params);
            return;
        }

        if (!hasActiveRecorder()){
            eventCallback(eventTypes.ERROR_SENDING_TO_SERVER_FAILED, "-1");
            return;
        }                    
        
        if (isEncoding){
            pendingParamsUrl = params;
            shouldPost = true;
            return;
        }

        shouldPost = false;

//        console.log("recorder in post comment");
        if (mainRecorderType == recorderTypes.js)// && !_isFlashSupported())
            recorders[recorderTypes.js].recorder.postComment(params);
        else {
            var paramsUrl = Object.keys(params).map(function(key){
                return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);
            }).join('&');
            recorders[recorderTypes.flash].recorder.postComment(paramsUrl);
        }

//        var flashRecorderEntry = recorders[recorderTypes.flash];
//        if (flashRecorderEntry.state == recorderStates.NOT_DEFINED)
//            return false;
//
//
//        var paramsUrl = Object.keys(params).map(function(key){
//            return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);
//        }).join('&');
//
//
//        if (wasEncoded || isEncoding || !wasRecordingStarted){
//            flashRecorderEntry.recorder.postComment(paramsUrl);
//            return;
//        }
//
//        pendingParamsUrl = paramsUrl;
//        shouldPost = true;
//        _getMainRecorder().encode();
    }

    function _postTextComment(params){
        if (!params || params == null || params == "")
            return false;

        eventCallback(eventTypes.COMMENT_SAVING, "1");
        window.addCommentCallback = _postTextCommentCallback;

        eventCallback(eventTypes.SENDING_TO_SERVER, "1");

        $.ajax({
            url: flashSettings.postCommentJSONPFullPath,
            cache: false,
            method: "POST",
            data: params
        }).always(function( data ) {
                _postTextCommentCallback(data);
        });

//        $.getJSON(flashSettings.postCommentJSONPFullPath + "?jsoncallback=?", params);


    }

    function _postTextCommentCallback(result){
        if (!result || result == null || result == "-1"){
            eventCallback(eventTypes.ERROR_SENDING_TO_SERVER_FAILED, "-1");
            return;
        }

        eventCallback(eventTypes.COMMENT_SAVED, result);
    }

    function getRecorderState(){
        if (serviceState != recorderStates.READY)
            return serviceState;

        if (mainRecorderType == recorderTypes.flash || recorders[recorderTypes.flash].state > recorderStates.PLAYING)
            return recorders[recorderTypes.flash].state;
        else
            return recorders[recorderTypes.js].state;

//        return recorders[recorderTypes.flash].state || recorders[recorderTypes.js].state;
    }

    function setRecorderState(newState){
        serviceState = newState;
    }

    function getWasRecordingStarted(){
        return wasRecordingStarted;
    }

    function hasActiveRecorder(){
        //return false;
        return recorders[recorderTypes.flash].state != recorderStates.NOT_DEFINED || recorders[recorderTypes.js].state != recorderStates.NOT_DEFINED;
    }

    function isFlashRecorderActive(){
        return mainRecorderType == recorderTypes.flash;
    }

    function isFlashRecorderAvailable(){
        return recorders[recorderTypes.flash].state != recorderStates.NOT_DEFINED;
    }


    function _getMainRecorder(){   
    	if(recorders[mainRecorderType])
    		return recorders[mainRecorderType].recorder;
    	else
    		return null;
    }

    function _isMainRecorderStateMatchWithState(state){
        return _getMainRecorderState() == state;
    }

    function _getMainRecorderState(){
    	if(recorders[mainRecorderType])
    		return recorders[mainRecorderType].state;
    	else
    		return recorderStates.NOT_DEFINED;
    }

    function _isMainRecorderReady(){
    	if(recorders[mainRecorderType])
    		return recorders[mainRecorderType].state != recorderStates.NOT_DEFINED;
    	else
    		return recorderStates.NOT_DEFINED;
    }

    function _eventsCallback(recorderType, event,  value){
        if (event == eventTypes.ENCODING_WAV_COMPLETED){
            if (mainRecorderType != recorderType)
                return;

            var flashRecorder = _getRecorderByType(recorderTypes.flash);
            if (flashRecorder == null)
                return;

            flashRecorder.encode(value);

        }

        if (event == eventTypes.ENCODING_MP3_COMPLETED){
            isEncoding = false;
            wasEncoded = true;
            if (shouldPost){
                shouldPost = false;
                postComment(pendingParamsUrl);
                pendingParamsUrl = null;
            }
        }

//        console.log("_eventsCallback -> recorder log: recorder type - " + recorderType + ", event is - " + event);
//        console.log("_eventsCallback -> recorder log: recorder type - " + recorderType + ", event is - " + event + ", data is - " + value);

        eventCallback(event, value);


    }

    function _stateChangedCallback(recorderType, newState){
        if (newState == recorderStates.RECORDING)
            wasRecordingStarted = true;

//        console.log("_stateChangedCallback -> recorder log: recorder type - " + recorderType + ", new state is - " + newState);

        stateChangedCallback(newState);
    }

    function _populateRecordersArray(){
        recorders = {};

        var recorderObject;
        for (var key in recorderTypes) {
            recorderObject = {};
            recorderObject.id = key;
            recorderObject.state = recorderStates.NOT_DEFINED;

            recorders[key] = recorderObject;
        }
    }

    function _getRecorderByType(recorderType){
        if  (!recorderType || !recorders || !recorders[recorderType] || !recorders[recorderType].recorder)
            return null;

        return recorders[recorderType].recorder;
    }




    function playExternalFile(commentId){
    /*    var flashRecorderEntry = recorders[recorderTypes.flash];
        if (flashRecorderEntry.state != recorderStates.NOT_DEFINED){
            externalFileLastPlayMethod = recorderTypes.flash;
            flashRecorderEntry.recorder.playExternalFile(commentId);
            return;
        }

        if (flashRecorderEntry.state == recorderStates.NOT_DEFINED && window.navigator && window.navigator.userAgent && window.navigator.userAgent.toLowerCase().indexOf("msie 8") != -1)
            return false;
*/
//        var jsRecorderEntry = recorders[recorderTypes.js];
        externalFileLastPlayMethod = recorderTypes.js;
//        jsRecorderEntry.recorder.playExternalFile(commentId);
        _playExternalFile(commentId);
    }

    function pauseExternalFile(){
        if (externalFileLastPlayMethod == null)
            return;

        if (externalFileLastPlayMethod != recorderTypes.js){
            var recorderEntry = recorders[externalFileLastPlayMethod];
            if (recorderEntry.state != recorderStates.PLAYING_EXTERNAL_FILE)
                return false;

            recorderEntry.recorder.pauseExternalFile();
        } else {
            if (serviceState != recorderStates.PLAYING_EXTERNAL_FILE)
                return false;

            _pauseExternalFile();
        }
    }

    function resumeExternalFile(){
        if (externalFileLastPlayMethod == null)
            return;

        if (externalFileLastPlayMethod != recorderTypes.js){
            var recorderEntry = recorders[externalFileLastPlayMethod];
            if (recorderEntry.state == recorderStates.NOT_DEFINED)
                return false;

            recorderEntry.recorder.resumeExternalFile();
        } else {
            _pauseExternalFile();
        }

    }

    function stopExternalFile(force){
        if (externalFileLastPlayMethod == null)
            return;

        if (externalFileLastPlayMethod != recorderTypes.js){
            var recorderEntry = recorders[externalFileLastPlayMethod];
            if (recorderEntry.state == recorderStates.NOT_DEFINED)
                return false;

            if (recorderEntry.state != recorderStates.PLAYING_EXTERNAL_FILE && !force)
                return;

            recorderEntry.recorder.stopExternalFile(force);
        } else {
            if (serviceState != recorderStates.PLAYING_EXTERNAL_FILE && !force)
                return;

            _stopExternalFile();
        }
    }






    function _playExternalFile(commentId){
        if (serviceState == recorderStates.PLAYING_EXTERNAL_FILE)
            _stopExternalFile(true);

        if (serviceState == recorderStates.PENDING_EXTERNAL_FILE)
            html5AudioObject.pause();

        if (html5AudioObject == null){
            html5AudioObject = new Audio();

            window.externalFilePlayingStartedCallback = _externalFilePlayingStartedCallback;
            window.externalFilePlayingEndedCallback = _externalFilePlayingEndedCallback;
            window.externalFilePlayingErrorCallback = function(e){
                //console.log("in error");
                html5AudioObject.src = commentBaseUrl + commentId + ".mp3?r" + Math.random();
                html5AudioObject.load();
                html5AudioObject.play();
            };


            _internalAttachEvent(html5AudioObject, "playing", window.externalFilePlayingStartedCallback);
            _internalAttachEvent(html5AudioObject, "ended", window.externalFilePlayingEndedCallback);
            _internalAttachEvent(html5AudioObject, "error", window.externalFilePlayingErrorCallback);
        }

        if (lastPlayedCommentId == null || lastPlayedCommentId != commentId){
            lastPlayedCommentId = commentId;
            html5AudioObject.src = commentBaseUrl + commentId + ".mp3";

            html5AudioObject.load();
        } else if (!externalFileJustPaused)
            html5AudioObject.currentTime = 0;


        serviceState = recorderStates.PENDING_EXTERNAL_FILE;
        stateChangedCallback(serviceState);

        html5AudioObject.play();
    }

    function _pauseExternalFile(){
        if ((serviceState != recorderStates.PLAYING_EXTERNAL_FILE && serviceState != recorderStates.PENDING_EXTERNAL_FILE) || html5AudioObject == null)
            return;

        html5AudioObject.pause();
        externalFileJustPaused = true;
        if (externalFilePlayingInterval != null){
            clearInterval(externalFilePlayingInterval);
            externalFilePlayingInterval = null;
        }

        serviceState = recorderStates.READY;
        stateChangedCallback(serviceState);
        eventCallback(eventTypes.PAUSED_PLAYING_EXTERNAL_FILE, "1");
    }

    function _resumeExternalFile(){
        if (html5AudioObject == null && lastPlayedCommentId != null){
            _playExternalFile(lastPlayedCommentId);
            return;
        } else if (html5AudioObject == null)
            return;

        if (serviceState != recorderStates.PLAYING_EXTERNAL_FILE && serviceState != recorderStates.PENDING_EXTERNAL_FILE)
            return;

        html5AudioObject.play();
        serviceState = recorderStates.PLAYING_EXTERNAL_FILE;
        stateChangedCallback(serviceState);
    }

    function _stopExternalFile(force){
        if ((serviceState != recorderStates.PLAYING_EXTERNAL_FILE && serviceState != recorderStates.PENDING_EXTERNAL_FILE) || html5AudioObject == null)
            return;

        html5AudioObject.pause();
        externalFileJustPaused = false;

        if (externalFilePlayingInterval != null){
            clearInterval(externalFilePlayingInterval);
            externalFilePlayingInterval = null;
        }

        serviceState = recorderStates.READY;
        stateChangedCallback(serviceState);
        eventCallback(eventTypes.STOPPED_PLAYING_EXTERNAL_FILE, "1");
    }

    function _externalFilePlayingStartedCallback(){
        serviceState = recorderStates.PLAYING_EXTERNAL_FILE;
        stateChangedCallback(serviceState);

//        if (!externalFileJustPaused)
        externalFilePlayingStartTime = html5AudioObject.currentTime * 1000;
        eventCallback(eventTypes.PLAYING_EXTERNAL_FILE_TIME, externalFilePlayingStartTime);

        if (externalFilePlayingInterval != null){
            clearInterval(externalFilePlayingInterval);
            externalFilePlayingInterval = null;
        }

        externalFilePlayingInterval = setInterval(function(){
            externalFilePlayingStartTime = html5AudioObject.currentTime * 1000;

            eventCallback(eventTypes.PLAYING_EXTERNAL_FILE_TIME, externalFilePlayingStartTime);
        }, 300);

        externalFileJustPaused = false;
    }

    function _externalFilePlayingEndedCallback(){
        _stopExternalFile(true);
    }

    function _internalAttachEvent(element, eventName, callbackFunction) {
        if (element.addEventListener)
            element.addEventListener(eventName, callbackFunction, false);
        else
            element.attachEvent("on" + eventName, function() {
                return(callbackFunction.call(element, window.event));
            });
    }

    function _isFlashSupported(){
        var hasFlash = false;
        try {
            hasFlash = Boolean(new ActiveXObject('ShockwaveFlash.ShockwaveFlash'));
        } catch(e) {
            hasFlash = (navigator.mimeTypes && 'undefined' != typeof navigator.mimeTypes['application/x-shockwave-flash'] && navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin);
        }

        var loweredUserAgent = navigator.userAgent.toLowerCase();
        return hasFlash && ( (loweredUserAgent.indexOf("safari") != -1 && loweredUserAgent.indexOf("chrome") == -1 && loweredUserAgent.indexOf("chromium") == -1) || loweredUserAgent.indexOf("msie") != -1 || loweredUserAgent.indexOf("trident") != -1 || loweredUserAgent.indexOf("edge/") != -1 );
    }
    
    function getMainRecorderType(){
    	return mainRecorderType;
    }

    function isJsRecordingSupported(){
        return recorders[recorderTypes.js] && recorders[recorderTypes.js].recorder && recorders[recorderTypes.js].recorder.isRecordingSupported();
    }

    return {
        init: init,
        record: record,
        stop:stop,
        playRecording: playRecording,
        pausePlaying: pausePlaying,
        pauseRecording: pauseRecording,
        resumeRecording: resumeRecording,
        resetRecording: resetRecording,
        playExternalFile: playExternalFile,
        pauseExternalFile: pauseExternalFile,
        resumeExternalFile: resumeExternalFile,
        stopExternalFile: stopExternalFile,
        postComment: postComment,
        eventTypes: eventTypes,
        recorderStates: recorderStates,
        getRecorderState: getRecorderState,
        setRecorderState: setRecorderState,
        wasRecordingStarted: getWasRecordingStarted,
        isFlashRecorderActive: isFlashRecorderActive,
        isFlashRecorderAvailable: isFlashRecorderAvailable,
        encode: encode,
        hasActiveRecorder: hasActiveRecorder,
        isFlashSupported:_isFlashSupported,
        recorderTypes:recorderTypes,
        getMainRecorderType:getMainRecorderType,
        isJsRecordingSupported: isJsRecordingSupported
    };

}();


//    init: init,
//    record: record,
//    stop:stop,
//    playRecording: playRecording,
//    pausePlaying: pausePlaying,
//    pauseRecording: pauseRecording,
//    resumeRecording: resumeRecording,
//    playOgg: playOgg,
//    postComment: postComment,
//    eventTypes: eventTypes,
//    recorderStates: recorderStates,
//    getRecorderState: getRecorderState,
//    wasRecordingStarted: getWasRecordingStarted
;
    var notifications = notifications = (function(){
    var notificationModes = {ERROR:-1, PLAIN:1};
    var $;
    var htmlString;
    var notificationsArray;
    var notificationSerial;

    function init(jQueryObj, notificationHtmlTemplate){
        notificationsArray = {};
        $ = jQueryObj;
        htmlString = notificationHtmlTemplate;
        notificationSerial = 0;
    }

    function setNotificationView(notificationMode, message, containingObject, timeout){
        if (message == undefined || message == "")
            return;

        containingObject = $(containingObject);
        if (containingObject.length == 0)
            return;

        var notificationHtml = htmlString;

        notificationHtml = notificationHtml.replace("#NOTIFICATIONS_TEXT#", message);

        if (notificationMode == notificationModes.ERROR)
            notificationHtml = notificationHtml.replace("#NOTIFICATIONS_RED_CLASS#", "red");
        else
            notificationHtml = notificationHtml.replace("#NOTIFICATIONS_RED_CLASS#", "");


        if (message.length < 48)
            notificationHtml = notificationHtml.replace("#NOTIFICATIONS_SMALL_CLASS#", "half");
        else
            notificationHtml = notificationHtml.replace("#NOTIFICATIONS_SMALL_CLASS#", "");

        var notificationId = "nid_" + (++notificationSerial);
        containingObject.attr("notif_id", notificationId);
        notificationsArray[notificationId] = {};
        notificationsArray[notificationId].objId = containingObject;

        if (timeout != undefined && timeout != ""){
            $(notificationHtml).hide().appendTo(containingObject).fadeIn("slow", function(){
                notificationsArray[notificationId].timeout = setTimeout(function(){setNotificationViewHide(notificationId)},timeout);
            });
        }
        else
            $(notificationHtml).hide().appendTo(containingObject).fadeIn("slow");

    }

    function hideNotification(containingObject){
        if (containingObject == undefined || containingObject == null)
            return;

        containingObject = $(containingObject);
        if (containingObject.length == 0)
            return;
        if (!containingObject.attr("notif_id"))
            return;


        setNotificationViewHide(containingObject.attr("notif_id"));
    }

    function setNotificationViewHide(notificationId){
        if (!notificationId || !notificationsArray[notificationId])
            return;

        if (notificationsArray[notificationId].timeout != null){
            clearTimeout(notificationsArray[notificationId].timeout);
            notificationsArray[notificationId].timeout = null;
        }

        notificationsArray[notificationId].objId.find(".msg-bar").fadeOut("slow", function(){
            $(this).detach();
        });

        notificationsArray[notificationId] = null;
    }

    return{
        notificationModes: notificationModes,
        init: init,
        setNotificationView: setNotificationView,
        setNotificationViewHide: setNotificationViewHide,
        hideNotification: hideNotification
    };
}).call( {} );;
    var userNotifications = userNotifications = (function(){
    var $;
    var htmlString;
    var emptyNotificationTemplateStr;
    var notificationHeadTemplate;
    var customNotificationPhotoUrlPrefix = "https://heyoya-notifications.s3-us-west-2.amazonaws.com/";
    var userLogoutServiceCallbackFunction;
    function init(jQueryObj, notificationHtmlTemplate, notificationHeadHTMLTemplate, emptyNotificationTemplate, customNotificationPhotoUrlPref, userLogoutServiceCallbackFunctionObject){
        $ = jQueryObj;
        htmlString = notificationHtmlTemplate;
        notificationHeadTemplate = notificationHeadHTMLTemplate;
        emptyNotificationTemplateStr = emptyNotificationTemplate;
        customNotificationPhotoUrlPrefix = customNotificationPhotoUrlPref;
        userLogoutServiceCallbackFunction = userLogoutServiceCallbackFunctionObject;
    }

    function fetchNotifications(pageNo , callback){
        if(typeof(callback) != "function" || pageNo <= 0)
            return;

        var formData = new FormData();
        formData.append("userId",  statistics.getUserId() ? statistics.getUserId() : "-1");
        formData.append("pageNo",  pageNo);
        formData.append("affId",   statistics.getAffiliateId());

        $.ajax({
              type: 'POST',
              url: params.internalUrl + params.userNotificationUrl,
              data: formData,
              processData: false,
              contentType: false
        }).always(function( data ) {
            if(data){
                if (userLogoutServiceCallbackFunction && Object.prototype.toString.call( userLogoutServiceCallbackFunction ) === '[object Function]' && data.ulr) {
                    var shouldProceed = userLogoutServiceCallbackFunction(data.ulr);
                    if (!shouldProceed)
                        return;
                }

                var response = {};
                response.userNotificationsList = data.userNotificationsList;
                response.loadMore = data.loadMore;
                response.pageNo = data.pageNo;
                response.unreadNotificationsCount = data.unreadNotificationsCount;
                response.userCustomNotificationsList = data.userCustomNotificationsList;
                callback(response);
            }

        });
    }

    function markAllAsRead(callback){
        if(typeof(callback) != "function")
                 return;

        var formData = new FormData();
        formData.append("userId",  statistics.getUserId());
        formData.append("mar",  "-1");
        $.ajax({
              type: 'POST',
              url: params.internalUrl + params.readNotificationUrl,
              data: formData,
              processData: false,
              contentType: false,
              cache: false
        }).always(function( data ) {
            return callback(data);
        });
    }

    function markAsRead(elemId, callback){
        if(typeof(callback) != "function")
             return;

        var formData = new FormData();
        formData.append("userId",  statistics.getUserId());
        formData.append("mar",  elemId);

        $.ajax({
              type: 'POST',
              url: params.internalUrl + params.readNotificationUrl,
              data: formData,
              processData: false,
              contentType: false,
              cache: false
        }).always(function( data ) {
            return callback(data);
        });
    }

    function setNotificationView(containerObj, notificationData){
       if(containerObj == null || notificationData == null)
            return;

       var template, notifData, date;
       var data = notificationData;

       var userObj;
       try{
           userObj = $.parseJSON(statistics.getUserString());

       } catch(err) {
           userObj = null;
       }

       if(notificationData.pageNo == 1)
            resetView(containerObj);

       notificationHeadTemplate = notificationHeadTemplate.replace(/#NOTIFICATION_TEXT#/g, $("#notifications").text());
       notificationHeadTemplate = notificationHeadTemplate.replace(/#MARK_ALL_READ_TEXT#/g, $("#mark-all-read").text());

       if(containerObj.find(".notification-area-wrapper .header").length == 0)
             containerObj.find(".notification-body").before(notificationHeadTemplate);

       if(data.unreadNotificationsCount == 0 || data.unreadNotificationsCount == null ){
            containerObj.find(".notification-count").addClass("invisible");
            $(".bell-icon").removeClass("show").addClass("blur");
            $(".bell-icon, .notification-area-wrapper").addClass("shift");
            containerObj.find(".notification-area-wrapper .header .mark-read").addClass("invisible");
       }else{
            containerObj.find(".notification-count").removeClass("invisible");
            $(".bell-icon").addClass("show").removeClass("blur");
            $(".bell-icon, .notification-area-wrapper").removeClass("shift");
            containerObj.find(".notification-count").text(data.unreadNotificationsCount);
            containerObj.find(".notification-area-wrapper .header .mark-read").removeClass("invisible");
       }

       if(data.loadMore)
            containerObj.find(".notification-area-wrapper .footer").removeClass("invisible");
       else
            containerObj.find(".notification-area-wrapper .footer").addClass("invisible");

      $(".bell-icon").removeClass("invisible");

      if((data.userNotificationsList == null || data.userNotificationsList.length == 0) && (data.userCustomNotificationsList == null || data.userCustomNotificationsList.length == 0)){
            setEmptyNotificationsView(containerObj);
            return;
      }

       if(data.userCustomNotificationsList != null && data.userNotificationsList == null){
            setCustomNotificationsView(containerObj, data.userCustomNotificationsList);
            containerObj.find(".notification-count").text(containerObj.find(".notification-area-wrapper .row").length);
       }

       if(data.userNotificationsList == null)
            return;

       var notificationList =  data.userNotificationsList;

        if(notificationList.length == 1)
            containerObj.find(".notification-area-wrapper").addClass("one-entry");

       for(var i = 0 ; i < notificationList.length ; i++ ){
           if(notificationList[i].notificationType == "CustomNotification"){
               if(statistics.getUserString() && notificationList[i].loggedInUserNotificationText)
                   renderCustomNotification(containerObj, notificationList[i], userObj);
               else if(notificationList[i].anonymousUserNotificationText)
                   renderCustomNotification(containerObj, notificationList[i], userObj);
           }else{
                renderUserNotification(containerObj, notificationList[i], userObj);
           }
       }

       containerObj.find(".notification-body").attr("pageNo", data.pageNo);
       if(containerObj.find(".notification-area-wrapper .footer span").text() == "")
            containerObj.find(".notification-area-wrapper .footer span").text($("#load-more").text());
    }

    function renderUserNotification(containerObj, notification, userObj){
        if(containerObj == null || notification == null)
            return;

        template = htmlString;
	if (notification.commentPageUrl)
	    notification.commentPageUrl = notification.commentPageUrl.split("_hEySepBP_")[0];

        template = template.replace(/#READ_STATUS#/g , notification.viewedOn ? "read" : "unread");
        template = template.replace(/#PAGE_URL#/g , notification.commentPageUrl);
        template = template.replace(/#CID#/g , notification.commentId);
        template = template.replace(/#ID#/g, notification.id);
        notification.commentBodyText = notification.commentBodyText.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/&lt;br \/&gt;/g, "<br \/>");
        notification.commentBodyText = notification.commentBodyText.replace(/&nbsp;/g, " ");
        switch(notification.notificationType){
          case "Like" :
                  template = template.replace(/#AVATAR_URL#/g , notification.userPhotoUrl ? notification.userPhotoUrl : "images/avatar.jpg");
                  template =  template.replace(/#NOTIFICATION_TYPE_ICON#/g , "like");
                  if(notification.userFirstName){
                    notifData = $("span#likeNotification").text().replace(/#USERNAME#/g , notification.userFirstName).replace(/#MESSAGE#/g , emojione.shortnameToUnicode(notification.commentBodyText).substring(0,100));
                    notifDataTitle = $("span#likeNotification").text().replace(/#USERNAME#/g , notification.userFirstName).replace(/#MESSAGE#/g , notification.commentBodyText.replace(/<br \/>/g, " "));
                  }
                  else{
                      notifData = $("span#anonymousLikeNotification").text().replace(/#MESSAGE#/g , emojione.shortnameToUnicode(notification.commentBodyText).substring(0,100));
                      notifDataTitle = $("span#anonymousLikeNotification").text().replace(/#MESSAGE#/g , notification.commentBodyText.replace(/<br \/>/g, " "));
                  }

                  template = template.replace(/#NOTIFICATION_DATA#/g , emojione.unicodeToImage(notifData));
                  template = template.replace(/#NOTIFICATION_DATA_TITLE#/g , notifDataTitle);
                  break;

         case "Reply" :
                  template = template.replace(/#AVATAR_URL#/g , notification.userPhotoUrl ? notification.userPhotoUrl : "images/avatar.jpg");
                  template = template.replace(/#NOTIFICATION_TYPE_ICON#/g , "reply");
                  notifData = $("span#replyNotification").text().replace(/#USERNAME#/g , notification.userFirstName).replace(/#MESSAGE#/g , emojione.shortnameToUnicode(notification.commentBodyText).substring(0,100));
                  notifDataTitle = $("span#replyNotification").text().replace(/#USERNAME#/g , notification.userFirstName).replace(/#MESSAGE#/g , notification.commentBodyText.replace(/<br \/>/g, " "));
                  template = template.replace(/#NOTIFICATION_DATA#/g ,emojione.unicodeToImage(notifData));
                  template = template.replace(/#NOTIFICATION_DATA_TITLE#/g , notifDataTitle);
                  break;
         case "PendingEmailApproval" :
                  template = template.replace(/#AVATAR_URL#/g , userObj.photoUrl ? userObj.photoUrl : "images/avatar.jpg");
                  var pageUrl = notification.commentPageUrl.replace("https://www.", "").replace("http://www", "").replace("www.", "").replace("https://", "").replace("http://", "");
                  notifData = $("span#pendingEmailApprovalNotification").text().replace(/#PAGE_URL#/g , pageUrl).replace(/#MESSAGE#/g ,emojione.shortnameToUnicode(notification.commentBodyText).substring(0,100));
                  notifDataTitle = $("span#pendingEmailApprovalNotification").text().replace(/#PAGE_URL#/g , pageUrl).replace(/#MESSAGE#/g ,notification.commentBodyText.replace(/<br \/>/g, " "));
                  template = template.replace(/#NOTIFICATION_DATA#/g , emojione.unicodeToImage(notifData));
                  template = template.replace(/#NOTIFICATION_DATA_TITLE#/g , notifDataTitle);
                  break;
         case "PendingAdminApproval" :
                  template = template.replace(/#AVATAR_URL#/g , userObj.photoUrl ? userObj.photoUrl : "images/avatar.jpg");
                  var pageUrl = notification.commentPageUrl.replace("https://www.", "").replace("http://www", "").replace("www.", "").replace("https://", "").replace("http://", "");
                  notifData = $("span#pendingAdminApprovalNotification").text().replace(/#PAGE_URL#/g , pageUrl).replace(/#MESSAGE#/g ,emojione.shortnameToUnicode(notification.commentBodyText).substring(0,100));
                  notifDataTitle = $("span#pendingAdminApprovalNotification").text().replace(/#PAGE_URL#/g , pageUrl).replace(/#MESSAGE#/g ,notification.commentBodyText.replace(/<br \/>/g, " "));
                  template = template.replace(/#NOTIFICATION_DATA#/g , emojione.unicodeToImage(notifData));
                  template = template.replace(/#NOTIFICATION_DATA_TITLE#/g , notifDataTitle);
                  break;
        }
        date = new Date(notification.createdOn + "Z");
        template = template.replace(/#TIMESTAMP#/g, date.getTime());
        template = template.replace(/#NOTIFTICATION_TIME#/g , formatGap.formatDateGap(Date.parse(new Date().toString()),Date.parse(date)));//date.getDate() + " " + monthNames[date.getMonth()]);
        template = template.replace(/#MARK_AS_READ#/g ,$("#mark-read").text());
        template = template.replace(/#HIDE_THIS_NOTIFICATION#/g ,$("#hide-notification").text());
        template = template.replace(/#SHOW_ROW#/g , "");
        containerObj.find(".notification-body").append(template);
    }

    function renderCustomNotification(containerObj, notification, userObj){
           if(containerObj == null || notification == null)
                return;

           template = htmlString;
           template = template.replace(/#READ_STATUS#/g ,  notification.viewedOn ? "read" : "unread");
           template = template.replace(/#PAGE_URL#/g , notification.commentPageUrl ? notification.commentPageUrl : notification.clickUrl?notification.clickUrl:null);
           template = template.replace(/#CID#/g , null);
           template = template.replace(/#ID#/g, notification.id);
           template = template.replace(/#AVATAR_URL#/g , notification.photoUrl ? customNotificationPhotoUrlPrefix + notification.photoUrl : "images/avatar.jpg");
           template = template.replace(/#NOTIFICATION_TYPE_ICON#/g , "ad");
           if(statistics.getUserString && notification.loggedInUserNotificationText && userObj){
                if(notification.loggedInUserNotificationText.trim() == "")
                    return;
                if(userObj.fullName){
                    template = template.replace(/#NOTIFICATION_DATA#/g , emojione.shortnameToImage(notification.loggedInUserNotificationText.replace("#VISITOR_NAME#", userObj.fullName)));
                    template = template.replace(/#NOTIFICATION_DATA_TITLE#/g , notification.loggedInUserNotificationText.replace("#VISITOR_NAME#", userObj.fullName));
                }
           }else{
                if(notification.anonymousUserNotificationText.trim() == "")
                         return;
                template = template.replace(/#NOTIFICATION_DATA#/g , emojione.shortnameToImage(notification.anonymousUserNotificationText));
                template = template.replace(/#NOTIFICATION_DATA_TITLE#/g , notification.anonymousUserNotificationText);
           }

          var date;
          if(notification.startDate)
            date = new Date(notification.startDate + "Z");
          else
            date = new Date(notification.createdOn + "Z");
          template = template.replace(/#TIMESTAMP#/g, date.getTime());
          template = template.replace(/#NOTIFTICATION_TIME#/g , formatGap.formatDateGap(Date.parse(new Date().toString()),Date.parse(date)));//date.getDate() + " " + monthNames[date.getMonth()]);
          template = template.replace(/#MARK_AS_READ#/g ,$("#mark-read").text());
          template = template.replace(/#HIDE_THIS_NOTIFICATION#/g ,$("#hide-notification").text());
          template = template.replace(/#SHOW_ROW#/g , "");
          containerObj.find(".notification-body").append(template);
    }

    function setCustomNotificationsView(containerObj, notificationList){
        if(notificationList.length < 0 )
            return;

        var userObj;
        try{
           userObj = $.parseJSON(statistics.getUserString());

        } catch(err) {
           userObj = null;
        }

        for(var i = 0 ; i < notificationList.length ; i++ ){
            if(notificationList[i].anonymousUserNotificationText)
                  renderCustomNotification(containerObj, notificationList[i], userObj);
        }
    }

    function setEmptyNotificationsView(containerObj){
        var template = emptyNotificationTemplateStr;
        containerObj.find(".notification-count").addClass("invisible");
        containerObj.find(".notification-area-wrapper .header .mark-read").addClass("invisible");
        template = template.replace("#SHOW_ZERO_NOTIFICATION#" , " ");
        template = template.replace("#NO_NOTIFICATION_MSG#" , $("#zeroNotification").text());
        containerObj.find(".notification-body").html(template);
    }

    function resetView(containerObj){
        if(containerObj.find(".empty-notification").length > 0)
            containerObj.find(".empty-notification").remove();
        if(containerObj.find(".notification-body div.row").length > 0)
            containerObj.find(".notification-body div.row").remove();
    }

    function hideNotification(elemId, callback){
        if(typeof(callback) != "function")
                     return;

        var formData = new FormData();
        formData.append("userId",  statistics.getUserId());
        formData.append("hn", elemId);

        $.ajax({
              type: 'POST',
              url: params.internalUrl + params.hideNotificationUrl,
              data: formData,
              processData: false,
              contentType: false,
              cache: false
        }).always(function( data ) {
            return callback(data);
        });
    }

    return{
        init: init,
        fetchNotifications: fetchNotifications,
        setNotificationView: setNotificationView,
        markAsRead: markAsRead,
        markAllAsRead:markAllAsRead,
        setEmptyNotificationsView: setEmptyNotificationsView,
        hideNotification: hideNotification
    };
}).call( {} );
;
    var presentationMode = presentationMode = (function(){
    var presentationModes = {NO_RESULTS:-3, NO_RESULTS_VOICE:-2, NO_RESULTS_TEXT:-1, LOADING_RESULTS:0, HAS_RESULTS_TEXT:1, HAS_RESULTS_VOICE:2, HAS_RESULTS:3 };
    var currentMode = presentationModes.NO_RESULTS;
    var loaderInterval;
    function view_resetView(){
        //$(".comment").removeClass("invisible");
        $(".comment").each(function(){
            var parent = $(this).parent();
            if (parent.hasClass("review"))
                parent.removeClass("invisible");
        });

        $("#noComments").addClass("invisible");
        $("#noVocalComments").addClass("invisible");
        $("#noTextualComments").addClass("invisible");
        $("#commentsLoadMore").addClass("invisible");

        $(".btn-review").removeClass("active");
    }

    function view_setHasResults(){
        $("#displayBothActionSpan").addClass("active");
        $("#loadingDiv").addClass("invisible");
        clearInterval(loaderInterval);
    }


    function view_setHasVoiceResults(){
        setCommentDisplay("2");
        $("#playAllVoiceCommentsActionSpan").addClass("active");

    }

    function view_setHasTextResults(){
        setCommentDisplay("1");
        $("#displayAllTextCommentsActionSpan").addClass("active");

    }

    function view_setNoResults(){
        $("#displayBothActionSpan").addClass("active");
        $("#noComments").removeClass("invisible");
        $(".comment").each(function(){
            var parent = $(this).parent();
            if (parent.hasClass("review"))
                parent.addClass("invisible");
        });
        $("#loadingDiv").addClass("invisible");
        clearInterval(loaderInterval);
    }

    function view_setNoResultsVocal(){
        $("#playAllVoiceCommentsActionSpan").addClass("active");
        $("#noVocalComments").removeClass("invisible");
        $(".comment").each(function(){
            var parent = $(this).parent();
            if (parent.hasClass("review"))
                parent.addClass("invisible");
        });
    }

    function view_setNoResultsTextual(){
        $("#displayAllTextCommentsActionSpan").addClass("active");
        $("#noTextualComments").removeClass("invisible");
        $(".comment").each(function(){
            var parent = $(this).parent();
            if (parent.hasClass("review"))
                parent.addClass("invisible");
        });
    }

    function setCommentDisplay(notType){
        $(".comment[ctype='" + notType + "']").each(function(){
            var comment = $(this);
            var parent = comment.parent();
            if (comment.hasClass("invisible") && parent.hasClass("review"))
                parent.addClass("invisible");
        });

    }

    function view_setLoadingView(){
        $("#displayBothActionSpan").addClass("active");
        $("#loadingDiv").removeClass("invisible");
        setLoading();
    }

    function setLoading(){
        loaderInterval = setInterval(function(){
            if ($("#loadingDiv .circles-list li.invisible").length == 0)
                $("#loadingDiv .circles-list li").addClass("invisible");
           $("#loadingDiv .circles-list li.invisible:first").removeClass("invisible");
        }, 300);
    }

    function setCommentsView(presentationMode){
        if (presentationMode == undefined)
            return;

        view_resetView();

        switch (presentationMode){
            case presentationModes.NO_RESULTS:
                view_setNoResults();
                break;
            case presentationModes.NO_RESULTS_TEXT:
                view_setNoResultsTextual();
                break;
            case presentationModes.NO_RESULTS_VOICE:
                view_setNoResultsVocal();
                break;
            case presentationModes.HAS_RESULTS:
                view_setHasResults();
                break;
            case presentationModes.LOADING_RESULTS:
                 view_setLoadingView();
                 break;
            case presentationModes.HAS_RESULTS_TEXT:
                view_setHasTextResults();
                break;
            case presentationModes.HAS_RESULTS_VOICE:
                view_setHasVoiceResults();
                break;
        }
    }

    function getCurrentMode(){
        return currentMode;
    }

    return{
        setCommentsView: setCommentsView,
        presentationModes: presentationModes,
        getCurrentMode: getCurrentMode
    };

})();;
    var share = share = (function(){
    var comments;
    var messaging;
    var shareBaseUrl = 'https://www.heyoya.com/social/showComment?commentId=#COMMENT_ID#&pageId=#PAGE_ID#';
    var isSDK = false;
    var isWix = false;
    var socialMedia = {
    		  FACEBOOK : "FACEBOOK", 
    		  TWITTER: "TWITTER", 
    		  GOOGLE_PLUS: "GOOGLE_PLUS"
    };      
    var languages = null;
    var currentLanguage = null;
    var languageCodesForSocialShare = null;

    function init(commentsObj, messagingObj, isSDKValue, isWixValue){
        comments = commentsObj;
        messaging = messagingObj;

        if (Object.prototype.toString.call( isSDKValue ) === '[object Boolean]')
            isSDK = isSDKValue;

        if (Object.prototype.toString.call( isWixValue ) === '[object Boolean]')
            isWix = isWixValue;       
        
    }

    function tweetComment(commentId){
        if (!commentId || isNaN(commentId))
            return;

        var comment = _getCommentById(commentId);
        if (!comment)
        	return;
        
        //userFullName title
        var tweeterBaseUrl = "https://twitter.com/intent/tweet?";
        var hash_tags = "heyoya";
        var via = "heyoya";
        
        var tweet_text;        
        if(comment.typeId == 1 || comment.typeId == 3)        	
        	tweet_text = $("[lang_id= posted_a_voice_comment_with]").text().replace("###", comment.userFullName) +
        	 " " + getShareUrl(commentId)  +
             " " + $("[lang_id= dont_wait_listen]").text();
        else
        	tweet_text = $("[lang_id= posted_a_comment_with]").text().replace("###", comment.userFullName) +
        	" " + getShareUrl(commentId)  +
            " " + $("[lang_id= dont_wait_listen]").text();
        
        //encodeURIComponent , escape, encodeURI
        // lang = ar
        var langCode = languageCodesForSocialShare[currentLanguage][socialMedia.TWITTER];
        
        messaging.postMessage(null,messaging.messageTypes.commentShared,[commentId, comment.pageId, 2],undefined,messaging.messageDestinations.data);
        sendEvent("Product","Twitter-Share-Comment", "Twitter - user shared comment "+commentId, { "commentId": commentId, "pageId": comment.pageId });

        if (!isSDK)
            window.open(tweeterBaseUrl +
                "ticks=" + new Date().getTime().toString() +
                "&hashtags="+encodeURIComponent(hash_tags) +
                "&related="+ encodeURIComponent("Heyoya.com") +
                "&text=" + encodeURIComponent(tweet_text) +
                "&via=" + via +    
                "&lang=" + langCode, 
                'tweet','menubar=1, resizable=1, toolbar=0,status=0,width=550,height=420');
        else
            messaging.postMessage(null,messaging.messageTypes.sdkCommentShared,[commentId, "TWITTER", 2, tweet_text, getShareUrl(commentId), comment.pageId, comment.pageUrl.split("_hEySepBP_")[0]]);
    }

    function fbComment(commentId){
        if (!commentId || isNaN(commentId))
            return;

        // locale=ar_AR

        var comment = _getCommentById(commentId);
//        var message_title = comment.title.replace('"','\\"');
        
    
        var langCode = languageCodesForSocialShare[currentLanguage][socialMedia.FACEBOOK];

        var shareURL = 'https://www.facebook.com/sharer/sharer.php?';
        shareURL += 's=100';
        shareURL += '&u=' + encodeURIComponent(getShareUrl(commentId, true) + '&ticks=' + new Date().getTime().toString());
        shareURL += '&locale=' +langCode;
        
        messaging.postMessage(null,messaging.messageTypes.commentShared,[commentId, comment.pageId, 1]);
        sendEvent("Product","FB-Share-Comment", "FB - user shared comment "+commentId, { "commentId": commentId, "pageId": commentId.pageId });

        if (!isSDK)
            window.open(shareURL,'sharer','menubar=1, resizable=1, toolbar=0,status=0,width=548,height=325');
        else
            messaging.postMessage(null,messaging.messageTypes.sdkCommentShared,[commentId, "FACEBOOK", 1, (comment.msgText != null?comment.msgText + ". ": "") + (comment.typeId == 1 || comment.typeId == 3?"Comment was originally recorded at: " + comment.fullPageUrl.split("_hEySepBP_")[0] + " using heyoya.com - Have it your say!":""), getShareUrl(commentId, true) + '&ticks=' + new Date().getTime().toString(), comment.pageId, comment.pageUrl.split("_hEySepBP_")[0]]);
    }

    function googlePlusComment(commentId){
        if (!commentId || isNaN(commentId))
            return;

        //hl=ar
        var langCode = languageCodesForSocialShare[currentLanguage][socialMedia.GOOGLE_PLUS];
        
        var comment = _getCommentById(commentId);
        var shareURL = 'https://plus.google.com/share?';
        shareURL += 'url=' + encodeURIComponent(getShareUrl(commentId) + (!isWix?'&stype=gp&ticks=' + new Date().getTime().toString():""));
        shareURL += '&hl=' +langCode;
        
        messaging.postMessage(null,messaging.messageTypes.commentShared,[commentId, comment.pageId, 3]);

        sendEvent("Product","Google-Plus-Share-Comment", "Google-Plus - user shared comment "+commentId, { "commentId": commentId, "pageId": comment.pageId });

        if (!isSDK)
            window.open(shareURL,'sharer','menubar=0, resizable=1, toolbar=0,status=0,width=600,height=600');
        else
            messaging.postMessage(null,messaging.messageTypes.sdkCommentShared,[commentId, "GOOGLE", 3, (comment.msgText != null?comment.msgText + ". ": "") + (comment.typeId == 1 || comment.typeId == 3?"Comment was originally recorded at: " + comment.fullPageUrl.split("_hEySepBP_")[0] + " using heyoya.com - Have it your say!":""), getShareUrl(commentId) + '&stype=gp&ticks=' + new Date().getTime().toString(), comment.pageId, comment.pageUrl.split("_hEySepBP_")[0]]);
    }

    function getShareUrl(commentId, forceInternal){
        if (!commentId || isNaN(commentId))
            return "";

        var comment = _getCommentById(commentId);

        if (comment == undefined)
            return "";

        if (!isWix || forceInternal)
            return shareBaseUrl.replace("#COMMENT_ID#", commentId).replace("#PAGE_ID#", comment.pageId);
        else
            return comment.fullPageUrl?comment.fullPageUrl.split("_hEySepBP_")[0]:"";
    }

    function setIsSDK(isSDKValue){
        if (isSDKValue == undefined || isSDKValue == null || !(Object.prototype.toString.call( isSDKValue ) === '[object Boolean]')){
            isSDK = false;
            return;
        }

        isSDK = isSDKValue;
    }

    function setIsWix(isWixValue){
        if (isWixValue == undefined || isWixValue == null || !(Object.prototype.toString.call( isWixValue ) === '[object Boolean]')){
            isWix = false;
            return;
        }

        isWix = isWixValue;
    }

    function _getCommentById(commentId){     
        if(!comments)
            return null;

       for (var i=0;i<comments.length;i++) {
            if ( comments[i].commentId == commentId)
                return comments[i];
        }
        return null;
    }

    function _populateSocialMediaShareLangCode(){
    	languageCodesForSocialShare = {};
    	
	   	for (key in languages){
	   		var tmp = {};
	   		tmp[languages[key]] = {};
	   		$.extend(languageCodesForSocialShare, tmp);    		
	   	}
   	 
	   	for (key in languageCodesForSocialShare){	   		 
	   		 switch (key) {
	   		 
	   		 	case languages.german:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "de_DE";
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "de";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "de";
			   			 break;
			   	
		   		case languages.french:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "fr_FR";
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "fr";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "fr";
			   			 break;	
			   			 
		   		case languages.spanish:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "es_LA"; 									
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "es";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "es";	
			   			 break;
		   		 
		   		case languages.portuguese:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "pt_PT";   									
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "pt";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "pt-PT";	
			   			 break;
		   		 
		   		case languages.portuguese_brazilian:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "pt_BR";    									
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "pt";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "pt-BR";		
			   			 break;
		   		 
		   		case languages.russian:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "ru_RU";   									
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "ru";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "ru";		
			   			 break;
		   		 
		   		case languages.arabic:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "ar_AR"; 									
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "ar";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "ar";			
			   			 break;
		   		 
		   		case languages.turkish:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "tr_TR";    									
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "tr";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "tr";			
			   			 break;
		   		 
		   		case languages.indian:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "hi_IN";    									
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "hi";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "hi";			
			   			 break;
		   		 
		   		case languages.bulgarian:
			   			 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "bg_BG";    									
			   			 languageCodesForSocialShare[key][socialMedia.TWITTER] = "en";
			   			 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "bg";	
			   			 break;
		   		 
				case languages.romanian:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "ro_RO";   									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "ro";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "ro";	
						 break;
						
				case languages.greek:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "el_GR";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "el";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "el";
						 break;
					
				case languages.persian:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "fa_IR";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "fa";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "fa";	
						 break;
					
				case languages.italian:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "it_IT";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "it";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "it";	
						 break;
					
				case languages.dutch:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "nl_NL";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "nl";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "nl";	
						 break;
					
				case languages.chinese:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "zh_CN";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "zh-cn";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "zh_CN";	
						 break;
					
				case languages.japanese:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "ja_JP";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "ja";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "ja";	
						 break;
					
				case languages.korean:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "ko_KR";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "ko";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "ko";	
						 break;
					
				case languages.swedish:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "sv_SE";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "sv";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "sv";	
						 break;
					
				case languages.ukrainian:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "uk_UA";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "uk";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "uk"; 	
						 break;
						 
				case languages.hebrew:
						 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "he_IL";    									
						 languageCodesForSocialShare[key][socialMedia.TWITTER] = "he";
						 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "iw";	
						 break;	
			   			 
		   		default:
		   		 		 languageCodesForSocialShare[key][socialMedia.FACEBOOK] = "en_US";
		   		 		 languageCodesForSocialShare[key][socialMedia.TWITTER] = "en";
		   		 		 languageCodesForSocialShare[key][socialMedia.GOOGLE_PLUS] = "en_US";   		 	
		   		 		 break;	
	   		 } 	   		
	   	 }   	 
    }
    
    function setLanguages(selectedLanguage, languagesArray){
    	if (!selectedLanguage || !languagesArray || !Object.prototype.toString.call( languagesArray ) === '[object Object]' )
    		return;
    	
    	languages = languagesArray;
    	currentLanguage = selectedLanguage;
    	
    	_populateSocialMediaShareLangCode();
    }
    
    return{
        init: init,
        tweetComment: tweetComment,
        fbComment: fbComment,
        googlePlusComment: googlePlusComment,
        getShareUrl: getShareUrl,
        setIsSDK: setIsSDK,
        setIsWix: setIsWix,
        setLanguages: setLanguages
    };
    
})();

;
    var statistics = statistics = (function(){
    var sessionId = null;
    var guestId = null;
    var userId = null;
    var userString = null;
    var testGroup = null;
    var userStation = null;
    var UUIDLib = null;
    var baseUrl = null;
    var reportActionUrl = null;
    var pageUrl = null;
    var affiliateId = "heyoya";
    var initiated = false;
    var pendingReports = [];

    function init(UUIDLibRef, baseUrlValue, reportActionUrlValue, guestIdValue, sessionIdValue, pageUrlValue, affiliateIdValue, userIdValue, userStringValue, testGroupValue, userStationValue){
        if (UUIDLibRef)
            UUIDLib = UUIDLibRef;

        if (baseUrlValue)
            baseUrl = baseUrlValue;

        if (reportActionUrlValue)
            reportActionUrl = reportActionUrlValue;

        if (userIdValue)
            userId = userIdValue;

        if (guestIdValue)
            guestId = guestIdValue;

        if (sessionIdValue)
            sessionId = sessionIdValue;
        else if (UUIDLibRef)
            sessionId = UUIDLib.create();

        if (pageUrlValue)
            pageUrl = encodeURIComponent(pageUrlValue);

        if (affiliateIdValue)
            affiliateId = affiliateIdValue;

        if (userStringValue)
            userString = userStringValue;

        if (!isNaN(testGroupValue))
            testGroup = testGroupValue;
        else
            testGroup = -1;

        if (userStationValue)
            userStation = userStationValue;

        if (baseUrl && reportActionUrl){
            var baseUrlIndex = baseUrl.lastIndexOf("/");
            var reportUrlIndex = reportActionUrl.indexOf("/");

            if (baseUrlIndex !== (baseUrl.length-1) && reportUrlIndex !== 0)
                baseUrl += "/";
            else if (baseUrlIndex === (baseUrl.length-1) && reportUrlIndex === 0)
                reportActionUrl = reportActionUrl.substring(1);

            reportActionUrl = baseUrl + reportActionUrl;
        }

        initiated = true;
        reportBacklog();
    }

    function reportBacklog(){
        var backlogLength = pendingReports.length;
        for(var reportIterator=0; reportIterator < backlogLength; reportIterator++){
            report(pendingReports[reportIterator].action, pendingReports[reportIterator].additionalParameters);
        }

        pendingReports = [];
    }

    function canReport(){
        if (!UUIDLib || !sessionId || !reportActionUrl || !pageUrl)
            return false;

        return true;
    }

    function report(actionName, additionalParameters){
        if (!initiated && actionName){
            var pendingRequest = {};
            pendingRequest.action = actionName;
            pendingRequest.additionalParameters = additionalParameters;
            pendingReports.push(pendingRequest);
            return true;
        }

        if (!canReport || !actionName || Object.prototype.toString.call( actionName ) !== "[object String]" )
            return false;



        var reportUrl = reportActionUrl;
        reportUrl += "?action=" + actionName;
        reportUrl += "&sessionId=" + sessionId;

        if (guestId)
            reportUrl += "&userId=" + guestId;

        reportUrl += "&pageUrl=" + pageUrl;
        reportUrl += "&affiliateId=" + affiliateId;
        reportUrl += "&tg=" + testGroup;

        reportUrl += stringifyAdditionalParameters(additionalParameters);

        var oImg=document.createElement("img");
        oImg.setAttribute('src', reportUrl + '&r1=' + Math.random() + "&r2=" + Math.random() );
        oImg.setAttribute('width', '1px');
        oImg.setAttribute('height', '1px');

        var appendObject = document.getElementById("imageContainer");
        if (appendObject == null){
            oImg.setAttribute('style', 'position: absolute;top: -30000px;');
            appendObject = document.body;
	}

        appendObject.appendChild(oImg);

        return true;
    }

    function stringifyAdditionalParameters(additionalParameters){
        if (!additionalParameters || Object.prototype.toString.call( additionalParameters ) !== "[object Object]")
            return "";

        var resultString = "";
        for (paramName in additionalParameters){
            if (additionalParameters[paramName] == undefined || additionalParameters[paramName] == null)
                continue;

            resultString += "&" + paramName + "=" + encodeURIComponent(additionalParameters[paramName]);
        }

        return resultString;
    }

    function setGuestId(guestIdValue){
        guestId = guestIdValue;
    }

    function setUserId(userIdValue){
        userId = userIdValue;
    }

    function setUserString(userStringValue){
        userString = userStringValue;
    }

    function setPageUrl(pageUrlValue){
        pageUrl = pageUrlValue;
    }

    function setTestGroup(testGroupValue){
        testGroup = testGroupValue;
    }

    function setUserStation(userStationValue){
        userStation = userStationValue;
    }

    function getUserId(){
        return userId;
    }

    function getUserString(){
        return userString;
    }

    function getGuestId(){
        return guestId;
    }

    function getSessionId(){
        return sessionId;
    }

    function getPageUrl(){
        var pageUrlDecodedUrl;

        try{
            pageUrlDecodedUrl = decodeURIComponent(pageUrl);
        } catch(err){
            pageUrlDecodedUrl = unescape(pageUrl);
        }
        return pageUrlDecodedUrl
    }

    function getAffiliateId(){
        return affiliateId;
    }

    function getTestGroup(){
        return testGroup;
    }

    function getUserStation(){
        return userStation;
    }

    return{
        init: init,
        canReport: canReport,
        report: report,
        setUserId: setUserId,
        setUserString: setUserString,
        setGuestId: setGuestId,
        setPageUrl: setPageUrl,
        setTestGroup: setTestGroup,
        setUserStation: setUserStation,
        getUserId: getUserId,
        getUserString: getUserString,
        getGuestId: getGuestId,
        getSessionId: getSessionId,
        getPageUrl: getPageUrl,
        getAffiliateId: getAffiliateId,
        getTestGroup: getTestGroup,
        getUserStation: getUserStation
    };
})();
;
    var errorService = errorService = function(){
    var statisticsService, googleAnalyticsService, stringifyUtility;
    function init(statisticsServiceObj, googleAnalyticsObj, stringifyUtilityObj){
        statisticsService = statisticsServiceObj;
        googleAnalyticsService = googleAnalyticsObj;
        stringifyUtility = stringifyUtilityObj;
    }

    function reportOnError(msg, url, line, col, error){
        var additionalParameters = {};

        if (msg != undefined && msg != null && ( Object.prototype.toString.call( msg ) === "[object ErrorEvent]" || Object.prototype.toString.call( msg ) === "[object Event]" )){
            if (msg.message)
                additionalParameters.errorMessage = msg.message;

            if (msg.filename)
                additionalParameters.errorUrl = msg.filename ;

            if (msg.lineno)
                additionalParameters.errorLine = msg.lineno ;

            if (msg.colno)
                additionalParameters.errorColumn = msg.colno ;

            if (msg.error)
                additionalParameters.error = msg.error;
        } else {

            if (msg)
                additionalParameters.errorMessage = msg;

            if (url)
                additionalParameters.errorUrl = url;

            if (line)
                additionalParameters.errorLine = line;

            if (col)
                additionalParameters.errorColumn = col;

            if (error)
                additionalParameters.error = error;
        }

        if (additionalParameters.errorMessage && (additionalParameters.errorMessage.toLowerCase() == "script error." || additionalParameters.errorMessage.toLowerCase() == "script error") && !additionalParameters.errorUrl)
            return;

        statisticsService.report("ClientError", additionalParameters);

        // If you return true, then error alerts (like in older versions of
        // Internet Explorer) will be suppressed.
        return true;
    }

    function reportError(channelName,eventName, eventText){
        var additionalParameters = {};

        if (eventText){
            if (typeof(eventText) == "string")
                additionalParameters.errorMessage = eventText;
            else
                additionalParameters.errorMessage = stringifyUtility.toString(eventText);
        }

        statisticsService.report(eventName, additionalParameters);

        googleAnalyticsService.push(['_trackEvent', channelName, eventName, eventText]);

    }
    return {
        init: init,
        reportOnError:reportOnError,
        reportError: reportError
    };
}();
;
    var languagesService = languages = function(){
    var $, languagesData, finishCallback, loadFileUtil, loadFileBaseUrl, languageVersion, currentLanguage;
    var languages = {english: 'en', german: 'de',french: 'fr',spanish:'es',portuguese : 'pt',portuguese_brazilian: 'pt-br',russian: 'ru',arabic: 'ar',turkish: 'tr',indian: 'in',bulgarian: 'bg',romanian: 'ro',greek: 'gr',persian: 'ir',italian: 'it',dutch: 'nl',chinese: 'ch',japanese: 'jp',korean: 'ko',swedish: 'sw',ukrainian: 'ua',hebrew: 'il', polish: 'pl'};
    var isReady = false;
    var languagesRendered = false;
    var shouldRefreshLangFileEveryTime;
    var emoFiltersObj = {"filters" : {recent:{title:"Recent",},smileys_people:{title:"Smileys & People",},animals_nature:{title:"Animals & Nature",},food_drink:{title:"Food & Drink",},activity:{title:"Activity"},travel_places:{title:"Travel & Places",},objects:{title:"Objects",},symbols:{title:"Symbols",},flags:{title:"Flags",}}};

    function init(jQueryLibRef, loadFileUtilRef, baseUrl, version, finishCallbackFunction, selectedLanguage, shouldRefreshLangFileEveryTimeInput){
        if (!baseUrl)
            return;

        $ = jQueryLibRef;
        loadFileUtil = loadFileUtilRef;
        loadFileBaseUrl = baseUrl;
        languageVersion = version;

        currentLanguage = null;

        if (finishCallbackFunction && typeof finishCallbackFunction == "function")
            finishCallback = finishCallbackFunction;
        else
            finishCallback = null;

        isReady = true;

        if (selectedLanguage == languages.english){
            languagesRendered = true;
            if (finishCallback != null)
                finishCallback();

            return;
        }

        var langFound = false;
        $.each(languages, function(i,obj){
            if ( obj ==  selectedLanguage){
                langFound = true;
                return false;
            }
        });

        if (!langFound){
            languagesRendered = true;
            if (finishCallback != null)
                finishCallback();

            return;
        }

        shouldRefreshLangFileEveryTime = shouldRefreshLangFileEveryTimeInput != undefined && shouldRefreshLangFileEveryTimeInput == true;

        _loadLanguageFile(selectedLanguage);
    }

    function _loadLanguageFile(selectedLanguage, force){
        window["languages_callback"] = _languageFileReceived;

        $("body").removeClass(currentLanguage);

        if (selectedLanguage == currentLanguage){
            _renderPageLanguage();
            return;
        }

        currentLanguage = selectedLanguage;

        if (languageJSONObj != null && !force){
            _languageFileReceived(languageJSONObj);
            return;
        }

        loadFileUtil.loadFile( loadFileUtil.urlTypes.script, loadFileBaseUrl + "languages/lang-" + currentLanguage + ".json?v=" + languageVersion + (shouldRefreshLangFileEveryTime?"&r=" + Math.random():"") );
    }

    function _languageFileReceived(languageJson){
        if (!languageJson)
            return;

        languagesData = languageJson;

        _renderPageLanguage();
    }

    function _renderPageLanguage(){
        if (!languagesData || !languagesData.enabled){
            _callFinishCallback();
            return;
        }

        if (languagesData.direction == "rtl")
            $("body").addClass("rtl");
        else
            $("body").removeClass("rtl");

        $("body").addClass(currentLanguage);

        $(".lang").each(function(){
            if ($(this).attr("no_lang") != undefined)
                return;

            var currentObj = $(this);
            _handleMainText(currentObj);
            _handlePlaceholderText(currentObj);
            _handleTitleText(currentObj);
        });

        languagesRendered = true;
        _callFinishCallback();
    }

    function setEmojiLanguage(emoFiltersObj){
        if (!languagesData)
            return emoFiltersObj;

        for(var key in emoFiltersObj.filters){
            if(languagesData.ui_inputs[key] != undefined)
                if(languagesData.ui_inputs[key] != "")
                   emoFiltersObj.filters[key].title = languagesData.ui_inputs[key];
        }
        return emoFiltersObj;
    }

    function _handleMainText(currentObj){
        if (!currentObj || !languagesData)
            return;

        var langId = currentObj.attr("lang_id");
        if (!langId || !languagesData.ui_inputs[langId])
            return;

        if (currentObj.is("input") || currentObj.is("textarea")){
            if (currentObj.is(":button"))
                currentObj.val(languagesData.ui_inputs[langId]);

            currentObj.attr("defaultValue",languagesData.ui_inputs[langId]);
        }
        else
            currentObj.html(languagesData.ui_inputs[langId]);
    }

    function _handlePlaceholderText(currentObj){
        if (!currentObj || !languagesData)
            return;



        var placeholderId = currentObj.attr("placeholder-default-lang-id");
        if (placeholderId && languagesData.ui_inputs[placeholderId]){
            currentObj.attr("placeholder-default", languagesData.ui_inputs[placeholderId]);
            currentObj.attr("placeholder", languagesData.ui_inputs[placeholderId]);
        }

        placeholderId = currentObj.attr("placeholder-missing-lang-id");
        if (placeholderId && languagesData.ui_inputs[placeholderId])
            currentObj.attr("placeholder-missing", languagesData.ui_inputs[placeholderId]);

        placeholderId = currentObj.attr("placeholder-invalid-lang-id");
        if (placeholderId && languagesData.ui_inputs[placeholderId])
            currentObj.attr("placeholder-invalid", languagesData.ui_inputs[placeholderId]);

        placeholderId = currentObj.attr("placeholder-logged-out-lang-id");
        if (placeholderId && languagesData.ui_inputs[placeholderId])
            currentObj.attr("placeholder-logged-out", languagesData.ui_inputs[placeholderId]);

        placeholderId = currentObj.attr("placeholder-logged-in-lang-id");
        if (placeholderId && languagesData.ui_inputs[placeholderId])
            currentObj.attr("placeholder-logged-in", languagesData.ui_inputs[placeholderId]);

        placeholderId = currentObj.attr("placeholder-android-mobile-lang-id");
        if (placeholderId && languagesData.ui_inputs[placeholderId])
            currentObj.attr("placeholder-android-mobile", languagesData.ui_inputs[placeholderId]);

        placeholderId = currentObj.attr("placeholder-android-mobile-missing-lang-id");
        if (placeholderId && languagesData.ui_inputs[placeholderId])
            currentObj.attr("placeholder-android-mobile-missing", languagesData.ui_inputs[placeholderId]);
    }

    function _handleTitleText(currentObj){
        if (!currentObj || !languagesData)
            return;

        var titleId = currentObj.attr("title-lang");
        if (titleId && languagesData.ui_inputs[titleId])
            currentObj.attr("title", languagesData.ui_inputs[titleId]);
    }

    function _callFinishCallback(){
        if (finishCallback != null)
            finishCallback();
    }

    function getLanguagesArray(){
        return languages;
    }

    function setObjectLanguage(object){
        if (!isReady || !object || object.length == 0 )
            return;

        object = $(object);

        $.each(object, function(i, obj){
            $(obj).find(".lang").each(function(){
                var currentObj = $(this);
                _handleMainText(currentObj);
                _handlePlaceholderText(currentObj);
                _handleTitleText(currentObj);
            });
        });



    }

    function getCurrentLanguage(){
        return  currentLanguage != null?currentLanguage:languages.english;
    }

    function loadNewLanguage(newLanguage){
        if (!newLanguage)
            return;

        var langKey = _getLanguageKeyByValue(newLanguage);
        if (langKey == null || langKey == getCurrentLanguage())
            return;

        _loadLanguageFile(newLanguage, true);
    }

    function _getLanguageKeyByValue(value){
        if (!value)
            return null;

        var resultKey = null;
        for(var langKey in languages){
            if (!langKey)
                continue;

            if (languages[langKey] == value) {
                resultKey = langKey;
                break;
            }
        }

        return resultKey;
    }

    function wasLanguagesRendered(){
        return languagesRendered;
    }


    return {
        init: init,
        getLanguagesArray: getLanguagesArray,
        setObjectLanguage: setObjectLanguage,
        getCurrentLanguage: getCurrentLanguage,
        loadNewLanguage: loadNewLanguage,
        setEmojiLanguage:setEmojiLanguage,
        wasLanguagesRendered: wasLanguagesRendered
    };
}();

;
    var loginService = loginService = (function(){
    var $;
    var loginStates = {LOGGED_IN: 1, NOT_AUTHORIZED:2, NOT_LOGGED_IN: 3};
    var requestModes = { INIT: 1, LOGIN: 2, LOGOUT: 3, IS_LOGGED_IN: 4 };
    var loginProviders = { HEYOYA: 1, FACEBOOK: 2, GOOGLE: 3, LINKEDIN: 4 };
    var facebookLoginService;
    var heyoyaLoginService;
    var googleLoginService;
    var linkedinLoginService;
    var loginCallback;
    var baseUrl;
    var externalUrl;
    var userStation;
    var shouldNotLogoutLinkedin = false;

    function init(jQuery, baseUrlObj, externalUrlObj, heyoyaLoginServiceObj, facebookLoginServiceObj, googleLoginServiceObj, linkedinLoginServiceObj, readyCallbackObj, userStationValue, shouldNotLogoutLinkedinParam){
        $ = jQuery;

        baseUrl = baseUrlObj;
        externalUrl = externalUrlObj;
        userStation = userStationValue;

        if (shouldNotLogoutLinkedinParam)
            shouldNotLogoutLinkedin = true;

        heyoyaLoginService = heyoyaLoginServiceObj;
        facebookLoginService = facebookLoginServiceObj;
        googleLoginService = googleLoginServiceObj;
        linkedinLoginService = linkedinLoginServiceObj;
        loginCallback = readyCallbackObj;

        facebookLoginService.init(loginStates, requestModes, _facebookLoginCallback);
        googleLoginService.init(externalUrl, loginStates, requestModes, _facebookLoginCallback);
        linkedinLoginService.init(externalUrl, loginStates, requestModes, _linkedinLoginCallback);
    }

    function login(loginProvider, callback, email, fullName){
        loginCallback = callback;
        loginAjaxCallbackReached = false;

        switch (loginProvider){
            case loginProviders.FACEBOOK:
                facebookLoginService.loginUser(_facebookLoginCallback);
                break;
            case loginProviders.GOOGLE:
                googleLoginService.loginUser(_googleLoginCallback);
                break;
            case loginProviders.LINKEDIN:
                linkedinLoginService.loginUser(_linkedinLoginCallback);
                break;
            case loginProviders.HEYOYA:
                _heyoyaLoginCallback(email, fullName);
                break;
        }
    }

    function logout(){
        facebookLoginService.logoutUser(_facebookLoginCallback);
	googleLoginService.logoutUser(_facebookLoginCallback);

        if (!shouldNotLogoutLinkedin)
            linkedinLoginService.logoutUser(_facebookLoginCallback);
    }

    function getLoginStates(){
        return loginStates;
    }

    function getLoginProviders(){
        return loginProviders;
    }

    function loginResponse(loginProvider, accessToken){
        if (!loginProvider || !accessToken)
            return;

        switch (loginProvider){
            case loginProviders.LINKEDIN:
                linkedinLoginService.getNewWindow().close();
                _linkedinLoginCallback("123", accessToken);
                break;

            case loginProviders.GOOGLE:
                googleLoginService.getNewWindow().close();
                _googleLoginCallback("123", accessToken);

                break;
        }


    }

    function getLoginCallbackFunction(){
        return loginCallback;
    }

    function _facebookLoginCallback(loginState, responseObj){
        switch (loginState){
            case loginStates.LOGGED_IN:
                _exchangeTokenAndLoginUser(loginProviders.FACEBOOK,responseObj.authResponse.userID, responseObj.authResponse.accessToken);
                break;
        }

    }

    function _heyoyaLoginCallback(email, fullName){
        if (!email || !fullName)
            return;

        $.getJSON(baseUrl + "lwh.action" + "?callback=?",{
                email: email,
                fullName: fullName,
                us: userStation
            }
        ).done(_loginAjaxCallback);

    }

    function _linkedinLoginCallback(userId, token){
        if (!userId || !token)
            return;

        _exchangeTokenAndLoginUser(loginProviders.LINKEDIN, userId, token);
    }

    function _googleLoginCallback(userId, token){
        if (!userId || !token)
            return;

        _exchangeTokenAndLoginUser(loginProviders.GOOGLE, userId, token);
    }



    function _exchangeTokenAndLoginUser(loginProvider, userId, token){
        if (!loginProvider || !userId || !token){
            _loginAjaxCallback(-1);
            return;
        }

        var requestUrl = null;

        switch (loginProvider){
            case loginProviders.FACEBOOK:
                requestUrl = "lwf.action";
                break;

            case loginProviders.LINKEDIN:
                requestUrl = "lwl.action";
                break;

            case loginProviders.GOOGLE:
                requestUrl = "lwg.action";
                break;
        }


        if (requestUrl == null){
            _loginAjaxCallback(-1);
            return;
        }

        $.getJSON(baseUrl + requestUrl + "?callback=?",{
                eUId: userId,
                token: token,
                rid: -1,
                us: userStation
            }
        ).done(_loginAjaxCallback);
    }

    function _loginAjaxCallback(response){
	loginAjaxCallbackReached = true;
        if (response == -1)
            loginCallback(-1, "-1");
        else
            loginCallback(response.userId, response.fullName, response.email, response.photoUrl, response.authToken);
    }

    function setUserStation(userStationValue){
        userStation = userStationValue;
    }

    return{
        init: init,
        getLoginStates: getLoginStates,
        getLoginProviders: getLoginProviders,
        login: login,
        logout: logout,
        loginResponse: loginResponse,
        getLoginCallbackFunction: getLoginCallbackFunction,
        setUserStation: setUserStation
    };
})();
;
    var heyoyaLoginService = heyoyaLoginService = (function(){
    var loginStates = null;
    var requestModes = null;
    var userStorage = null;
    var userIdKey = "hey_lui";


    function init(loginStatesEnum, requestModesEnum, userStorageUtilityObj, callback){
        loginStates = loginStatesEnum;
        requestModes = requestModesEnum;
        userStorage = userStorageUtilityObj;

        _initHeyoyaApi(callback);
    }

    function loginUser(callback){
        if (typeof callback != "function")
            return;




    }

    function logoutUser(callback){
        if (typeof callback != "function")
            return;

        userStorage.clear(userIdKey);

        callback();
    }

    function isUserLoggedIn(callback, requestMode){
        if (typeof callback != "function")
            return;

        if (!requestMode)
            requestMode = requestModes.IS_LOGGED_IN;

        callback(requestMode, userStorage.get(userIdKey) != userStorage.noResultDefaultValue);
    }


    function _initHeyoyaApi(callback){
        isUserLoggedIn(callback, requestModes.INIT);
    }


    return{
        init: init,
        isUserLoggedIn: isUserLoggedIn,
        loginUser: loginUser,
        logoutUser: logoutUser
    };
})();;
    var facebookLoginService = facebookLoginService = (function(){
    var loginStates = null;
    var requestModes = null;
    var initiated = false;

    function init(loginStatesEnum, requestModesEnum, callback){
        if (initiated)
            return;

        initiated = true;
        loginStates = loginStatesEnum;
        requestModes = requestModesEnum;

        _initFacebookApi(callback);
    }

    function loginUser(callback){
        if (typeof callback != "function")
            return;

        FB.login(function(response){
            _statusChangeCallback(requestModes.LOGIN, response, callback);
        }, {scope: 'public_profile,email', auth_type: 'rerequest'});
    }

    function logoutUser(callback){
        if (typeof callback != "function")
            return;

        try{
            FB.logout(function(response) {
               // _statusChangeCallback(requestModes.LOGOUT, response, callback);
            });
        }
        catch(err){

        }

    }

    function isUserLoggedIn(callback){
        if (typeof callback != "function")
            return;

        FB.getLoginStatus(function(response) {
            _statusChangeCallback(requestModes.IS_LOGGED_IN, response, callback);
        });
    }

    function _initFacebookApi(callback){
        window.fbAsyncInit = function() {
            FB.init({
                appId      : '132066553511497',
                cookie     : true,  // enable cookies to allow the server to access
                status     : true,
                // the session
                xfbml      : true,  // parse social plugins on this page
                version    : 'v3.0' // use version 2.1
            });


            if (typeof callback != "function")
                return;

//            FB.getLoginStatus(function(response) {
//                _statusChangeCallback(requestModes.INIT, response, callback);
//            });

        };

        var facebookLocale = "en_US";
        if ($("body").hasClass("il"))
            facebookLocale = "he_IL";
        else if ($("body").hasClass("ar"))
            facebookLocale = "ar_AR";

        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/" + facebookLocale + "/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));

    }

    function _statusChangeCallback(requestMode, response, callback) {
        if (!response || typeof callback != "function")
            return;

        //console.log(response);

        if (response.status === 'connected')
            callback(loginStates.LOGGED_IN, response);
        else if (response.status === 'not_authorized')
            callback(loginStates.NOT_AUTHORIZED, response);
        else
            // The person is not logged into Facebook, so we're not sure if
            // they are logged into this app or not.
            callback(loginStates.NOT_LOGGED_IN, response);
    }

    return{
        init: init,
        isUserLoggedIn: isUserLoggedIn,
        loginUser: loginUser,
        logoutUser: logoutUser
    };
})();
;
    var googleLoginService = googleLoginService = (function(){
    var loginStates = null;
    var requestModes = null;
    var initiated = false;
    var libLoaded = false;
    var newWindow;
    var baseUrl;
    var isSecured = true;

    function init(baseUrlObj, loginStatesEnum, requestModesEnum, callback){
        if (initiated)
            return;

        baseUrl = baseUrlObj;
        initiated = true;
        loginStates = loginStatesEnum;
        requestModes = requestModesEnum;


        if (window.location.protocol.toLowerCase() != "https:" && (navigator.userAgent.indexOf("MSIE ") != -1 || navigator.userAgent.indexOf("Trident/") != -1 || navigator.userAgent.indexOf("Edge/") != -1)) {
            isSecured = false;
            baseUrl = baseUrl.replace("https://", "http://");
        }

        _initGoogleApi(callback);
    }

    function loginUser(callback){
        var ie8Exists = "0";
        if (window.navigator && window.navigator.userAgent && (window.navigator.userAgent.toLowerCase().indexOf("msie ") != -1 || window.navigator.userAgent.toLowerCase().indexOf("trident") != -1))
            ie8Exists = "1";

        newWindow = window.open(baseUrl + "lwgga.action?au=" + ie8Exists + "&s=" + (isSecured?"1":"0") + "&r1=" + Math.random() + "&r2=" + Math.random() , "", "width=600, height=600");
    }

    function logoutUser(callback){
        if (!libLoaded)
            return;
        try{
            gapi.auth.signOut();
        }
        catch(err){

        }

    }

    function getNewWindow(){
        return newWindow;
    }

    function _initGoogleApi(callback){
        window.googleAsyncInit = function() {
            libLoaded = true;
        };

        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "https://apis.google.com/js/client:platform.js?onload=googleAsyncInit";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'google-jssdk'));
    }

    function _statusChangeCallback(requestMode, response, callback) {
    }

    return{
        init: init,
        loginUser: loginUser,
        logoutUser: logoutUser,
        getNewWindow: getNewWindow
    };
})();
;
    var linkedinLoginService = linkedinLoginService = (function(){
    var loginStates = null;
    var requestModes = null;
    var initiated = false;
    var loginCallback;
    var newWindow;
    var baseUrl;
    var isSecured = true;

    function init(baseUrlObj ,loginStatesEnum, requestModesEnum, callback){
        if (initiated)
            return;

        initiated = true;
        baseUrl = baseUrlObj;
        loginStates = loginStatesEnum;
        requestModes = requestModesEnum;
        loginCallback = null;

        if (window.location.protocol.toLowerCase() != "https:" && (navigator.userAgent.indexOf("MSIE ") != -1 || navigator.userAgent.indexOf("Trident/") != -1 || navigator.userAgent.indexOf("Edge/") != -1)) {
            isSecured = false;
            baseUrl = baseUrl.replace("https://", "http://");
        }

        _initLinkedinApi(callback);
    }

    function loginUser(callback){
        var ie8Exists = "0";
        if (window.navigator && window.navigator.userAgent && (window.navigator.userAgent.toLowerCase().indexOf("msie ") != -1 || window.navigator.userAgent.toLowerCase().indexOf("trident") != -1))
            ie8Exists = "1";

        newWindow = window.open(baseUrl + "lwlga.action?au=" + ie8Exists + "&s=" + (isSecured?"1":"0") + '&r1=' + Math.random() + "&r2=" + Math.random(), "", "width=600, height=600");

//        if (typeof callback != "function")
//            return;
//
//        loginCallback = callback;
//
//        IN.Event.on(IN, "auth", _statusChangeCallback);
//        IN.UI.Authorize().place();
    }

    function logoutUser(callback){
        if (!initiated)
            return;

        try{
            IN.User.logout();
        }
        catch(err){

        }
    }

    function getNewWindow(){
        return newWindow;
    }

    function _initLinkedinApi(callback){
        window.onLinkedinLoaded = function() {
            initiated = true;
            IN.init({ api_key : "75qx7mhtlcl2m9", onLoad: "onLinkedinReady", authorize: true });
        };

        window.onLinkedinReady = function() {
//            if (typeof callback != "function")
//                return;
//
//            callback();
        };

        (function(d, s, id) {
            var js, lnjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "https://platform.linkedin.com/in.js?async=true";
            js.onload = js.onreadystatechange = function() {
                if ( !this.readyState || this.readyState === "loaded" || this.readyState === "complete" ) {
                    js.onload = js.onreadystatechange = null;

                    onLinkedinLoaded();
                }
            };
            lnjs.parentNode.insertBefore(js, lnjs);
        }(document, 'script', 'linkedin-jssdk'));
    }

    function _statusChangeCallback() {
        if (typeof loginCallback != "function" || !IN.ENV.auth.oauth_token || !IN.ENV.auth.member_id)
            return;

        loginCallback(IN.ENV.auth.member_id, IN.ENV.auth.oauth_token);

//        IN.ENV.auth.oauth_token
//        IN.ENV.auth.member_id
    }

    return{
        init: init,
        loginUser: loginUser,
        logoutUser: logoutUser,
        getNewWindow: getNewWindow
    };
})();
;
    var twitterLoginService = twitterLoginService = (function(){
    var loginStates = null;
    var requestModes = null;
    var initiated = false;
    var libLoaded = false;
    var newWindow;
    var baseUrl;
    var isSecured = true;

    function init(baseUrlObj, loginStatesEnum, requestModesEnum, callback){
        if (initiated)
            return;

        baseUrl = baseUrlObj;
        initiated = true;
        loginStates = loginStatesEnum;
        requestModes = requestModesEnum;


        if (window.location.protocol.toLowerCase() != "https:" && (navigator.userAgent.indexOf("MSIE ") != -1 || navigator.userAgent.indexOf("Trident/") != -1 || navigator.userAgent.indexOf("Edge/") != -1)) {
            isSecured = false;
            baseUrl = baseUrl.replace("https://", "http://");
        }
    }

    function loginUser(callback){
        var ie8Exists = "0";
        if (window.navigator && window.navigator.userAgent && (window.navigator.userAgent.toLowerCase().indexOf("msie ") != -1 || window.navigator.userAgent.toLowerCase().indexOf("trident") != -1))
            ie8Exists = "1";

        newWindow = window.open(baseUrl + "lwtga.action?au=" + ie8Exists + "&s=" + (isSecured?"1":"0") + "&r1=" + Math.random() + "&r2=" + Math.random() , "", "width=600, height=600");
    }

    function logoutUser(callback){

    }

    function getNewWindow(){
        return newWindow;
    }

    function _statusChangeCallback(requestMode, response, callback) {
    }

    return{
        init: init,
        loginUser: loginUser,
        logoutUser: logoutUser,
        getNewWindow: getNewWindow
    };
})();;
    var guidance = guidance = function(){
    var $, userStorageUtility, defaultLanguage = "en";
    var boxIds = {recordingHowTo: "recordingHowTo", textHowTo: "textHowTo", titleHowTo: "titleHowTo", loginHowTo: "loginHowTo"};
    var boxElements = {};
    var browsers = {chrome: 1, firefox: 2, ie: 3, other: 4};
    var cookiePrefix = "guidance_";
    var currentLanguage, jsonData;
    var enabled = false;

    function init(jQueryLibRef, userStorageUtilObj, guidanceText, displayBoxArray, selectedLanguageCode){
        if (!jQueryLibRef || !userStorageUtilObj)
            return;

        $ = jQueryLibRef;

        enabled = true;
        userStorageUtility = userStorageUtilObj;
        currentLanguage = null;
        jsonData = guidanceText;

        _setDefaults();

        _renderBoxes(displayBoxArray, selectedLanguageCode);


    }

    function _setDefaults(){
        var keys = Object.keys(boxIds);
        if (keys.length == 0)
            return;

        for (var keysIterator = 0; keysIterator < keys.length; keysIterator++){
            boxElements[keys[keysIterator]] = null;
        }
    }

    function _renderBoxes(displayBoxArray, selectedLanguageCode){
        if (!displayBoxArray || !(Object.prototype.toString.call( displayBoxArray ) === '[object Object]' ))
            return;

        if (!selectedLanguageCode || !jsonData[selectedLanguageCode])
            selectedLanguageCode = defaultLanguage;


        currentLanguage = selectedLanguageCode;

        var numberOfValidElements = _populateContainers(displayBoxArray);
        if (numberOfValidElements == 0)
            return;

        var template = $("#guidanceTemplate").val();
        var entryHTML, browser = _setBrowserType();

        $.each(boxElements, function(id, container){
            if (container == null)
                return;

            entryHTML = template;

            if (jsonData[selectedLanguageCode][id].browser_split){
                switch (browser){
                    case browsers.chrome:
                        entryHTML = entryHTML.replace("#TITLE#", jsonData[selectedLanguageCode][id].text.chrome_title);
                        entryHTML = entryHTML.replace("#BODY#", jsonData[selectedLanguageCode][id].text.chrome_message);
                        break;

                    case browsers.firefox:
                        entryHTML = entryHTML.replace("#TITLE#", jsonData[selectedLanguageCode][id].text.firefox_title);
                        entryHTML = entryHTML.replace("#BODY#", jsonData[selectedLanguageCode][id].text.firefox_message);
                        break;

                    case browsers.ie:
                        entryHTML = entryHTML.replace("#TITLE#", jsonData[selectedLanguageCode][id].text.ie_title);
                        entryHTML = entryHTML.replace("#BODY#", jsonData[selectedLanguageCode][id].text.ie_message);
                        break;

                    case browsers.other:
                        entryHTML = entryHTML.replace("#TITLE#", jsonData[selectedLanguageCode][id].text.title);
                        entryHTML = entryHTML.replace("#BODY#", jsonData[selectedLanguageCode][id].text.message);
                        break;
                }
            } else {
                entryHTML = entryHTML.replace("#TITLE#", jsonData[selectedLanguageCode][id].text.title);
                entryHTML = entryHTML.replace("#BODY#", jsonData[selectedLanguageCode][id].text.message);
            }

            entryHTML = entryHTML.replace("#STEP#", (jsonData[selectedLanguageCode][id].text.step + " " + jsonData[selectedLanguageCode][id].step_order + "/" + numberOfValidElements));
            entryHTML = entryHTML.replace("#BY#", jsonData[selectedLanguageCode][id].text.link);
            entryHTML = entryHTML.replace("#BY_LINK#", jsonData[selectedLanguageCode][id].link_click_url);

            container.append(entryHTML);
            _containerEvents(container);
        });

        $("body").on("click", function(e){
            closeAllBoxes();
        });


    }

    function _populateContainers(displayBoxArray){
        if (!displayBoxArray || !(Object.prototype.toString.call( displayBoxArray ) === '[object Object]' ))
            return 0;


        var numberOfValidElements = 0;
        $.each(displayBoxArray, function(key, value){
            if (Object.keys(boxIds).indexOf(key) == -1)
                return;

            numberOfValidElements++;

            boxElements[boxIds[key]] = value;
        });


        return numberOfValidElements;

    }

    function _setBrowserType(){
        var browser = browsers.other;

        if (navigator.userAgent){
            var userAgent = navigator.userAgent.toLowerCase();
            if ( userAgent.indexOf("chrome") != -1 )
                browser = browsers.chrome;
            else if ( userAgent.indexOf("firefox") != -1 )
                browser = browsers.firefox;
            else if ( userAgent.indexOf("msie") != -1 || userAgent.indexOf("trident") != -1)
                browser = browsers.ie;
        }

        return browser;

    }

    function _containerEvents(container){
        if (!container)
            return;

        container.find(".close-link").on("click", function(e){
            e.stopPropagation();
            $(this).parents(".user-guidance").fadeOut("fast", function(){
                $(this).addClass("invisible").css("display", "");
                $(this).parent().addClass("invisible");

                sendEvent("Product","guidance-close", "", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            });
        });

        container.on("click", function(e){
            e.stopPropagation();
        });

        container.find(".by-link").on("click", function(e){
            e.stopPropagation();
        });

    }

    function showBox(boxId, shouldAddValue){
        if (!enabled)
            return;

        if (!boxId || !boxElements[boxId] || !userStorageUtility || !$)
            return;

        closeAllBoxes();

        if (userStorageUtility.get(cookiePrefix + boxId) != userStorageUtility.noResultDefaultValue)
            return;

        if (shouldAddValue)
            userStorageUtility.set(cookiePrefix + boxId, "1", jsonData[currentLanguage][boxId].cookie_expiration);

        boxElements[boxId].removeClass("invisible").find(".user-guidance").css("display", "none").removeClass("invisible").fadeIn("fast");

        sendEvent("Product","guidance-impression-" + boxId, "", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
    }

    function getBoxIds(){
        return boxIds;
    }

    function closeAllBoxes(){
        if (!enabled)
            return;

        $(".user-guidance").fadeOut("fast", function(){
            $(this).addClass("invisible").css("display", "");
            $(this).parent().addClass("invisible");
        });
    }

    function setBoxViewed(boxId){
        if (!enabled)
            return;

        userStorageUtility.set(cookiePrefix + boxId, "1", jsonData[currentLanguage][boxId].cookie_expiration);
    }




    return {
        init: init,
        showBox: showBox,
        getBoxIds: getBoxIds,
        closeAllBoxes: closeAllBoxes,
        setBoxViewed: setBoxViewed
    };
}();

;
    var adsService = (function(){
    var $, userStorageUtil, JSONLib,affiliateDataUrl, affiliateId, statisticsService, categoryId, errorService, loadFileUtil, languagesService, pageUrl, pathToAdTemplate, pathToJMGAdTemplate, pathToComments, receiverUserInfoUrl, testGroup, isMobile;
    var shouldAffiliateSeeAds = false;
    var shouldUserSeeAds = null;
    var adNetworksArray = null;
    var userCountryCode = null;//"--";
    var commentJSONCookieName = "ads_data";
    var userCountryCookieName = "ads_uc";
    var geoIPRetries = 0;
    var approvedAffiliates;
    var currentAdNetworkIndex = null;
    var adsQueryTimeout = null;
    var engageyaGeoIps = "";//"IL";//"US,IL,RU";
    var getAdsCallback = null;
    var getAdsRequestedNumberOfAds = null;
    var numberOfCommentsWhichWouldBeDisplayed = 0;
    var adsResultsArray;
    var adHTMLTemplate;
    var jmgAdHTMLTemplate;
    var initialized = false;
    var wasAdsRenderProcedureStarted = false;
    var geoIPIframe = null;
    var JMGAffiliates = ";toidf;v1CDof2Ne4;JlbOY3wjh9;jalab524Df;toivj;atWvDMP1cE;VoK32pHVgJ;6ReLQcR2p4;";
    var isJMGAffiliate = false;
    var participatesInTest = false;
    var numberOfGeoCountryPendingTimeoutRequests = 0;


    function init(jQueryInput, userStorageUtilInput, JSONLibInput, affiliateDataUrlInput, affiliateIdInput, forceAds, categoryIdInput, statisticsServiceInput, errorServiceInput, loadFileUtilInput, languagesServiceInput, pageUrlInput, pathToAdTemplateInput, pathToJMGAdTemplateInput, pathToCommentsInput, receiverUserInfoUrlInput, testGroupInput, isMobileInput, ignoreWhitelabels){
        initialized = true;
        $ = jQueryInput;
        userStorageUtil = userStorageUtilInput;
        JSONLib = JSONLibInput;
        affiliateDataUrl = affiliateDataUrlInput;
        affiliateId = affiliateIdInput;
        categoryId = categoryIdInput;
        isMobile = isMobileInput;

        testGroup = parseInt(testGroupInput, 10);
//        if (!isNaN(testGroup) && testGroup < 500)
//            participatesInTest = true;

        statisticsService = statisticsServiceInput;
        errorService = errorServiceInput;
        loadFileUtil = loadFileUtilInput;
        languagesService = languagesServiceInput;

        pageUrl = pageUrlInput;
        pathToAdTemplate = pathToAdTemplateInput;
        pathToJMGAdTemplate = pathToJMGAdTemplateInput;
        pathToComments = pathToCommentsInput;

        receiverUserInfoUrl = receiverUserInfoUrlInput;

        adHTMLTemplate = $(pathToAdTemplate).val();
        jmgAdHTMLTemplate = $(pathToJMGAdTemplate).val();

	numberOfGeoCountryPendingTimeoutRequests = 0;

        userCountryCode = null;
        isJMGAffiliate = JMGAffiliates.indexOf(";" + affiliateId + ";") != -1;

        _populateAffiliateList();
        shouldAffiliateSeeAds = !ignoreWhitelabels && (isJMGAffiliate || forceAds || _shouldAffiliateSeeAds(affiliateId));


        if (isJMGAffiliate)
            _loadUserDetails();

        return;

        if (shouldAffiliateSeeAds){ //&& !isJMGAffiliate){
            adNetworksArray = [];
            adNetworksArray.push(mgidAdNetwork);
//            adNetworksArray.push(engageyaAdNetwork);

            var result = _initAdNetworks();
            if (result) {
                currentAdNetworkIndex = 0;
  //              _loadUserDetails();
            } else {
                shouldAffiliateSeeAds = false;
                shouldUserSeeAds = false;
            }

        }
    }

    function _initAdNetworks(){
        if (adNetworksArray == null || !(Object.prototype.toString.call( adNetworksArray ) === '[object Array]' ) || adNetworksArray.length == 0){
            statisticsService.report("ads-service-error-no-ad-networks-found");
            return false;
        }

        for(var adNetworksIterator = 0; adNetworksIterator < adNetworksArray.length; adNetworksIterator++){
            adNetworksArray[adNetworksIterator].init($, JSONLib, loadFileUtil, affiliateId, categoryId, pageUrl, statisticsService);
        }

        return true;
    }

    function _loadUserDetails(){
        userCountryCode = userStorageUtil.get(userCountryCookieName);
        if (userCountryCode != userStorageUtil.noResultDefaultValue){
            // setAdsNetworksOrder(userCountryCode);
            return;
        }

        userCountryCode = null;

//        window.adsgips =  _geoIPSuccess;
//        window.adsgipe =  _geoIPError;
//
//        geoIPIframe = document.createElement("iframe");
//        geoIPIframe.style.position =  'absolute';
//        geoIPIframe.style.width = '1px';
//        geoIPIframe.style.height = '1px';
//        geoIPIframe.style.top = '0';
//        geoIPIframe.style.left = '0';
//        geoIPIframe.style.visibility = 'hidden';
//        document.body.appendChild(geoIPIframe);
//
//
//        var iframeContentObj = geoIPIframe.contentWindow || geoIPIframe.contentDocument;
//        iframeContentObj.document.open();
//        iframeContentObj.document.write('<!DOCTYPE html><html><head>');
//        iframeContentObj.document.write('<script type="text/javascript">var successCallback = parent.adsgips; var errorCallback = parent.adsgipe; parent = opener = top = null;</s'+'cript>');
//        iframeContentObj.document.write('<script src="//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js" type="text/javascript"></s'+'cript>');
//        iframeContentObj.document.write('<script type="text/javascript">function getCountry(){debugger; geoip2.country( successCallback, errorCallback ); }</s'+'cript>');
//        iframeContentObj.document.write('</head><body onload="getCountry();"></body></html>');
//        iframeContentObj.document.close();


        $.ajax({
            url: receiverUserInfoUrl,
            jsonpCallback : "gadgeocallback",
            dataType: "jsonp",
            cache: false,
            success: function( result ) {
                if (!result || !result.countryCode || result.countryCode == "--"){
                    userCountryCode = userStorageUtil.noResultDefaultValue;
                    statisticsService.report("ads-service-error-geoip-success-failed");
                    return;
                }

                userCountryCode = result.countryCode.toUpperCase();
                userStorageUtil.set(userCountryCookieName, userCountryCode, 30 * 24 * 60 * 60 * 1000);

                //setAdsNetworksOrder(userCountryCode);
            },
            error: function(){
                _geoIPError("Failed to load");
            }

        });





//        geoip2.country( _geoIPSuccess, _geoIPError )

        ;//function(geoipResponse){console.log("success"), console.log(geoipResponse)}, function(error){console.log("error"), console.log(error)} );
    }

//    function _geoIPSuccess(geoipResponse){
//        if (!geoipResponse || !geoipResponse.country || !geoipResponse.country.iso_code){
//            statisticsService.report("ads-service-error-geoip-success-failed");
//            _geoIPRetry();
//            return;
//        }
//
//        userCountryCode = geoipResponse.country.iso_code.toUpperCase();
//        userStorageUtil.set(userCountryCookieName, userCountryCode, 30 * 24 * 60 * 60 * 1000);
//
//        setAdsNetworksOrder(userCountryCode);
//    }

    function setAdsNetworksOrder(userCountryCode){
        return;
        if (("," + engageyaGeoIps + ",").indexOf("," + userCountryCode + ",") != -1){
            adNetworksArray = [];
            adNetworksArray.push(engageyaAdNetwork);
            adNetworksArray.push(mgidAdNetwork);
        }
    }

    function _geoIPError(geoipError){
        errorService.reportError("ads-service-error-geoip-error", "ads-service-error-geoip-error", geoipError);

        _geoIPRetry();
    }

    function _geoIPRetry(){
        if (geoIPRetries >= 3) {
            userCountryCode = userStorageUtil.noResultDefaultValue;
            return;
        }

        geoIPRetries++;

        statisticsService.report("ads-service-error-geoip-retry");

        setTimeout(function(){
            _loadUserDetails();
        }, 100);

    }


    function _populateAffiliateList(){
        approvedAffiliates = [];
        approvedAffiliates["mgid"] = true;
        // approvedAffiliates["itzhakshilo"] = true;
    }

    function _shouldAffiliateSeeAds(affiliateId){
        return (approvedAffiliates && approvedAffiliates[affiliateId] != undefined);
    }


    function getAds(numberOfComments, callback, externalNumberOfAds){
        if (!shouldAffiliateSeeAds || (shouldUserSeeAds != null && !shouldUserSeeAds) || isNaN(numberOfComments) || parseInt(numberOfComments, 10) < 0 || !Object.prototype.toString.call( callback ) === '[object Function]' ){
            if (Object.prototype.toString.call( callback ) === '[object Function]')
                callback(null);

            return;
        }

        numberOfCommentsWhichWouldBeDisplayed = numberOfComments;

        if (currentAdNetworkIndex == 0)
            adsResultsArray = [];

        if (shouldUserSeeAds == null)
            shouldUserSeeAds = shouldDisplayAds(numberOfComments);

        if (!shouldUserSeeAds){
            _updateAffiliateImpression();
            callback(null);

            return;
        }

        var numberOfAds;
        if (!externalNumberOfAds){
            if (numberOfComments < 4)
                numberOfAds = 1;
            else if (numberOfComments < 7)
                numberOfAds = 2;
            else if (numberOfComments < 10)
                numberOfAds = 3;
            else
                numberOfAds = 4;

            //statisticsService.report("ads-service-requested-" + numberOfAds);
        } else
            numberOfAds = externalNumberOfAds;


        getAdsCallback = callback;
        getAdsRequestedNumberOfAds = numberOfAds;

        // if (!participatesInTest){
        //     adNetworksArray[currentAdNetworkIndex].getAdsOutput(numberOfAds, _adNetworkGetAdsCallback);
        //     adsQueryTimeout = setTimeout(_getAdsFailed, 5000);
        // } else {
            _renderMGIDTagAds(numberOfAds, numberOfComments);
        // }

    }

    function _adNetworkGetAdsCallback(adsObject){
        if (!adsObject || !Object.prototype.toString.call( adsObject ) === '[object Object]' || !adsObject.name || (!Object.prototype.toString.call( adsObject.ads ) === '[object Array]') || adsObject.ads == null || adsObject.ads.length == 0){
            clearTimeout(adsQueryTimeout);
            adsQueryTimeout = null;

            statisticsService.report("ads-service-response-empty-if");

            if (currentAdNetworkIndex != (adNetworksArray.length - 1) ){
                currentAdNetworkIndex++;
                getAds( ( getAdsRequestedNumberOfAds - adsResultsArray.length ), getAdsCallback, ( getAdsRequestedNumberOfAds - adsResultsArray.length ));
            } else
                _adNetworkGetAdsCallbackRenderAds();

            return;
        }

        if (adNetworksArray[currentAdNetworkIndex].getAdNetworkName() != adsObject.name || wasAdsRenderProcedureStarted)
            return;

        clearTimeout(adsQueryTimeout);
        adsQueryTimeout = null;

        adsResultsArray = adsResultsArray.concat(adsObject.ads);

        if ( getAdsRequestedNumberOfAds - adsResultsArray.length == 0  || currentAdNetworkIndex == (adNetworksArray.length - 1) ){
            _adNetworkGetAdsCallbackRenderAds();
            return;
        }

        currentAdNetworkIndex++;
        getAds( ( getAdsRequestedNumberOfAds - adsResultsArray.length ), getAdsCallback, ( getAdsRequestedNumberOfAds - adsResultsArray.length ));
    }

    function _adNetworkGetAdsCallbackRenderAds(){
        wasAdsRenderProcedureStarted = true;

        if (adsResultsArray.length > 0){
            if ($(pathToComments).length == 0)
                _updateAffiliateImpression();

            statisticsService.report("ads-service-response-" + adsResultsArray.length);
            _renderAds(adsResultsArray);
        } else {
            adsResultsArray = null;
            statisticsService.report("ads-service-response-empty");
        }

        getAdsCallback(adsResultsArray);

    }

    function _getAdsFailed(){
        clearTimeout(adsQueryTimeout);
        adsQueryTimeout = null;

        errorService.reportError("ads-service-error-failed-to-load-ads", "ads-service-error-failed-to-load-ads", "adNetwork is " + adNetworksArray[currentAdNetworkIndex].getAdNetworkName());

        if (currentAdNetworkIndex == (adNetworksArray.length - 1) ){
            statisticsService.report("ads-service-error-failed-to-load-all-ad-networks");
            getAdsCallback(null);
            return;
        }

        currentAdNetworkIndex++;
        getAds(getAdsRequestedNumberOfAds, getAdsCallback, getAdsRequestedNumberOfAds);
    }

    function _renderAds(adsObject){
        if (!(Object.prototype.toString.call( adsObject ) === '[object Array]' ) || adsObject.length == 0) {
            statisticsService.report("ads-service-error-adsObject-empty");
            return;
        }

        var commentsArray = $(pathToComments);
        var adOutput, duplicateReported = participatesInTest?true:false;
        var numberOfAdsPlaced = 0;
        var titlesCombined = ";seperator;";

        for(var adsIterator = 0; adsIterator < adsObject.length; adsIterator++){
            if (!duplicateReported && titlesCombined.indexOf(";seperator;" + adsObject[adsIterator].title + ";seperator;") != -1) {
                duplicateReported = true;
                statisticsService.report("ads-service-duplicate-ads-found");
            } else
                titlesCombined += adsObject[adsIterator].title + ";seperator;";

            adOutput = _renderAd(adsObject[adsIterator]);

            if (adOutput != null){
                /*if (!isMobile && userCountryCode != "IL" && (adsObject.length - 1) == adsIterator) {
                    if (commentsArray.length > 0)
                        _enterAdToLocation($(commentsArray[commentsArray.length - 1]), adOutput);
                    else
                        $(".types-list").after(adOutput);

                    continue;
                }*/

                switch (numberOfAdsPlaced){
                    case 0:
                        if (commentsArray.length > 0)
                            _enterAdToLocation($(commentsArray[0]), adOutput);
                        else {
                            $(".types-list").after(adOutput);
                        }
                        break;

                    case 1:
                        if (commentsArray.length >= 4)
                            _enterAdToLocation($(commentsArray[3]), adOutput);
                        break;

                    case 2:
                        if (commentsArray.length >= 7)
                            _enterAdToLocation($(commentsArray[6]), adOutput);
                        break;

                    case 3:
                        if (commentsArray.length >= 10)
                            _enterAdToLocation($(commentsArray[9]), adOutput);
                        break;
                }

                numberOfAdsPlaced++;
            }
        }

        languagesService.setObjectLanguage($(".block.review.ade"));

        _bindAdEvents();


    }

    function _enterAdToLocation(commentObj, adOutput){
        if (!commentObj || commentObj.length == 0 || !adOutput)
            return;

        if (!commentObj.hasClass("comment-sub")) {
            if (commentObj.find(".comment-sub").length == 0)
                commentObj.parent().after(adOutput);
            else {
                commentObj.find("footer:first").after(adOutput);
                commentObj.find(".ade").addClass("inner");
            }

            return;
        }

        if (commentObj.parent().find(".comment-sub:last-child").attr("cid") == commentObj.attr("cid")){
            commentObj.parent().parent().after(adOutput);
            return;
        }

        commentObj.find("footer:first").after(adOutput);
        commentObj.find(".ade").addClass("inner");
    }


    function _renderAd(adEntry){
        if (!adEntry)
            return null;

// //        if (!isJMGAffiliate)
//        if (!participatesInTest)
//             return adHTMLTemplate.replace(/#DISPLAY_NAME#/g, (adEntry.displayName)?adEntry.displayName:"").replace("#MINUS_SIGN_VISIBILITY#", (adEntry.displayName)?"":"invisible").replace(/#TITLE#/g, adEntry.title).replace(/#DESCRIPTION#/g, (adEntry.description?adEntry.description:"")).replace(/#DESCRIPTION_VISIBLE#/g, (adEntry.description?"":"invisible")).replace(/#THUMBNAIL#/g, adEntry.thumbnail).replace(/#CLICK_URL#/g, adEntry.clickUrl);
//        else
       return jmgAdHTMLTemplate.replace("#FILE_NUMBER#", adEntry.adFile)
                               .replace("#NUMBER#", adEntry.number)
                               .replace("#AFFILIATE_ID#", adEntry.affiliateId)
                               .replace("#FILE_EXTENSION#", adEntry.fileExtension)
                               .replace("#PAGE_URL#", encodeURIComponent(pageUrl))
                               .replace("#WIDTH#", adEntry.width)
                               .replace("#HEIGHT#", adEntry.height)
                               .replace("#RND#", Math.random());
    }

    function _renderJMGAds(numberOfAds){
        if ($(pathToComments).length == 0)
            _updateAffiliateImpression();

        statisticsService.report("display-jmg-" + numberOfAds.toString());

        var adsArray = [];
        var adsObject;
        for (var adsIterator = 0; adsIterator < numberOfAds; adsIterator++){
            adsObject = {};
            adsObject.affiliateId = affiliateId;
            adsObject.number = adsIterator+1;
            adsArray.push(adsObject);
        }

        _renderAds(adsArray);
    }

    function _renderMGIDTagAds(numberOfAds, numberOfComments){
        if ($(pathToComments).length == 0)
            _updateAffiliateImpression();

        if (adsQueryTimeout != null) {
            clearTimeout(adsQueryTimeout);
            adsQueryTimeout = null;
        }

        if (userCountryCode == null && isJMGAffiliate){
            if (numberOfGeoCountryPendingTimeoutRequests < 20) {
                numberOfGeoCountryPendingTimeoutRequests++;
                //statisticsService.report("ads-service-waiting-for-country");
                adsQueryTimeout = setTimeout(function () {
                    _renderMGIDTagAds(numberOfAds, numberOfComments);
                }, 300);
                return;
            } else
                userCountryCode = userStorageUtil.noResultDefaultValue;


            //statisticsService.report("ads-service-waiting-for-country");
            //adsQueryTimeout = setTimeout(function(){ _renderMGIDTagAds(numberOfAds); }, 100);
            //return;
        }

        statisticsService.report("ads-service-response-" + numberOfAds.toString());

        var adsArray = [];
        var adsObject;

        /*if (numberOfComments <= 1 && numberOfAds == 1 && !isMobile && userCountryCode != "IL"){
            adsObject = {};
            adsObject.affiliateId  = affiliateId;
            adsObject.adFile = "sknd";
            adsObject.number = "int";
            adsObject.fileExtension = "jsp";
            adsObject.width = "400";
            adsObject.height = "300";

            adsArray.push(adsObject);

        } else {*/

//        if (userCountryCode != "IL" && affiliateId != "yhGCard6ll" && affiliateId != "OuyCyazAq5" && affiliateId != "toivj")
//            return;

        var useYepmedia = false;//((Math.random() * 100) < 10 && userCountryCode != "IL");
        var useSublime = false;//((Math.random() * 100) < 10 && userCountryCode != "IL" && ( affiliateId == "v1CDof2Ne4" || affiliateId == "toivj" || affiliateId == "JlbOY3wjh9"  ) );
        var useAdsTerra = false;//((Math.random() * 100) < 50 && userCountryCode != "IL");
        var useConnatix = false;//userCountryCode != "IL";
        var useHiroMedia = false; //userCountryCode != "IL";
        var useTimMedia = false;

        if (userCountryCode != "IL") {
            //if (!isMobile && Math.random() * 100 < 10)
            //    useHiroMedia = true;
            //else
                useConnatix = true;

	    if (affiliateId == "yhGCard6ll"){
		useHiroMedia = false;
                useConnatix = true;
	    }
        }

        if (affiliateId == "GFOGExAnIf") {
            useConnatix = true;
            useHiroMedia = false;
        }

        if (
                affiliateId == "FWi7KG2Al4" ||
                affiliateId == "rRh4LhiV1H" ||
                affiliateId == "O3Li8CD70b" ||
                affiliateId == "Ru1SHkqyBh" ||
                affiliateId == "c4blvnwTGk" ||
                affiliateId == "DLFl0unAJW" ||
                affiliateId == "6ezXSjK0qn"
            ){

            if ( (pageUrl.toLowerCase().indexOf("heyoya.net") != -1 || pageUrl.toLowerCase().indexOf("heyoya.com") != -1) && pageUrl.toLowerCase().indexOf("/tim/") == -1){
                getAdsCallback(adsArray);
                return;
            }

            useTimMedia = true;
            useConnatix = false;
            useHiroMedia = false;
        }


        for (var adsIterator = 0; adsIterator < numberOfAds; adsIterator++){
            //if (!isJMGAffiliate && affiliateId != "7X7t6IrHVe" && affiliateId != "a9DZRcxeWe" && affiliateId != "WFv7EE24tm" && affiliateId != "8F2QmfNDzd" && affiliateId != "dp47IJ3qMj" && affiliateId != "Ik9GoFS2NS" && affiliateId != "ZuE5uGZ37e" && affiliateId != "BP1XIlUlio" && affiliateId != "gL2qI0DVPz" && affiliateId != "ZeipyaYeU8" && adsIterator > 1)
            //    continue;

            if (useTimMedia){
                adsObject = {};
                adsObject.affiliateId  = affiliateId;
                adsObject.adFile = "tim";
                adsObject.number = "int";
                adsObject.fileExtension = "jsp";
                adsObject.width = "400";
                adsObject.height = "255";

                adsArray.push(adsObject);
                continue;
            }

            if (useHiroMedia){
                adsObject = {};
                adsObject.affiliateId  = affiliateId;
                adsObject.adFile = "hiromedia";
                adsObject.number = "int";	
                adsObject.fileExtension = "jsp";
                adsObject.width = "400";
                adsObject.height = "225";

                if (isMobile) {
                    adsObject.number += "_m";
                    // adsObject.width = "300";
                    // adsObject.height = "250";
                }

                adsArray.push(adsObject);
                continue;
            }


            if (useConnatix){
                adsObject = {};
                adsObject.affiliateId  = (pageUrl && pageUrl.toLowerCase().indexOf("7kanal.co.il") == -1 && pageUrl.toLowerCase().indexOf("loc=7kanal") == -1)?affiliateId:"PljV4tMsfp";
                adsObject.adFile = adsObject.affiliateId;
                adsObject.number = "connatix_int";
                adsObject.fileExtension = "html";
                adsObject.width = "400";
                adsObject.height = "225";

                /*if (isMobile) {
                    adsObject.width = "300";
                    adsObject.height = "250";
                }*/

                adsArray.push(adsObject);
                continue;
            }


            if (useAdsTerra){
                adsObject = {};
                adsObject.affiliateId  = (pageUrl && pageUrl.indexOf("7kanal.co.il") == -1)?affiliateId:"PljV4tMsfp";
                adsObject.adFile = adsObject.affiliateId;
                adsObject.number = "astra_int";
                adsObject.fileExtension = "html";
                adsObject.width = "300";
                adsObject.height = "250";

                if (isMobile) {
                    adsObject.number += "_m";
                    adsObject.height = "50";
                }

                adsArray.push(adsObject);
                continue;
            }


            if (useSublime){
                adsObject = {};
                adsObject.affiliateId  = affiliateId;
                adsObject.adFile = adsObject.affiliateId;
                adsObject.number = "sublime_int";
                adsObject.fileExtension = "html";
                adsObject.width = "300";
                adsObject.height = "250";

                adsArray.push(adsObject);
                continue;
            }

            if (useYepmedia){
                adsObject = {};
                adsObject.affiliateId  = (pageUrl && pageUrl.indexOf("7kanal.co.il") == -1)?affiliateId:"PljV4tMsfp";
                adsObject.adFile = adsObject.affiliateId;
                adsObject.number = "yepmedia_int";
                adsObject.fileExtension = "jsp";
                adsObject.width = "300";
                adsObject.height = "250";

                adsArray.push(adsObject);
                continue;
            }

            if (!isMobile && userCountryCode != "IL" && (numberOfAds - 1) == adsIterator){
                adsObject = {};
                adsObject.affiliateId  = affiliateId;
                adsObject.adFile = "sknd";
                adsObject.number = "int";
                adsObject.fileExtension = "jsp";
                adsObject.width = "400";
                adsObject.height = "229";

                adsArray.push(adsObject);
                continue;
            }

            adsObject = {};
            adsObject.affiliateId  = affiliateId;
            adsObject.adFile = affiliateId;
            adsObject.fileExtension = "html";

            if (pageUrl && pageUrl.indexOf("7kanal.co.il") != -1)
                adsObject.adFile += "_ru";

            adsObject.width = "300";
            adsObject.height = "250";

            if (affiliateId == "8F2QmfNDzd" || affiliateId == "BP1XIlUlio" || affiliateId == "yhGCard6ll" || affiliateId == "4OHYhgkjnT") {
		adsObject.fileExtension = "jsp";
                adsObject.number = "sknd_int";
                if (isMobile)
                    adsObject.number += "_m";
            } else if (affiliateId == "ZeipyaYeU8" || affiliateId == "v98mk2DiqO" || affiliateId == "MsIvkOuR4x" || affiliateId == "WnGyGyu1oY" || affiliateId == "7SnwFUkQCH") {
                adsObject.fileExtension = "html";
                adsObject.number = "wm";
                if (isMobile) {
                    adsObject.number += "_m";
                    if (affiliateId == "WnGyGyu1oY"){
                        adsObject.width = "320";
                        adsObject.height = "70";
                    }
                }
            } else if (!isJMGAffiliate && (affiliateId == "dp47IJ3qMj" || affiliateId == "Ik9GoFS2NS" || affiliateId == "ZuE5uGZ37e")){
                adsObject.fileExtension = "html";
                adsObject.number = "am";
                if (isMobile)
                    adsObject.number += "_m";
	    } else if (!isJMGAffiliate && affiliateId != "7X7t6IrHVe" && affiliateId != "gL2qI0DVPz" && affiliateId != "a9DZRcxeWe" && affiliateId != "WFv7EE24tm" && affiliateId != "MLQfJE8CLq" && affiliateId != "vYMu56ooZa") {
                adsObject.number = 300;
                //if (participatesInTest)
                //    adsObject.number = "mn";
            } else if (!isJMGAffiliate){
                adsObject.fileExtension = "jsp";
                adsObject.number = "sknd_int";
                if (isMobile)
                    adsObject.number += "_m";

            } else {
                //on tg we're displaying the new network
                // if (!participatesInTest && !isMobile && adsIterator < 2)
                //     adsObject.number = 300;
                // else {                
                    adsObject.fileExtension = "jsp";

                    if (userCountryCode != "IL")
                        adsObject.number = "sknd_int";
                    else {
                        adsObject.number = "sknd_il";
//                        adsObject.fileExtension = "html";
                    }


                    //if (!isMobile && participatesInTest && userCountryCode != "IL" && (adsObject.adFile == "v1CDof2Ne4" || adsObject.adFile == "JlbOY3wjh9" || adsObject.adFile == "toivj")) {
                    //    adsObject.number += "_tg";
                    //    adsObject.width = "310";
                    //    adsObject.height = "260";
                    //}

                    if (isMobile)
                        adsObject.number += "_m";
                // }
            }

            if (!isMobile && adsObject.number.indexOf("sknd_int") != -1 && (affiliateId == "yhGCard6ll" || affiliateId == "4OHYhgkjnT" || affiliateId == "v1CDof2Ne4")){
                adsObject.width = 350;
                adsObject.number += "_350";
            }

            adsArray.push(adsObject);
        }
	//}

        _renderAds(adsArray);
        getAdsCallback(adsArray);
    }


    function _bindAdEvents(){
        return;

        $('.block.review.ade').off("click").on('click', function() {
            window.open($(this).find(".click-url").text());
            statisticsService.report("ads-service-ad-click");
        });

        $('.block.review.ade').hover(function() {
            statisticsService.report("ads-service-ad-hover-in");
        },function() {
            statisticsService.report("ads-service-ad-hover-out");
        });
    }

    function shouldDisplayAds(numberOfComments, updateDisplayCookie){
        if ( isNaN(numberOfComments) || numberOfComments < 0)
            return false;

        if (numberOfComments == 0){
            return true;
            // var history = userStorageUtil.get(commentJSONCookieName);
            //
            // if (history == userStorageUtil.noResultDefaultValue)
            //     return true;
            //
            // var result = _isTimeFrameAllowsToShowAds(history);
            // if (!result && updateDisplayCookie)
            //     _updateAffiliateImpression();
            //
            // return result;
        }

        return true;
    }

    function _updateAffiliateImpression(){
        if (!affiliateId)
            return;

        var history;
        var historyString = userStorageUtil.get(commentJSONCookieName);
        if (historyString == userStorageUtil.noResultDefaultValue)
            history = {};
        else{
            try{
                history = $.parseJSON(historyString);
            }
            catch (err){
                history = {};
            }
        }

        if (history[affiliateId] == undefined || history[affiliateId] == null)
           history[affiliateId] = 1;
        else if (history[affiliateId] == 1)
           history[affiliateId] = 0;
        else
           history[affiliateId] = 1;

        userStorageUtil.set(commentJSONCookieName, JSONLib.toString(history), 3 * 365 * 24 * 60 * 60 * 1000);
    }


    function _isTimeFrameAllowsToShowAds(historyString){
        if (historyString == null || historyString == undefined)
            return true;

        var history;

        try{
            history = $.parseJSON(historyString);
        }
        catch (err){
            history = null;
        }

        if (history == null)
            return false;

        if (history[affiliateId] == null || history[affiliateId] == undefined)
            return true;

        return ( history[affiliateId] == 0 );
    }

    function wasInitialized(){
        return initialized;
    }

    function shouldAffiliateDisplayAds(){
        return shouldAffiliateSeeAds;
    }

    function isAffiliateJMGAffiliate(affiliateId){
        return isJMGAffiliate || (affiliateId && JMGAffiliates.indexOf(";" + affiliateId + ";") != -1);
    }

//    var mgidAdNetwork = ;
    var mgidAdNetwork = (function(){
    var adNetworkName = "mgid";
    var $, JSONLib, loadFileUtil, statisticsService, affiliateId, heyoyaCategoryId, pageUrl;
    var adNetworkURL = "https://ac-gb.mgid.com/u5526023/1?content_type=js&src_id=#AFFILIATE_ID#&cn=#NUMBER_OF_ADS#&categories=1,2,3,4,5,7,8,9,10,11,14,15,16,18,19,21,22,23,24,25,26,27,28,29,30,31,32,33,34,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55";
    var getAdsCallback = null;
    var categories = null;
    var categoriesDefaultString = null;

    function init(jQueryObj, JSONLibInput, loadFileUtilInput, affiliateIdInput, categoryIdInput, pageUrlInput, statisticsServiceInput){
        $ = jQueryObj;
        JSONLib = JSONLibInput;
        loadFileUtil = loadFileUtilInput;
        statisticsService = statisticsServiceInput;
        affiliateId = affiliateIdInput;

        if (categoryIdInput && !isNaN(categoryIdInput))
            heyoyaCategoryId = parseInt(categoryIdInput, 10);
        else
            heyoyaCategoryId = null;


        if (pageUrlInput)
            pageUrl = pageUrlInput;
        else
            pageUrl = null;


        window._mgqp = _gotResponse;

        _populateCategories();
    }

    function _populateCategories(){

        categories = [];

        categories[1] = "1";//	Home
        categories[2] = "2";//	Electronics
        categories[3] = "3,14";//	Fashion
        categories[4] = "5,21,23";//	Sport
        categories[5] = "4";//	Gifts
        categories[6] = "7,6,11,19";//	Internet
        categories[7] = "9";//	Services
        categories[8] = "10";//	Travelling
        categories[9] = "16";//	Auto
        categories[10] = "15";//	for kids


        categories[100] = "25";//		Celebrity
        categories[101] = "26,39";//		Fashion
        categories[102] = "27,28";//		Technology
        categories[103] = "29";//		Home & Garden
        categories[104] = "31";//		Humor
        categories[105] = "33";//		Sports
        categories[106] = "34";//		Travel
        categories[107] = "37";//		Animals
        categories[108] = "38";//		Automotive
        categories[109] = "41";//		News
        categories[110] = "40";//		Business
        categories[111] = "45";//		Family & Parenting
        categories[112] = "46";//		Food & drink
        categories[113] = "49";//		Hobbies & Interests
        categories[114] = "50";//		Politics, Law & government
        categories[115] = "42,51,52,53,56";//		Art
        categories[116] = "54";//		Real estate


        categoriesDefaultString = "1,2,3,14,5,21,23,4,7,6,11,19,9,10,16,15,25,26,39,27,28,29,31,33,34,37,38,41,40,45,46,49,50,42,51,52,53,56,54";
//        Content
//        24 Amazing
//        30 Exercise
//        32 Society
//        43 Careers
//        44 Education
//        47 Health
//        48 Nutrition
//        54 Real Estate
//        55 Science

//        Product
//        6 Relationship & pick up
//        13 Gambling
//        17 Misc
//        18 Finance
//        20 Dating
//        22 Health and Beauty





    }

    function getAdsOutput(numberOfAds, callback){
        if (isNaN(numberOfAds) || parseInt(numberOfAds, 10) <= 0 || !Object.prototype.toString.call( callback ) === '[object Function]'){
            if(Object.prototype.toString.call( callback ) === '[object Function]'){
                var response = {};
                response.name = adNetworkName;
                response.ads = null;

                statisticsService.report("ads-service-error-mgid-input-fields-missing");

                callback(response);

            }


            return;
        }

        getAdsCallback = callback;

        var websiteCategories = categoriesDefaultString;
        if (categories[heyoyaCategoryId] != undefined)
            websiteCategories = categories[heyoyaCategoryId];

        loadFileUtil.loadFile(loadFileUtil.urlTypes.script, adNetworkURL.replace("#AFFILIATE_ID#", affiliateId).replace("#CATEGORIES#", websiteCategories).replace("#NUMBER_OF_ADS#", numberOfAds));
    }

    function getAdNetworkName(){
        return adNetworkName;
    }

    function _gotResponse(){
        if (!_mgq || !(Object.prototype.toString.call( _mgq ) === '[object Array]' ) || _mgq.length == 0 || !(Object.prototype.toString.call( _mgq[0] ) === '[object Array]' ) || _mgq[0].length == 0 || !(Object.prototype.toString.call( _mgq[0][1] ) === '[object Array]' ) || _mgq[0][1].length == 0 ){
            statisticsService.report("ads-service-error-mgid-empty-or-invalid-response");
            if (getAdsCallback != null){
                var response = {};
                response.name = adNetworkName;
                response.ads = null;

                getAdsCallback(response);
            }

            return;
        }

        var adEntry,response = {};
        response.name = adNetworkName;
        response.ads = []
        for (var adsIterator = 0; adsIterator < _mgq[0][1].length; adsIterator++){
            if (!_mgq[0][1][adsIterator][3] || !_mgq[0][1][adsIterator][10] || !_mgq[0][1][adsIterator][10].i || !_mgq[0][1][adsIterator][10].l){
                //!_mgq[0][1][adsIterator][0] || 
                //|| !_mgq[0][1][adsIterator][4]
                if (!isNaN(_mgq[0][1][adsIterator][1]))
                    statisticsService.report("ads-service-error-mgid-invalid-ad-unit", {"commentId": _mgq[0][1][adsIterator][1]});
                else
                    statisticsService.report("ads-service-error-mgid-invalid-ad-unit");
                continue;
	        }

            adEntry = {};
            adEntry.displayName = (_mgq[0][1][adsIterator][0]?_mgq[0][1][adsIterator][0]:null);
            adEntry.title = _mgq[0][1][adsIterator][3];
            adEntry.description = (_mgq[0][1][adsIterator][4]?_mgq[0][1][adsIterator][4]:null);
            adEntry.thumbnail = _mgq[0][1][adsIterator][10].i;
            adEntry.clickUrl = _mgq[0][1][adsIterator][10].l;

            response.ads.push(adEntry);
        }

        if (response.ads.length == 0)
            response.ads = null;

        getAdsCallback(response);
    }


    return{
        init: init,
        getAdsOutput:getAdsOutput,
        getAdNetworkName: getAdNetworkName
    };
}());
;
    var engageyaAdNetwork = (function(){
    var adNetworkName = "engageya";
    var $, JSONLib, loadFileUtil, statisticsService, affiliateId, heyoyaCategoryId, pageUrl = null;
    var adNetworkURL = "https://ext1-api.engageya.com/gas-api/feed.json?thumbnail_size=3&cb=#CALLBACK_FUNCTION#&pid=LTEsMTYyNDk5LDEyMzkxNSw4NDc3Nw==&format=json&action=ext&url=#PAGE_URL#&is_xpath=0&count=#NUMBER_OF_ADS#&sub_id=#AFFILIATE_ID#";
    var getAdsCallback = null;

    function init(jQueryObj, JSONLibInput, loadFileUtilInput, affiliateIdInput, categoryIdInput, pageUrlInput, statisticsServiceInput){
        $ = jQueryObj;
        JSONLib = JSONLibInput;
        loadFileUtil = loadFileUtilInput;
        statisticsService = statisticsServiceInput;
        affiliateId = affiliateIdInput;

        if (pageUrlInput)
            pageUrl = pageUrlInput;
        else
            pageUrl = null;

        if (categoryIdInput && !isNaN(categoryIdInput))
            heyoyaCategoryId = parseInt(categoryIdInput, 10);
        else
            heyoyaCategoryId = null;


        window.hgar = _gotResponse;
    }

    function getAdsOutput(numberOfAds, callback){
        if (isNaN(numberOfAds) || parseInt(numberOfAds, 10) <= 0 || !Object.prototype.toString.call( callback ) === '[object Function]'){
            if(Object.prototype.toString.call( callback ) === '[object Function]'){
                var response = {};
                response.name = adNetworkName;
                response.ads = null;

                callback(response);
            }

            return;
        }

        getAdsCallback = callback;

        loadFileUtil.loadFile(loadFileUtil.urlTypes.script, adNetworkURL.replace("#AFFILIATE_ID#", affiliateId).replace("#CALLBACK_FUNCTION#", "hgar").replace("#PAGE_URL#", pageUrl).replace("#NUMBER_OF_ADS#", numberOfAds));
    }

    function getAdNetworkName(){
        return adNetworkName;
    }

    function _gotResponse(adsResponse){
        if (!(Object.prototype.toString.call( adsResponse ) === '[object Object]' ) || !adsResponse.recs || !(Object.prototype.toString.call( adsResponse.recs ) === '[object Array]' ) || adsResponse.recs.length == 0){
            if (getAdsCallback != null){
                var response = {};
                response.name = adNetworkName;
                response.ads = null;

                getAdsCallback(response);
            }

            return;
        }

        var adEntry,response = {};
        response.name = adNetworkName;
        response.ads = []
        for (var adsIterator = 0; adsIterator < adsResponse.recs.length; adsIterator++){

            if (!adsResponse.recs[adsIterator].title || !adsResponse.recs[adsIterator].displayName || !adsResponse.recs[adsIterator].clickUrl || !adsResponse.recs[adsIterator].thumbnail_path )
                continue;

            adEntry = {};
            adEntry.displayName = adsResponse.recs[adsIterator].displayName;
            adEntry.title = adsResponse.recs[adsIterator].title;
            adEntry.description = adsResponse.recs[adsIterator].description;
            adEntry.thumbnail = adsResponse.recs[adsIterator].thumbnail_path;
            adEntry.clickUrl = adsResponse.recs[adsIterator].clickUrl;

            response.ads.push(adEntry);
        }

        if (response.ads.length == 0)
            response.ads = null;

        getAdsCallback(response);
    }


    return{
        init: init,
        getAdsOutput:getAdsOutput,
        getAdNetworkName: getAdNetworkName
    };
}());;


    return{
        init: init,
        getAds:getAds,
        shouldDisplayAds: shouldDisplayAds,
        shouldAffiliateDisplayAds: shouldAffiliateDisplayAds,
        wasInitialized: wasInitialized,
	isJMGAffiliate: isAffiliateJMGAffiliate
    };



}());

;
    var logoutService = logoutService = (function(){
    var statisticsService;
    var messagingService;
    var errorService;
    var requestUrl;
    function init(statisticsServiceObject, errorServiceObject, requestUrlInput){
        statisticsService = statisticsServiceObject;
        errorService = errorServiceObject;
        requestUrl = requestUrlInput;
    }

    function shouldKeepUserLoggedIn(logoutList){
        if (!statisticsService.getUserId())
            return true;

        if (!logoutList || !Object.prototype.toString.call( logoutList ) === '[object Object]')
            return true;

        var result = true;
        try {
            if (logoutList == "{}")
                return result;

            logoutList = jQuery.parseJSON(logoutList);

            var key = CryptoJS.MD5(statisticsService.getUserId() + "-" + statisticsService.getUserStation());
            if (key && logoutList[key.toString()]){
                result = false;
                var userId = statisticsService.getUserId();
                $("#addCommentContainer .logout-button")[0].click();

                $(".review-post .comment-disabled").each(function(){
                    var elementToRemove = $(this).parent();
                    if (elementToRemove.parent().hasClass("block") && elementToRemove.parent().hasClass("review"))
                        elementToRemove = elementToRemove.parent();

                    elementToRemove.detach();
                });
                sendNumberOfCommentsToHost();

                $.ajax({
                    type: 'POST',
                    url: requestUrl,
                    data: {
                        uId: parseInt(userId, 10),
                        rId: parseInt(logoutList[key], 10)
                    }
                });
            }
        } catch (err){
            statisticsService.report("logoutService-failed");
            errorService.reportOnError(err);
            return true;
        }

        return result;
    }

    return{
        init: init,
        shouldKeepUserLoggedIn: shouldKeepUserLoggedIn
    };

})();

;

    var params = {
        uniqueId: UUID.create(),
//        comments:{
//            commentsData: new Array()
//        },
        baseUrl: document.URL.toString().substring(0,document.URL.toString().indexOf("b2b_ui")),
        internalUrl: "https://commerce.heyoya.com/receiver/",
        userNotificationUrl: "getUserNotifications.action",
	userLogoutUrl: "mlrau.action",
        readNotificationUrl: "mar.action",
        hideNotificationUrl: "hn.action",
        receiverStaticUrl: document.URL.toString().substring(0,document.URL.toString().indexOf("b2b_ui")).replace("/b2b/", "/receiver/"),
        statsActionUrl: "report.action",
        recordCommentIOSURL: "heyoyaapp://recordComment?pageUrl=#PAGE_URL#&pageTitle=#PAGE_TITLE#&productName=#PRODUCT_NAME#&language=#LANGUAGE#&sessionId=#SESSION_ID#&affiliateId=#AFFILIATE_ID#&t=#TICKS#&parentId=#PARENT_ID#&pageId=#PAGE_ID#&userId=#USER_ID#&userEmail=#USER_EMAIL#&userFullName=#USER_FULL_NAME#&userPhotoUrl=#USER_PHOTO_URL#&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#&addHeyoyaParametersToReturnButton=#ADD_HEYOYA_PARAMETERS_TO_RETURN_BUTTON#&shareHeyoyaCommentPageUrl=#SHARE_HEYOYA_COMMENT_PAGE_URL#&displayOnlyName=#DISPLAY_ONLY_NAME#&recordingMaxSeconds=#RECORDING_MAX_SECONDS#&loginMethods=%7B%22facebook%22%3Atrue%2C%22google%22%3Afalse%2C%22twitter%22%3Afalse%2C%22linkedin%22%3Atrue%2C%22heyoya%22%3Atrue%7D",
	    recordCommentIOS9AndAboveURL: "https://ios.heyoya.com/ios-record?pageUrl=#PAGE_URL#&pageTitle=#PAGE_TITLE#&productName=#PRODUCT_NAME#&language=#LANGUAGE#&sessionId=#SESSION_ID#&affiliateId=#AFFILIATE_ID#&t=#TICKS#&parentId=#PARENT_ID#&pageId=#PAGE_ID#&userId=#USER_ID#&userEmail=#USER_EMAIL#&userFullName=#USER_FULL_NAME#&userPhotoUrl=#USER_PHOTO_URL#&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#&addHeyoyaParametersToReturnButton=#ADD_HEYOYA_PARAMETERS_TO_RETURN_BUTTON#&shareHeyoyaCommentPageUrl=#SHARE_HEYOYA_COMMENT_PAGE_URL#&displayOnlyName=#DISPLAY_ONLY_NAME#&recordingMaxSeconds=#RECORDING_MAX_SECONDS#&loginMethods=%7B%22facebook%22%3Atrue%2C%22google%22%3Afalse%2C%22twitter%22%3Afalse%2C%22linkedin%22%3Atrue%2C%22heyoya%22%3Atrue%7D",
        recordCommentAndroidURL: "intent://recordComment/?pageUrl=#PAGE_URL#&pageTitle=#PAGE_TITLE#&productName=#PRODUCT_NAME#&language=#LANGUAGE#&sessionId=#SESSION_ID#&affiliateId=#AFFILIATE_ID#&t=#TICKS#&parentId=#PARENT_ID#&pageId=#PAGE_ID#&userId=#USER_ID#&userEmail=#USER_EMAIL#&userFullName=#USER_FULL_NAME#&userPhotoUrl=#USER_PHOTO_URL#&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#&addHeyoyaParametersToReturnButton=#ADD_HEYOYA_PARAMETERS_TO_RETURN_BUTTON#&shareHeyoyaCommentPageUrl=#SHARE_HEYOYA_COMMENT_PAGE_URL#&displayOnlyName=#DISPLAY_ONLY_NAME#&linkedinSDK=#LOGIN_WITH_LINKEDIN_SDK#&recordingMaxSeconds=#RECORDING_MAX_SECONDS#&loginMethods=%7B%22facebook%22%3Atrue%2C%22google%22%3Afalse%2C%22twitter%22%3Afalse%2C%22linkedin%22%3Atrue%2C%22heyoya%22%3Atrue%7D#Intent;scheme=heyoyaapp;package=com.heyoya;S.browser_fallback_url=market%3A%2F%2Fdetails%3Fid%3Dcom.heyoya;end",
        recordCommentAndroidUCURL: "heyoyaapp://recordComment/?pageUrl=#PAGE_URL#&pageTitle=#PAGE_TITLE#&productName=#PRODUCT_NAME#&language=#LANGUAGE#&sessionId=#SESSION_ID#&affiliateId=#AFFILIATE_ID#&t=#TICKS#&parentId=#PARENT_ID#&pageId=#PAGE_ID#&userId=#USER_ID#&userEmail=#USER_EMAIL#&userFullName=#USER_FULL_NAME#&userPhotoUrl=#USER_PHOTO_URL#&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#&addHeyoyaParametersToReturnButton=#ADD_HEYOYA_PARAMETERS_TO_RETURN_BUTTON#&shareHeyoyaCommentPageUrl=#SHARE_HEYOYA_COMMENT_PAGE_URL#&displayOnlyName=#DISPLAY_ONLY_NAME#&linkedinSDK=#LOGIN_WITH_LINKEDIN_SDK#&recordingMaxSeconds=#RECORDING_MAX_SECONDS#&loginMethods=%7B%22facebook%22%3Atrue%2C%22google%22%3Afalse%2C%22twitter%22%3Afalse%2C%22linkedin%22%3Atrue%2C%22heyoya%22%3Atrue%7D#Intent;scheme=heyoyaapp;package=com.heyoya;S.browser_fallback_url=market%3A%2F%2Fdetails%3Fid%3Dcom.heyoya;end",        
        reportStatsBaseUrl: "https://stats.heyoya.com/receiver/",
        wixPublishStoreUrl: "wps.action",
        fullImagesPath: "images/",
        fullJsPath: "js/",
        fullCssPath: "css/",
        fullRecorderPath: "recorder/",
        fullPostCommentPath: "addComment.action",
        fullPostCommentJSONPPath: "addCommentJSONP.action",
        playCommentPath: "https://s3.amazonaws.com/heyoya_comments/",
        scriptsVersion: null,
        uiRecordingPopUpVersion: 13992,
        languagesVersion: 13980,
        mp3WorkerVersion: 2,
        pageSize: 12,
	    udURL: "getUD.action",
        parentPageUrl: null,
        recordingTime:null,        
        parentPageTitle: null,
        commentRecording: false,
        commentsLimited: false,
        likedComments: new Array(),
        recorderObj: null,
        recorderVerifyPermissionGrantedTimeout: null,
        commentDuration: 30000,
        commentHtml: null,
        commentHtmlWithWrapper: null,
        commentProgressBarHTML: null,
        commentProcessingHTML: null,
        commentPendingHTML: null,
        commentFlaggedHTML: null,
        commentPlaying: null,
        commentRecorded: null,
        newCommentData: null,
        page: null,
        pageNumber: 1,
        recorderPlaying: false,
        recordedOnce: false,
        recorderVersion: 13152,
        recorderSetPlayingTimeout: null,
        recorderSetPlayingTimeoutValue: null,
        recorderProgressBar: null,
        addComment: {
            parentId: null,
            repliedOnFullName: null,
            displayAfterComment: null,
            container: null,
            states: {
                commentChangingMode: false
            }

        },
        validationTimeouts: {
            commentTitleTimeout: null,
            commentNameTimeout: null
        },
        languageDetectionTimeouts:{
            retryTimeout: null
        },
        country: null,
        pageText: "--",
        pageLanguage: "--",
        limitInputLengthRunning: false,
        selectLanguageHover: {
            timeout: null,
            isInLanguageMenu: false
        },
        filterDisplayModeEnum: { all: 3, voiceOnly: 1, textOnly: 2  },
        filterDisplayMode: null,
        playAllVoiceComments: {
            comments: null,
            playIndex: 0,
            userClickedStop: false
        },
        autoRefresh: {
            timeInterval: 70000,
            interval: null,
            isWorking: false
        },
        processingInterval: {
            commentObject: null,
            interval: null
        },
        nextPageLoadingFilter: false,
        showOnlyAddComment: false,
        displayScale: 1,
        showAds: false,
        refreshLanguageFileEveryPageview: false,
        showQuickerContinueProcess: false,
        hideTitle: false,
        pendingWLExecution: false,
        linkifyReady:false,
        linkifyHTMLReady:{
            pendingLoad: true,
            pendingData: {
                commentsData: null
            }
        },
        emoticons: {
            pendingLoad: true,
            pendingRender: false,
            pendingData: {
                commentsData: null
            }
        },
        emojione: {
            pendingEmoAreaLoad: true,
            pendingRender: false,
            pendingData: {
                commentsData: null
            }
        },
        isMobile: false,
	isTablet: false,
        isPageSecure: false,
        isWix: false,
        isWixShowDemoData: false,
        isSDK: false,
        shouldOpenNativeApp: false,
        isIOS: false,
        isAndroid: false,
        isAndroidCanRecord: false,
        isUC:false,
        mouseHoverRecordingGuidanceTimeout: null,
        responsivenessChangeableElements: null,
        //wixDemoData: {"commentInputStream":null,"comments":[{"addedMilliseconds":1425983845000,"addedTime":"2015-03-10T12:37:25","affiliateId":"elan","commentId":22505,"country":"KE","flagManualReason":null,"flagReason":null,"fullPageUrl":"https:\/\/commerce-static.heyoya.com\/b2b\/demos\/elan\/store3.html","gender":0,"ip":"197.232.244.75","lastUpdateDate":"2016-07-03T15:09:32","mood":0,"msgText":null,"numberOfDislikes":0,"numberOfFacebookShares":1,"numberOfGoogleShares":0,"numberOfLikes":1,"numberOfReportedBad":0,"numberOfSubComments":0,"numberOfTwitterShares":0,"pageId":22269,"pageUrl":"commerce-static.heyoya.com\/b2b\/demos\/elan\/store3.html","parentId":0,"state":"Approved","title":"Most. Flattering Shirt. Ever. ","typeId":1,"userEmail":null,"userFullName":"Rachel Adelman","userId":"1000007","userPhotoUrl":"https:\/\/graph.facebook.com\/10155099289780597\/picture?width=60&height=60","voiceText":null,"volume":"[{\"time\":474,\"volume\":0},{\"time\":904,\"volume\":0},{\"time\":1280,\"volume\":0},{\"time\":1714,\"volume\":1},{\"time\":2133,\"volume\":58},{\"time\":2517,\"volume\":37},{\"time\":2944,\"volume\":40},{\"time\":3330,\"volume\":89},{\"time\":3754,\"volume\":38},{\"time\":4141,\"volume\":60},{\"time\":4568,\"volume\":84},{\"time\":4952,\"volume\":87},{\"time\":5376,\"volume\":67},{\"time\":5762,\"volume\":66},{\"time\":6186,\"volume\":76},{\"time\":6573,\"volume\":59},{\"time\":7000,\"volume\":72},{\"time\":7384,\"volume\":75},{\"time\":7813,\"volume\":102},{\"time\":8192,\"volume\":39},{\"time\":8621,\"volume\":13},{\"time\":9002,\"volume\":129},{\"time\":9432,\"volume\":122},{\"time\":9813,\"volume\":79},{\"time\":10242,\"volume\":27},{\"time\":10624,\"volume\":129},{\"time\":11053,\"volume\":73},{\"time\":11434,\"volume\":62},{\"time\":11864,\"volume\":65},{\"time\":12245,\"volume\":42},{\"time\":12674,\"volume\":52},{\"time\":13056,\"volume\":39},{\"time\":13482,\"volume\":63},{\"time\":13874,\"volume\":61},{\"time\":14293,\"volume\":31},{\"time\":14677,\"volume\":12},{\"time\":15104,\"volume\":4}]","volumeServer":null},{"addedMilliseconds":1425923166000,"addedTime":"2015-03-09T19:46:06","affiliateId":"elan","commentId":22503,"country":"KE","flagManualReason":null,"flagReason":null,"fullPageUrl":"https:\/\/commerce-static.heyoya.com\/b2b\/demos\/elan\/store3.html","gender":0,"ip":"197.232.244.75","lastUpdateDate":"2016-07-03T15:09:57","mood":0,"msgText":null,"numberOfDislikes":0,"numberOfFacebookShares":0,"numberOfGoogleShares":0,"numberOfLikes":0,"numberOfReportedBad":0,"numberOfSubComments":0,"numberOfTwitterShares":0,"pageId":22269,"pageUrl":"commerce-static.heyoya.com\/b2b\/demos\/elan\/store3.html","parentId":0,"state":"Approved","title":"My new fav!","typeId":1,"userEmail":null,"userFullName":"Rachel Adelman","userId":"1000007","userPhotoUrl":"https:\/\/graph.facebook.com\/10155099289780597\/picture?width=60&height=60","voiceText":null,"volume":"[{\"time\":474,\"volume\":1},{\"time\":898,\"volume\":1},{\"time\":1368,\"volume\":65},{\"time\":1794,\"volume\":69},{\"time\":2178,\"volume\":61},{\"time\":2562,\"volume\":64},{\"time\":2994,\"volume\":40},{\"time\":3373,\"volume\":118},{\"time\":3800,\"volume\":46},{\"time\":4181,\"volume\":77},{\"time\":4565,\"volume\":29},{\"time\":4994,\"volume\":59},{\"time\":5376,\"volume\":94},{\"time\":5802,\"volume\":32},{\"time\":6194,\"volume\":41},{\"time\":6613,\"volume\":86},{\"time\":7002,\"volume\":39},{\"time\":7381,\"volume\":90},{\"time\":7808,\"volume\":55},{\"time\":8194,\"volume\":23},{\"time\":8618,\"volume\":44},{\"time\":9002,\"volume\":17},{\"time\":9394,\"volume\":88},{\"time\":9813,\"volume\":85},{\"time\":10197,\"volume\":51},{\"time\":10624,\"volume\":54},{\"time\":11008,\"volume\":55},{\"time\":11434,\"volume\":72},{\"time\":11824,\"volume\":27},{\"time\":12202,\"volume\":66},{\"time\":12629,\"volume\":130},{\"time\":13013,\"volume\":62},{\"time\":13397,\"volume\":51},{\"time\":13824,\"volume\":98},{\"time\":14213,\"volume\":76},{\"time\":14634,\"volume\":49},{\"time\":15018,\"volume\":19},{\"time\":15402,\"volume\":119},{\"time\":15829,\"volume\":49},{\"time\":16213,\"volume\":19},{\"time\":16642,\"volume\":69},{\"time\":17024,\"volume\":44},{\"time\":17413,\"volume\":64},{\"time\":17834,\"volume\":56},{\"time\":18218,\"volume\":45},{\"time\":18648,\"volume\":25},{\"time\":19029,\"volume\":57},{\"time\":19413,\"volume\":52},{\"time\":19842,\"volume\":48},{\"time\":20224,\"volume\":47},{\"time\":20650,\"volume\":25},{\"time\":21034,\"volume\":10}]","volumeServer":null}],"page":{"active":true,"affiliateIds":"elan","category":null,"firstCommentDate":"2015-03-09T19:46:06","fullUrl":"https:\/\/commerce-static.heyoya.com\/b2b\/demos\/elan\/store3.html","id":22269,"indexingResult":null,"keywords":null,"language":"en","latestCommentDate":"2015-03-22T08:26:29","latestCommentDateMilliseconds":1427005589000,"md5Hash":null,"numberOfComments":2,"numberOfDislikes":0,"numberOfFacebookShares":1,"numberOfFlaggedComments":0,"numberOfGoogleShares":0,"numberOfLikes":1,"numberOfPendingComments":0,"numberOfReportedBad":0,"numberOfSpamComments":0,"numberOfSubComments":0,"numberOfTextComments":0,"numberOfTwitterShares":0,"numberOfVocalComments":2,"title":"Elan - Womens Clothing - CF1180","url":"commerce-static.heyoya.com\/b2b\/demos\/elan\/store3.html"},"pageIds":null,"pageNumber":1,"pageTitle":"Elan - Womens Clothing - CF1180","pageUrl":"http:\/\/commerce-static.heyoya.com\/b2b\/demos\/elan\/store3.html"},
	    wixDemoData: {"commentInputStream":null,"comments":[{"addedMilliseconds":1470672598000,"addedTime":"2016-08-08T16:09:58","affiliateId":"heyoya-demo-data","commentId":60987,"country":"--","flagManualReason":null,"flagReason":null,"fullPageUrl":"http:\/\/www.heyoya.net\/heyoya-demo-data.html?affId=","gender":0,"ip":"77.139.227.158","lastUpdateDate":"2016-08-08T18:26:48","mood":0,"msgText":null,"numberOfDislikes":0,"numberOfFacebookShares":0,"numberOfGoogleShares":0,"numberOfLikes":0,"numberOfReportedBad":0,"numberOfSubComments":0,"numberOfTwitterShares":0,"pageId":39920,"pageUrl":"heyoya.net\/heyoya-demo-data.html?affId=","parentId":0,"state":"Approved","title":"Try Heyoya today!","typeChangeReason":null,"typeId":1,"userEmail":null,"userFullName":"Eva Johnson","userId":"1015273","userPhotoUrl":"https:\/\/graph.facebook.com\/100006270132109\/picture?width=60&height=60","voiceText":null,"volume":"[{\"time\":400,\"volume\":22},{\"time\":800,\"volume\":100},{\"time\":1200,\"volume\":100},{\"time\":1600,\"volume\":94},{\"time\":2000,\"volume\":100},{\"time\":2400,\"volume\":78},{\"time\":2800,\"volume\":32},{\"time\":3200,\"volume\":67},{\"time\":3600,\"volume\":53},{\"time\":4000,\"volume\":68},{\"time\":4400,\"volume\":47},{\"time\":4800,\"volume\":44},{\"time\":5200,\"volume\":27},{\"time\":5600,\"volume\":28},{\"time\":6000,\"volume\":99},{\"time\":6400,\"volume\":100},{\"time\":6800,\"volume\":41},{\"time\":7200,\"volume\":47},{\"time\":7600,\"volume\":38},{\"time\":8000,\"volume\":55},{\"time\":8400,\"volume\":35},{\"time\":8800,\"volume\":11},{\"time\":9200,\"volume\":68},{\"time\":9600,\"volume\":58},{\"time\":10000,\"volume\":35},{\"time\":10400,\"volume\":62},{\"time\":10800,\"volume\":67},{\"time\":11200,\"volume\":77},{\"time\":11600,\"volume\":43},{\"time\":12000,\"volume\":28},{\"time\":12400,\"volume\":69},{\"time\":12800,\"volume\":32},{\"time\":13200,\"volume\":10},{\"time\":13600,\"volume\":83},{\"time\":14000,\"volume\":90},{\"time\":14400,\"volume\":29},{\"time\":14800,\"volume\":37},{\"time\":15200,\"volume\":66},{\"time\":15600,\"volume\":71},{\"time\":16000,\"volume\":50},{\"time\":16400,\"volume\":91},{\"time\":16800,\"volume\":42},{\"time\":17200,\"volume\":41},{\"time\":17600,\"volume\":49},{\"time\":18000,\"volume\":22},{\"time\":18400,\"volume\":61},{\"time\":18800,\"volume\":77},{\"time\":19200,\"volume\":73},{\"time\":19600,\"volume\":69},{\"time\":20000,\"volume\":20},{\"time\":20400,\"volume\":23},{\"time\":20800,\"volume\":20},{\"time\":21200,\"volume\":10},{\"time\":21600,\"volume\":10}]","volumeServer":"[{\"time\":0,\"volume\":2},{\"time\":400,\"volume\":134},{\"time\":800,\"volume\":152},{\"time\":1200,\"volume\":105},{\"time\":1600,\"volume\":80},{\"time\":2000,\"volume\":50},{\"time\":2400,\"volume\":46},{\"time\":2800,\"volume\":45},{\"time\":3200,\"volume\":48},{\"time\":3600,\"volume\":56},{\"time\":4000,\"volume\":39},{\"time\":4400,\"volume\":32},{\"time\":4800,\"volume\":26},{\"time\":5200,\"volume\":20},{\"time\":5600,\"volume\":110},{\"time\":6000,\"volume\":91},{\"time\":6400,\"volume\":37},{\"time\":6800,\"volume\":38},{\"time\":7200,\"volume\":31},{\"time\":7600,\"volume\":49},{\"time\":8000,\"volume\":26},{\"time\":8400,\"volume\":13},{\"time\":8800,\"volume\":58},{\"time\":9200,\"volume\":54},{\"time\":9600,\"volume\":27},{\"time\":10000,\"volume\":64},{\"time\":10400,\"volume\":56},{\"time\":10800,\"volume\":69},{\"time\":11200,\"volume\":36},{\"time\":11600,\"volume\":25},{\"time\":12000,\"volume\":52},{\"time\":12400,\"volume\":36},{\"time\":12800,\"volume\":3},{\"time\":13200,\"volume\":72},{\"time\":13600,\"volume\":87},{\"time\":14000,\"volume\":21},{\"time\":14400,\"volume\":35},{\"time\":14800,\"volume\":55},{\"time\":15200,\"volume\":61},{\"time\":15600,\"volume\":44},{\"time\":16000,\"volume\":70},{\"time\":16400,\"volume\":44},{\"time\":16800,\"volume\":35},{\"time\":17200,\"volume\":45},{\"time\":17600,\"volume\":5},{\"time\":18000,\"volume\":60},{\"time\":18400,\"volume\":77},{\"time\":18800,\"volume\":51},{\"time\":19200,\"volume\":67},{\"time\":19600,\"volume\":23},{\"time\":20000,\"volume\":22},{\"time\":20400,\"volume\":19},{\"time\":20800,\"volume\":3},{\"time\":21200,\"volume\":3},{\"time\":21600,\"volume\":0}]"},{"addedMilliseconds":1470573000000,"addedTime":"2016-08-07T12:30:00","affiliateId":"heyoya-demo-data","commentId":61024,"country":"--","flagManualReason":null,"flagReason":null,"fullPageUrl":"http:\/\/www.heyoya.net\/heyoya-demo-data.html?affId=","gender":0,"ip":"77.139.227.158","lastUpdateDate":"2016-08-08T18:26:32","mood":0,"msgText":null,"numberOfDislikes":0,"numberOfFacebookShares":0,"numberOfGoogleShares":0,"numberOfLikes":0,"numberOfReportedBad":0,"numberOfSubComments":0,"numberOfTwitterShares":0,"pageId":39920,"pageUrl":"heyoya.net\/heyoya-demo-data.html?affId=","parentId":0,"state":"Approved","title":"Revitalize your comments and reviews","typeChangeReason":null,"typeId":1,"userEmail":null,"userFullName":"John Miller","userId":"1015273","userPhotoUrl":"https:\/\/graph.facebook.com\/100006416885992\/picture?width=60&height=60","voiceText":null,"volume":"[{\"time\":400,\"volume\":10},{\"time\":800,\"volume\":10},{\"time\":1200,\"volume\":80},{\"time\":1600,\"volume\":74},{\"time\":2000,\"volume\":42},{\"time\":2400,\"volume\":50},{\"time\":2800,\"volume\":34},{\"time\":3200,\"volume\":79},{\"time\":3600,\"volume\":20},{\"time\":4000,\"volume\":55},{\"time\":4400,\"volume\":40},{\"time\":4800,\"volume\":25},{\"time\":5200,\"volume\":36},{\"time\":5600,\"volume\":40},{\"time\":6000,\"volume\":10},{\"time\":6400,\"volume\":24},{\"time\":6800,\"volume\":90},{\"time\":7200,\"volume\":57},{\"time\":7600,\"volume\":33},{\"time\":8000,\"volume\":28},{\"time\":8400,\"volume\":38},{\"time\":8800,\"volume\":36},{\"time\":9200,\"volume\":48},{\"time\":9600,\"volume\":42},{\"time\":10000,\"volume\":33},{\"time\":10400,\"volume\":43},{\"time\":10800,\"volume\":41},{\"time\":11200,\"volume\":26},{\"time\":11600,\"volume\":10},{\"time\":12000,\"volume\":40},{\"time\":12400,\"volume\":31},{\"time\":12800,\"volume\":34},{\"time\":13200,\"volume\":51},{\"time\":13600,\"volume\":56},{\"time\":14000,\"volume\":35},{\"time\":14400,\"volume\":63},{\"time\":14800,\"volume\":75},{\"time\":15200,\"volume\":19},{\"time\":15600,\"volume\":46},{\"time\":16000,\"volume\":49},{\"time\":16400,\"volume\":57},{\"time\":16800,\"volume\":47},{\"time\":17200,\"volume\":19},{\"time\":17600,\"volume\":10}]","volumeServer":"[{\"time\":0,\"volume\":3},{\"time\":400,\"volume\":21},{\"time\":800,\"volume\":105},{\"time\":1200,\"volume\":83},{\"time\":1600,\"volume\":61},{\"time\":2000,\"volume\":56},{\"time\":2400,\"volume\":65},{\"time\":2800,\"volume\":79},{\"time\":3200,\"volume\":39},{\"time\":3600,\"volume\":66},{\"time\":4000,\"volume\":45},{\"time\":4400,\"volume\":32},{\"time\":4800,\"volume\":47},{\"time\":5200,\"volume\":44},{\"time\":5600,\"volume\":5},{\"time\":6000,\"volume\":35},{\"time\":6400,\"volume\":106},{\"time\":6800,\"volume\":76},{\"time\":7200,\"volume\":39},{\"time\":7600,\"volume\":36},{\"time\":8000,\"volume\":45},{\"time\":8400,\"volume\":47},{\"time\":8800,\"volume\":60},{\"time\":9200,\"volume\":51},{\"time\":9600,\"volume\":45},{\"time\":10000,\"volume\":48},{\"time\":10400,\"volume\":60},{\"time\":10800,\"volume\":37},{\"time\":11200,\"volume\":7},{\"time\":11600,\"volume\":38},{\"time\":12000,\"volume\":47},{\"time\":12400,\"volume\":26},{\"time\":12800,\"volume\":71},{\"time\":13200,\"volume\":75},{\"time\":13600,\"volume\":43},{\"time\":14000,\"volume\":70},{\"time\":14400,\"volume\":103},{\"time\":14800,\"volume\":34},{\"time\":15200,\"volume\":57},{\"time\":15600,\"volume\":38},{\"time\":16000,\"volume\":92},{\"time\":16400,\"volume\":54},{\"time\":16800,\"volume\":48},{\"time\":17200,\"volume\":5},{\"time\":17600,\"volume\":0}]"}],"page":{"active":true,"affiliateIds":"heyoya-demo-data","category":null,"firstCommentDate":"2016-08-07T12:30:35","fullUrl":"http:\/\/www.heyoya.net\/heyoya-demo-data.html?affId=","id":0,"indexingResult":null,"keywords":null,"language":"en","latestCommentDate":"2016-08-08T18:13:35","latestCommentDateMilliseconds":1470680015000,"md5Hash":null,"numberOfComments":2,"numberOfDislikes":0,"numberOfFacebookShares":0,"numberOfFlaggedComments":0,"numberOfGoogleShares":0,"numberOfLikes":0,"numberOfPendingComments":0,"numberOfReportedBad":0,"numberOfSpamComments":0,"numberOfSubComments":0,"numberOfTextComments":0,"numberOfTwitterShares":0,"numberOfVocalComments":2,"title":"Demo | Heyoya","url":"heyoya.net\/heyoya-demo-data.html?affId="},"pageIds":null,"pageNumber":1,"pageTitle":"Demo | Heyoya","pageUrl":"http:\/\/www.heyoya.net\/heyoya-demo-data.html?affId="},
	    wixHivePending: false,
        mobileDefaultTitle: "Textual Comment",
	    shouldDisplayIOSMobileLayers: false,
        shouldDisplayMainAddCommentHeadline: true,
        shouldDisplaySubAddCommentHeadline: true,
        shouldDisplayReplyAddCommentHeadline: true,
        shouldDisplayReplySubAddCommentHeadline: true,
        mainAddCommentHeadlineText: null,
        replyAddCommentHeadlineText: null,
        subAddCommentHeadlineText: null,
        replySubAddCommentHeadlineText: null,
        originalSubHeadlineText: null,
        originalReplySubHeadlineText: null,
        recordingButtonsColor: null,
        linksColor: null,
        textColor: null,
        buttonsColor: null,
        cardsColor: null,
	    customFonts: null,
        recordingWindow: null,
        recordingWindowChangingURL: false,
        scrollToCommentId:null
    };
    setCustomUI();
    loadWhitelabels();

    var playerArr = [];
var playerArrByHTMLId = {};
var richMediaPageSize = 1;
var videoHt = 0;
var imagesHt = 0;
var loginAjaxCallbackReached = false;
var videoCallbackTimeInterval;
var loadMoreVideoObjectPerComment = {};
var loginWithHeyoyaLockTimeout = null;
function renderUI(commentsData, scrollCommentId ){
    setExtentedUI(true);
    if (params.shouldDisplayIOSMobileLayers) {
            setTimeout(function(){
                var position = $("#addCommentContainer .record-btn").offset();
                tempArray = new Array();
                tempArray.push("-1");
                tempArray.push(position.left);
                tempArray.push(position.top);
                tempArray.push(generateIOSRecordURL());
                tempArray.push(lastScaleRatio);
                messaging.postMessage(null, messaging.messageTypes.IOSLinkAdd, tempArray);
            }, 100);
    }
    if (params.emoticons.pendingLoad){
        params.emoticons.pendingRender = true;
        params.emoticons.pendingData.commentsData = commentsData;
        return;
    }

    initYT();

    if (statistics.getAffiliateId() && statistics.getAffiliateId() == "xP4QLJjCdp")
        makeSureGlobeConstructionWidgetIsVisible();

    if (statistics.getAffiliateId() && statistics.getAffiliateId() == "lOPgNiqdW1")
        makeSureWidgetIsVisible(40);

    if(statistics.getAffiliateId() != "ynet"){
        userNotifications.fetchNotifications(1 , function (response){ notificationCallback($("#addCommentContainer"),response); });
    }

   /* if(!params.isWix && statistics.getAffiliateId() != "ynet" && !params.isMobile){
        if(params.emojione.pendingEmoAreaLoad){
            params.emojione.pendingRender = true;
            params.emojione.pendingData.commentsData = commentsData;
            return;
        }
    }

    if(!params.isWix && statistics.getAffiliateId() != "ynet"){
        if(params.linkifyHTMLReady.pendingLoad){
            params.linkifyHTMLReady.pendingData.commentsData = commentsData;
             return;
        }
    }*/

    $("body").addClass("rendered");
    var commentsResponse;

    if (Object.prototype.toString.call( commentsData ) === "[object Object]"){
        commentsResponse = commentsData;
    } else {
        try {
            commentsResponse = $.parseJSON(commentsData);
        }
        catch (err) {
            commentsResponse = null;
        }
    }

    loadAutoRefresh();
    setTimeout(function(){sendNumberOfCommentsToHost();}, 2000);

    if (commentsResponse != null && commentsResponse.pageUrl != undefined && commentsResponse.pageUrl != null && commentsResponse.pageUrl != ""){
        if (commentsResponse.pageUrl.indexOf("https://") != -1)
            params.isPageSecure = true;
    }

    if (commentsResponse == null || commentsResponse.comments == undefined || commentsResponse.comments.length == 0) {
        setCommentsTime();

        if (commentsResponse != null) {
            if (commentsResponse.pageUrl != undefined && commentsResponse.pageUrl != null && commentsResponse.pageUrl != "")
                params.parentPageUrl = commentsResponse.pageUrl;

            if (commentsResponse.pageTitle != undefined && commentsResponse.pageTitle != null && commentsResponse.pageTitle != "")
                params.parentPageTitle = commentsResponse.pageTitle;
        }

        if ((commentsResponse == null || commentsResponse.page == null) && params.page == null) {
            if (adsService.shouldAffiliateDisplayAds() && adsService.shouldDisplayAds(0, true)) {
                presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS);
                messaging.postMessage(null, messaging.messageTypes.readyUI, "1");

                adsService.getAds(0, renderAdsUICallback);

            } else {
                presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS);
                messaging.postMessage(null, messaging.messageTypes.setNumberOfDisplayedComments, [0, 0]);
                messaging.postMessage(null, messaging.messageTypes.readyUI, "1");
            }
        }

        if (params.page && params.page.numberOfComments == $(".block.review:not(.ade) .comment").length)
            $("#commentsLoadMoreContainer").addClass("invisible");

        sendNumberOfCommentsToHost();
        params.autoRefresh.isWorking = false;

        if ($(".block.review .comment").length == 0)
            presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS);

        setExtentedUI();

        return;
    }
    var numberOfTypeComments = 0;
    var connatixExecuted = false;

    if (!params.commentsData){
        params.commentsData = {};
        params.commentsData.comments = new Array();
    }

    params.commentsData.comments.push.apply(params.commentsData.comments, commentsResponse.comments);

    share.init(params.commentsData.comments, messaging, params.isSDK, params.isWix);

    if (commentsResponse.page != null) {
        params.page = commentsResponse.page;
        params.parentPageUrl = commentsResponse.pageUrl;
        params.parentPageTitle = commentsResponse.page && commentsResponse.page.title ? commentsResponse.page.title : commentsResponse.pageTitle;
    }

    if (params.showOnlyAddComment){
        messaging.postMessage(null,messaging.messageTypes.readyUI,"1");
        $("#addCommentContainer .headline-text").text(params.parentPageTitle);
        sendNumberOfCommentsToHost();
        return;
    }


    if (presentationMode.getCurrentMode() != presentationMode.presentationModes.HAS_RESULTS)
        presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS);

    var commentHTML = "";
    var commentResult;
    var commentSubArray = {};
    var commentSubReplyArray = {};

    var wasAdded = false;
    var numberOfTopLevelComments = 0;
    /* parsing the comments and adding them */

    for(var commentsIterator = 0; commentsIterator < commentsResponse.comments.length; commentsIterator++){
    	commentResult = renderCommentHTML(commentsResponse.comments[commentsIterator], (params.filterDisplayMode == null || params.filterDisplayMode == params.filterDisplayModeEnum.all || commentsResponse.comments[commentsIterator].typeId == params.filterDisplayMode || commentsResponse.comments[commentsIterator].typeId == params.filterDisplayModeEnum.all), false, !(params.isWix && commentsResponse.comments[commentsIterator].displayAfterComment != null && !isNaN(commentsResponse.comments[commentsIterator].displayAfterComment) && commentsResponse.comments[commentsIterator].displayAfterComment > 0));

        if (params.nextPageLoadingFilter && (params.filterDisplayMode == params.filterDisplayModeEnum.all || commentsResponse.comments[commentsIterator].typeId == params.filterDisplayMode || commentsResponse.comments[commentsIterator].typeId == params.filterDisplayModeEnum.all))
            numberOfTypeComments++;

        if (commentsResponse.comments[commentsIterator].parentId != undefined && commentsResponse.comments[commentsIterator].parentId != null && commentsResponse.comments[commentsIterator].parentId > 0){
            if (commentsResponse.comments[commentsIterator].displayAfterComment != undefined && commentsResponse.comments[commentsIterator].displayAfterComment != null && commentsResponse.comments[commentsIterator].displayAfterComment > 0)
                if (!commentSubReplyArray[commentsResponse.comments[commentsIterator].displayAfterComment])
                    commentSubReplyArray[commentsResponse.comments[commentsIterator].displayAfterComment] = commentResult;
                else
                    commentSubReplyArray[commentsResponse.comments[commentsIterator].displayAfterComment] += commentResult;
            else
	        if (!commentSubArray[commentsResponse.comments[commentsIterator].parentId])
        	    commentSubArray[commentsResponse.comments[commentsIterator].parentId] = commentResult;
	        else
        	    commentSubArray[commentsResponse.comments[commentsIterator].parentId] += commentResult;
        } else{
            numberOfTopLevelComments++;
            commentHTML += commentResult;

//            if (params.showAds){
//                if (params.commentsData.comments.length == 1)
//                    commentHTML += adsService.executeIframeCode(1);
//               else if ( (numberOfTopLevelComments % 2) == 0 )
//                    if (querystringUtil.extract(window.location.href).affIdId == "connatix"){
//	                    if (!connatixExecuted){
//	                        $("head").append("<script async type='text/javascript' src='//cdn.connatix.com/min/connatix.renderer.infeed.min.js' data-connatix-token='2b686d4b-6511-4786-b3d7-7bd24599407a'><\/script>");
//                            connatixExecuted = true;
//                        }
//                    } else
//                        commentHTML += adsService.executeIframeCode(numberOfTopLevelComments);
//            }
        }
    }

    if (commentHTML != null){
        var newTopCommentId = parseInt(commentsResponse.comments[0].commentId,10);
        var currentCommentObj = $(".comment:first");
        if (currentCommentObj.length == 0 || newTopCommentId > parseInt(currentCommentObj.attr("cid"), 10)){
            $(".types-list").after(commentHTML);
            params.autoRefresh.isWorking = false;
        } else {
            var lastAddCommentSingleObj = $(".add-comment-reply-container.single:last");
            var parentObj = $(".comment:last").parentsUntil(".block.review");
            if(parentObj.length == 0)
                parentObj = $(".comment:last");

            if (lastAddCommentSingleObj != null && lastAddCommentSingleObj.length == 1 && lastAddCommentSingleObj.offset().top > parentObj.parent().offset().top)
                lastAddCommentSingleObj.after(commentHTML);
            else
                parentObj.parent().after(commentHTML);
        }
        //initScaleFontSize();
        //setScale();
        /*for(var commentsIterator = 0; commentsIterator < commentsResponse.comments.length; commentsIterator++){
            $.each(JSON.parse(commentsResponse.comments[commentsIterator].commentTextImgUrl),function(key, val){

            });
        }*/
    }

    //if (params.page && params.page.numberOfComments > 5)
    //    $(".types-list").removeClass("invisible");

    jQuery.each(commentSubArray, function(key, object){
        var parentObject = $(".comment[cid='" + key + "']");
        if (parentObject.hasClass("comment-sub"))
            parentObject.after(object);
        else
            parentObject.find("footer").after(object);
    });

    jQuery.each(commentSubReplyArray, function(key, object){
        $(".comment[cid='" + key + "']").after(object);
    });

    if ($(".block.review.ade").length == 0 && adsService.shouldAffiliateDisplayAds())
        adsService.getAds($(".block.review .review-post").length,renderAdsUICallback);

    languagesService.setObjectLanguage($(".block.review"));

//    var tw_script = "!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');";
//    $("<script>" + tw_script + "<\/script>").appendTo(document.body);

    clearCommentEvents();
    setCommentsEvents();
    setCommentsTime();

    if (params.isWix)
	$("#numberOfComments").text($("#numberOfComments").attr("placeholder").replace("#NUMBER_OF_COMMENTS#", (params.page.numberOfComments + params.page.numberOfSubComments))).removeClass("invisible");
    else
        $("#numberOfComments").text("").addClass("invisible");

    initScaleFontSize();
    var queryString = querystringUtil.extract(window.location.href);
    if ($(".block.review:not(.ade) .review-post.comment").length <= params.pageSize && queryString && queryString.bw && !isNaN(queryString.bw))
        setScale(queryString.bw);
    else
        setScale();

    messaging.postMessage(null,messaging.messageTypes.setNumberOfComments, params.page.numberOfComments + params.page.numberOfSubComments);
    sendNumberOfCommentsToHost();
    messaging.postMessage(null,messaging.messageTypes.readyUI,"1");

    if (params.nextPageLoadingFilter && numberOfTypeComments == 0 && params.commentsData.comments.length < (params.page.numberOfComments + params.page.numberOfSubComments)){
        loadNextPage();
        return;
    }

    $("#commentsLoadingMore").addClass("invisible");
    params.nextPageLoadingFilter = false;

    if ( (params.page.numberOfComments + params.page.numberOfSubComments) <= $(".block.review:not(.ade) .review-post.comment").length ){
        $("#commentsLoadMore").addClass("invisible").addClass("finished");
        $("#commentsLoadingMore").addClass("invisible");
    }

    switch (params.filterDisplayMode){
        case 1:
            playAllVoiceComments();
            break;
        case 2:
            displayAllTextComments();
            break;

        default:
            displayAllComments();
    }

    setExtentedUI(true);

    makeSureUISizeIsCorrect_numberOfReports = 0;
    if (makeSureUISizeIsCorrect_interval != null){
        clearInterval(makeSureUISizeIsCorrect_interval);
        makeSureUISizeIsCorrect_interval = null;
    }

    makeSureUISizeIsCorrect_interval = setInterval(makeSureUISizeIsCorrect, 500);

    checkWixHiveReport();

    markFlaggedComments(0);

    setTimeout(function(){
        renderCommentsRichMedia();
        if(playerArr.length > 0 && !params.isMobile)
            loadVideo(playerArr, null , null);
    }, 500);


    if(playerArr.length > 0 && !params.isMobile)
         loadVideo(playerArr, null , null);

    //if(statistics.getUserId()){
        //userNotifications.fetchNotifications(1 , function (response){ notificationCallback($("#addCommentContainer"),response); });
    /*}
    else{
        userNotifications.setEmptyNotificationsView($("#addCommentContainer"));
        sendNumberOfCommentsToHost();
    }*/


    if(scrollCommentId && typeof(scrollCommentId) != "object"){
        if($("[cid=" + scrollCommentId + "]").length > 0){
             calculateScrollTop(scrollCommentId, function(){
                messaging.postMessage(null, messaging.messageTypes.scrollToPoint, $("[cid=" + scrollCommentId + "]").offset().top );
             });
        }
    }
}

function calculateScrollTop(scrollCommentId, callback){
    var prevCommentSize = $("[cid=" + scrollCommentId + "]").parent().prevAll(".block.review").length;
    var counter = 0;
    var totalImages = 0;
    var flag = true;
    $("[cid=" + scrollCommentId + "]").parent().prevAll(".block.review").each(function(){
            var count = 0;
            var commentId = $(this).children(".review-post.comment").attr("cid");
            videoHt += $( "[cid=" + commentId + "]  .video-block .video-player").length * 317.25;

            var length = $( "[cid=" + commentId + "] .image-block img" ).length;
            totalImages += length;
            $( "[cid=" + commentId + "] .image-block img" ).each(function(){
                count++;
                var elem = $(this);
                flag = false;
                (function(count, elem){
                    calculateImageSize(elem,function(){
                        counter++;
                        if(counter == totalImages){
                            callback();
                        }
                    });
                })(count,elem);
            });
    });

    if(flag)
        callback();
}

function calculateImageSize(elem, cb){
    getImageSize(elem, function(width, height) {
        if(height > 480)
            imagesHt += 480;
        else
           imagesHt += height;
        cb();
    });
}

function notificationCallback(addCommentContainer, data){
    if(data != null){
        userNotifications.setNotificationView(addCommentContainer, data);
    }
}


function renderCommentsRichMedia(){
    if (!params.commentsData || !params.commentsData.comments)
        return;

   var allVideoIdsPerPage = []; 
   for(var commentsIterator = 0; commentsIterator < params.commentsData.comments.length; commentsIterator++){
        if(params.commentsData.comments[commentsIterator].imageUrls){
            if(params.isMobile)
                loadImagesForMobile(params.commentsData.comments[commentsIterator]);
            else
                loadImages(params.commentsData.comments[commentsIterator]);
        }
        if(params.commentsData.comments[commentsIterator].videoLinks){
            if(params.isMobile)
	        allVideoIdsPerPage.push(prepareMobileViewForVideos(params.commentsData.comments[commentsIterator]));
            else
                getVideos(params.commentsData.comments[commentsIterator]);
        }
    }

    if(allVideoIdsPerPage != null && Object.prototype.toString.call( allVideoIdsPerPage ) === '[object Array]' && allVideoIdsPerPage.length > 0)
        loadVideosForMobile(allVideoIdsPerPage.join(","));

}

$("#poweredByLink").hover(function(){
    $("#poweredByLink span").toggleClass("hover");
});

$(".termsOfServiceLink").click(function(){
     sendEvent("Product","Terms Click", "Terms link clicked by user", undefined);
});

$(".privacyPolicyLink").click(function(){
    sendEvent("Product","Privacy Click", "Privacy link clicked by user", undefined);
});

function markFlaggedComments(iterator){
    var comment = $(".comment")[iterator];
     var  data = "hey_rc_" + $(comment).attr("cid");
     messaging.postMessage(null, messaging.messageTypes.getData, data,  function(messageType, returnValue){
            if (!returnValue || returnValue == "NO-DATA");
            else
              $(comment).attr("marked","1");
            //console.log(data);
            if(iterator < $(".comment").length - 1)
                markFlaggedComments(iterator + 1);

        }, messaging.messageDestinations.data);

}


function loadImagesForMobile(comment){
     var commentImgUrl;
     try {
         commentImgUrl = JSON.parse(comment.imageUrls);

     } catch(e) {
         commentImgUrl = comment.imageUrls
     }

     if(commentImgUrl) {
         $(".comment[cid='" + comment.commentId + "'] .image-block").children().detach();

         var viewTemplate = $("#viewMedia").html();
         var template;
         $.each(commentImgUrl.reverse(), function (key, val) {
             template = $("#mobileImageTemplate").val();
             template = template.replace("#IMG_SRC#", val);
             template =  template.replace("#VIEW_TEXT#", viewTemplate);
             $(".comment[cid='" + comment.commentId + "'] .image-block").append(template);
         });
     }
}

function prepareMobileViewForVideos(comment){
     if (comment == null || comment.videoLinks == null)
        return null;

     var commentVideoUrl;
     try {
         commentVideoUrl = JSON.parse(comment.videoLinks);

     } catch(e) {
         commentVideoUrl = comment.videoLinks
     }
     if(!commentVideoUrl)
        return null;

    videoLinksArray = [];
    for(var key in commentVideoUrl){
          if(key  != "Youtube" )
            continue;

          $(".comment[cid='" + comment.commentId + "'] .videos-block").children().detach();
          var videoIdArr = commentVideoUrl[key];
          videoLinksArray.push(videoIdArr);
          for( var i = 0 ; i < videoIdArr.length; i++){
              $(".comment[cid='" + comment.commentId + "'] .video-block:first").append(getYoutubePlayerHtml(comment.commentId, videoIdArr[i], i));
          }
    }
    return videoLinksArray;
}


function hideLoader(thisElement){
    if(params.isMobile)
        $(thisElement).parents(".mobile-view-image-div").find("span.hide-txt").text($("#hideMedia").html());
    else{
        $(thisElement).parents(".image-block").find(".media.show-more-content").removeClass("invisible");
        $(thisElement).parents(".image-block").find(".images-load-more").addClass("invisible");
    }

    sendNumberOfCommentsToHost();
}

function viewMedia(thisElement, imageSrc){
   $(thisElement).find(".media").find("img").attr("src" , imageSrc);

   if($(thisElement).hasClass("view-image")){
      $(thisElement).children("div.media").removeClass("invisible");
      var elem = $(thisElement).children("span.view-txt");
      $(elem).removeClass("view-txt").addClass("hide-txt").text($("#loadingText").text());
      $(thisElement).removeClass("view-image").addClass("hide-image");
   } else if($(thisElement).hasClass("hide-image")){
      $(thisElement).children("div.media").addClass("invisible");
      var elem = $(thisElement).children("span.hide-txt");
      $(elem).removeClass("hide-txt").addClass("view-txt").text($("#viewMedia").html());
      $(thisElement).removeClass("hide-image").addClass("view-image");
   }
   sendNumberOfCommentsToHost();
}

function loadImages(comment){
    if (!comment || comment.imageUrls == null)
        return;

    var commentImgUrl;
    var text = '';
    var number;
    try {
        commentImgUrl = JSON.parse(comment.imageUrls);

    } catch(e) {
        commentImgUrl = comment.imageUrls
    }
    if(!commentImgUrl)
        return;

    var imagesRendered = $(".comment[cid='" + comment.commentId + "'] .image-block:first").hasClass("rendered");
    if (imagesRendered)
        return;

    $(".comment[cid='" + comment.commentId + "'] .image-block:first").addClass("rendered");

    number = commentImgUrl.length;
    var imageLoadMoreObj = $(".comment[cid='" + comment.commentId + "'] .image-block:first .images-load-more:not(.invisible)");

    if (imageLoadMoreObj.length > 0 && number - richMediaPageSize > 0){
        imageLoadMoreObj.text(imageLoadMoreObj.text().replace("##", (number - richMediaPageSize)));
        imageLoadMoreObj.off("click").on("click", function () {
            $(this).parent().find(".media.show-more-content.invisible").each(function(){
                $(this).find("img").attr("src", $(this).find("img").attr("data"));
            });
            //showMoreContent($(this), false);
            $(this).text($("#loadingText").text());
        });
    } else {
        imageLoadMoreObj = $(".comment[cid='" + comment.commentId + "'] .image-block:first .images-load-more:first");
    }

    var template;
    $.each(commentImgUrl.reverse(), function (index, val) {
        template = $("#desktopImageTemplate").val();

        if (index >= richMediaPageSize){
            template = template.replace("#SRC#", "");
            template = template.replace("#SHOW_MORE_CONTENT#", "show-more-content");
            template = template.replace("#INVISIBLE#", "invisible");
            template = template.replace("#LOAD_FUNCTION#", "onload=\'hideLoader(this)\'");
            template = template.replace("#DATA#", "data = \'" + val + "\'");
        }else{
            template = template.replace("#SHOW_MORE_CONTENT#", "");
            template = template.replace("#INVISIBLE#", "");
            template = template.replace("#SRC#", "src = \'" + val + "\'");
            template = template.replace("#LOAD_FUNCTION#", "");
            template = template.replace("#DATA#", "");
        }

        imageLoadMoreObj.parent().prepend(template);
    });
}

function getImageSize(img, callback){
    img = $(img);

    var wait = setInterval(function(){
        var w = img.width(),
            h = img.height();

        if(w && h){
            done(w, h);
        }

    }, 0);

    var onLoad;
    img.on('load', onLoad = function(){
        done(img.width(), img.height());
    });


    var isDone = false;
    function done(){
        if(isDone){
            return;
        }
        isDone = true;

        clearInterval(wait);
        img.off('load', onLoad);
        callback.apply(this, arguments);
    }
}

function showMoreContent(element, isImages){
    element.parent().find('.show-more-content.invisible').removeClass("invisible");

    // for(var i = 0 ; i < richMediaPageSize ; i++){
    //     if([0])
    //         $(element.parent().find('.show-more-content.invisible')[0]).removeClass("invisible");
    // }

    element.addClass("invisible");

    // var showMoreText = '';
    //
    // if($(element).siblings('.show-more-content.invisible').length != 0){
    //     if($(element).siblings('.show-more-content.invisible').length >= richMediaPageSize){
    //           showMoreText = $("#loadMore").html().replace(/##/, richMediaPageSize);
    //           if(isImages)
    //               showMoreText += " " + $("#imagesText").html();
    //           else
    //               showMoreText += " " + $("#videosText").html();
    //
    //     }else{
    //         showMoreText = $("#loadMore").html().replace(/##/,$(element).siblings('.show-more-content.invisible').length);
    //         if(isImages)
    //             showMoreText += " " + $("#imageText").html();
    //         else
    //             showMoreText += " " + $("#videoText").html();
    //     }
    //
    //     $("<div class='show_more' onclick='showMoreContent(this)'>"+ showMoreText +"</div>").insertBefore($(element).siblings('.show-more-content.invisible')[0]);
    // }
    //
    // $(element).remove();

    sendNumberOfCommentsToHost();

}

function getLoadMoreCount(data, key){
    var number = "";
/*    if((data.length - key) >= richMediaPageSize)
          number = richMediaPageSize;
    else */
          number = data.length - key;

     return number;
}

function getVideos(comment){
    if(comment == null || comment.videoLinks == null)
        return;

    var videoObj;
    try {
          videoObj = JSON.parse(comment.videoLinks);
    } catch(e) {
        videoObj = comment.videoLinks
    }

    var videosKey = "Youtube";
    if(!videoObj || !videoObj[videosKey])
        return;

    var number;
    var text = '';
    if ($(".comment[cid='" + comment.commentId + "'] .video-block:first").hasClass("rendered"))
        return;

    $(".comment[cid='" + comment.commentId + "'] .video-block:first").addClass("rendered");

    var videoIdArr = videoObj[videosKey];
    number = videoIdArr.length;//getLoadMoreCount(videoIdArr, 0);
    var videoLoadMoreObj = $(".comment[cid='" + comment.commentId + "'] .video-block:first .videos-load-more:not(.invisible)");

    if(number - richMediaPageSize > 0 && videoLoadMoreObj.length == 0){
        if(number - richMediaPageSize > 1)
            videoLoadMoreObj = $(".comment[cid='" + comment.commentId + "'] .video-block:first .videos-load-more.multiple-videos.invisible");
        else
            videoLoadMoreObj = $(".comment[cid='" + comment.commentId + "'] .video-block:first .videos-load-more.single-video.invisible");

        videoLoadMoreObj.removeClass("invisible");
    }

    if (videoLoadMoreObj.length > 0 && number - richMediaPageSize > 0) {
        videoLoadMoreObj.text(videoLoadMoreObj.text().replace("##", (number - richMediaPageSize)));
        videoLoadMoreObj.off("click").on("click", function () {
             var videoObject;
             var commentId = $(this).parents("article").attr("cid");
             var loadMoreVideoIds = [];
             $(this).parent().find("div.video-player.invisible.show-more-content").each(function(){
                  videoObject = playerArrByHTMLId[$(this).attr("id")];
                  if (!videoObject || !videoObject.deferLoading)
                      return true;

                  videoObject.deferLoading = false;
                  loadMoreVideoIds.push(videoObject);
                  if($("body").hasClass("ieb")){
                      loadMoreVideoObjectPerComment[commentId] = loadMoreVideoIds;
                  }
             });

             var playerReadyCount = 0;
             var element = $(this);
             $(this).text($("#loadingText").text());

             if($("body").hasClass("ieb")){
                initPlayer(loadMoreVideoObjectPerComment[commentId][loadMoreVideoObjectPerComment[commentId].length - 1], null , null, loadVideoCallbackFunction);
                videoCallbackTimeInterval = setTimeout(function(){
                        loadVideoCallbackFunction();
                },5000);
             } else{
                 loadVideo(loadMoreVideoIds, null , null);
                 setTimeout(function(){ element.addClass("invisible"); }, 1000);
             }
             //showMoreContent($(this), false);

             });
    } else {
        videoLoadMoreObj = $(".comment[cid='" + comment.commentId + "'] .video-block:first .videos-load-more:first");
    }

    var playerList;
    for( var i = 0 ; i < videoIdArr.length; i++){
        playerList = {};

        var newDiv = document.createElement("div");
        newDiv.id = videoIdArr[i] + "_" + comment.commentId + "_" + i;
        playerId = newDiv.id;
        newDiv.className  = "video-player";

        if(i >= richMediaPageSize){
            newDiv.className += " show-more-content invisible ";
            playerList.deferLoading = true;
        }else
            playerList.deferLoading = false;

        videoLoadMoreObj.parent().prepend(newDiv);

        playerList.playerId = playerId;
        playerList.videoId = videoIdArr[i];
        playerArr.push(playerList);
        playerArrByHTMLId[playerId] = playerList;
    }
}

function loadVideoCallbackFunction(playerId){
    clearTimeout(videoCallbackTimeInterval);
    if(playerId){
        $("#" +playerId).removeClass("invisible");
        var commentId = getCommentIdFromPlayerId(playerId);
        sendNumberOfCommentsToHost();
        initPlayer(loadMoreVideoObjectPerComment[commentId][loadMoreVideoObjectPerComment[commentId].length - (parseInt(getIterator(playerId)) + 1)], null , null, loadVideoCallbackFunction);
        if($("#" +playerId).parent().find("iframe.show-more-content:not(.invisible)").length == loadMoreVideoObjectPerComment[commentId].length)
            $("#" +playerId).parent().find(".videos-load-more:not(.invisible)").addClass("invisible");
    }
}

function getIterator(playerId){
    var playerIdSplits = playerId.split("_");
    return playerIdSplits[playerIdSplits.length - 1];
}

function getCommentIdFromPlayerId(playerId){
    var playerIdSplits = playerId.split("_");
    return playerIdSplits[playerIdSplits.length - 2];
}

function renderAdsUICallback(adsArray){
    if ($(".block.review").length == 0)
        presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS);
    else
        presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS);

    //displayAllComments();
    var commentsLength = $(".block.review:not(.ade) .comment:not(.invisible)").length;
    if (!$("#commentsLoadMore").hasClass("finished")){
        if (!params.page || (params.page.numberOfComments + params.page.numberOfSubComments == commentsLength))
            $("#commentsLoadMore").addClass("invisible");
        else
            $("#commentsLoadMore").removeClass("invisible");
    }

    initScaleFontSize();
    var queryString = querystringUtil.extract(window.location.href);
    if (queryString && queryString.bw && !isNaN(queryString.bw))
        setScale(queryString.bw);
    else
        setScale();

    sendNumberOfCommentsToHost();

    checkWixHiveReport();

    if ( ( $("#wrapper").height() == 0 || params.displayScale == 0 ) && adsService.isJMGAffiliate(statistics.getAffiliateId()))
        makeSureJMGUISizeIsCorrect_interval = setInterval(makeSureJMGUISizeIsCorrect, 1000);
}

var makeSureUISizeIsCorrect_interval = null;
var makeSureUISizeIsCorrect_numberOfReports = 0;
function makeSureUISizeIsCorrect(){
    makeSureUISizeIsCorrect_numberOfReports++;
    sendNumberOfCommentsToHost();

    if (makeSureUISizeIsCorrect_numberOfReports >= 20){
        clearInterval(makeSureUISizeIsCorrect_interval);
        makeSureUISizeIsCorrect_interval = null;
    }
}

var makeSureJMGUISizeIsCorrect_interval = null;
var makeSureJMGUISizeIsCorrect_numberOfReports = 0;
function makeSureJMGUISizeIsCorrect(){
    if (!( $("#wrapper").height() == 0 || params.displayScale == 0 )){
        clearInterval(makeSureJMGUISizeIsCorrect_interval);
        makeSureJMGUISizeIsCorrect_interval = null;
        return;
    }

    makeSureJMGUISizeIsCorrect_numberOfReports++;
    messaging.postMessage(null,messaging.messageTypes.setUIWidth, "1");

    if (makeSureJMGUISizeIsCorrect_numberOfReports >= 20){
        clearInterval(makeSureJMGUISizeIsCorrect_interval);
        makeSureJMGUISizeIsCorrect_interval = null;
    }
}

/**
 * render the comment from template inside the HTML.
 * @param commentObj
 * @returns {Object}
 */
var pendingString = "PENDINGEMAILVERIFICATION";
var flaggedString = "PENDINGADMINVERIFICATION";
function renderCommentHTML(commentObj, displayComment, addProcessing, shouldDisplayReplyBtn) {
    if (commentObj == null || commentObj == undefined || commentObj == "")
        return "";

    var commentState = null;
    if (commentObj.state)
        commentState = commentObj.state.toUpperCase();

    if (((statistics.getAffiliateId() == "ynet" || statistics.getAffiliateId() == "TfNicXduh1") && (commentState != null && (commentState == pendingString || commentState == flaggedString))) || ((commentObj.userId != statistics.getUserId()) && (commentState == pendingString || commentState == flaggedString)))
        return "";

    if (addProcessing == undefined)
        addProcessing = false;

    if (displayComment == undefined)
        displayComment = true;

    if (shouldDisplayReplyBtn == undefined)
        addProcessing = true;

    if (params.commentHtml == null)
        params.commentHtml = $("#commentInner").val();

    if (params.commentHtml == null)
        return null;

    if (params.commentProgressBarHTML == null)
        params.commentProgressBarHTML = $("#progressBarEntry").val();

    if (params.commentProgressBarHTML == null)
        return null;

    if (params.commentProcessingHTML == null)
        params.commentProcessingHTML = $("#processingTemplate").val();

    if (params.commentFlaggedHTML == null) {
        params.commentFlaggedHTML = $("#commentFlaggedTemplate").val();
        if (!params.commentFlaggedHTML)
            params.commentFlaggedHTML = null;
    }

    if (params.commentPendingHTML == null) {
        params.commentPendingHTML = $("#commentPendingTemplate").val();
        if (!params.commentPendingHTML)
            params.commentPendingHTML = null;
    }

    if (params.commentProcessingHTML == null || (commentState != null && (params.commentPendingHTML == null || params.commentFlaggedHTML == null) && (commentState == pendingString || commentState == flaggedString )))
        return null;

    if (commentObj.parentId != undefined && commentObj.parentId != null && commentObj.parentId == 0 && params.commentHtmlWithWrapper == null) {
        params.commentHtmlWithWrapper = $("#commentWrapper").val();
        if (params.commentHtmlWithWrapper == null)
            return null;

        params.commentHtmlWithWrapper = params.commentHtmlWithWrapper.replace("#COMMENT_INNER_CODE#", params.commentHtml);
    }

    var commentHTML, currComment, numberOfLikes;

    currComment = commentObj;

    if (commentObj.parentId != undefined && commentObj.parentId != null && commentObj.parentId == 0) {
        commentHTML = params.commentHtmlWithWrapper;
        commentHTML = commentHTML.replace(/#COMMENT_SUB#/g, "");

    } else {
        commentHTML = params.commentHtml;
        commentHTML = commentHTML.replace(/#COMMENT_SUB#/g, "comment-sub");
    }

    commentHTML = commentHTML.replace(/#USER_NAME#/g, commentObj.userFullName.replace(/</g, "&lt;").replace(/>/g, "&gt;"));

    try {
        commentHTML = commentHTML.replace(/#USER_NAME_WITH_ICONS#/g, emojione.shortnameToImage(commentObj.userFullName.replace(/</g, "&lt;").replace(/>/g, "&gt;")));
    } catch (err) {
        commentHTML = commentHTML.replace(/#USER_NAME_WITH_ICONS#/g, commentObj.userFullName.replace(/</g, "&lt;").replace(/>/g, "&gt;"));
        errorService.reportOnError(err);
    }


    if (currComment.title) {
        if (currComment.title == " " || currComment.title == params.mobileDefaultTitle)
            currComment.title = "&nbsp;";

        try {
            commentHTML = commentHTML.replace(/#USER_TITLE#/g, emojione.shortnameToImage(currComment.title.replace(/</g, "&lt;").replace(/>/g, "&gt;")));
        } catch (err) {
            commentHTML = commentHTML.replace(/#USER_TITLE#/g, currComment.title.replace(/</g, "&lt;").replace(/>/g, "&gt;"));
            errorService.reportOnError(err);
        }

    } else
        commentHTML = commentHTML.replace(/#USER_TITLE#/g, "");

    if (currComment.userPhotoUrl) {
        commentHTML = commentHTML.replace(/#USER_PHOTO_URL#/g, currComment.userPhotoUrl);
        commentHTML = commentHTML.replace(/#USER_DEFAULT_PHOTO_CLASS#/g, "");
    } else {
        commentHTML = commentHTML.replace(/#USER_PHOTO_URL#/g, "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");
        commentHTML = commentHTML.replace(/#USER_DEFAULT_PHOTO_CLASS#/g, "user-default-photo");
    } //commentHTML = commentHTML.replace(/#USER_PHOTO_URL#/g, "images/avatar.jpg");

    if (currComment.repliedOnFullName)
        commentHTML = commentHTML.replace(/#REPLY_ON_FULL_NAME#/g, currComment.repliedOnFullName).replace(/#REPLY_FULL_NAME_INVISIBLE#/g, "");
    else
        commentHTML = commentHTML.replace(/#REPLY_ON_FULL_NAME#/g, "").replace(/#REPLY_FULL_NAME_INVISIBLE#/g, "invisible");


    commentHTML = commentHTML.replace(/#COMMENT_TYPE#/g, currComment.typeId);


    if (currComment.typeId != 2) {
        if (!params.isWix) {
            commentHTML = commentHTML.replace(/#SHARE_PAGE_CLASS#/g, "link");
            commentHTML = commentHTML.replace(/#SHARE_PAGE_TARGET#/g, "target=\"_blank\"");
            commentHTML = commentHTML.replace(/#SHARE_PAGE_URL#/g, share.getShareUrl(currComment.commentId));

            var shareLinkAlt = "#USERNAME# posted a comment with Heyoya.com on #PAGE_URL#";
            if (currComment.title != null && currComment.title.length > 0 && currComment.title != "&nbsp;" && currComment.title != " ")
                shareLinkAlt = currComment.title + " - Heyoya.com";
            else
                shareLinkAlt = shareLinkAlt.replace("#USERNAME#", currComment.userFullName).replace("#PAGE_URL#", currComment.fullPageUrl);

            commentHTML = commentHTML.replace(/#SHARE_PAGE_ALT#/g, "alt=\"" + shareLinkAlt + "\"");
        } else {
            commentHTML = commentHTML.replace(/#SHARE_PAGE_CLASS#/g, "");
            commentHTML = commentHTML.replace(/#SHARE_PAGE_TARGET#/g, "");
            commentHTML = commentHTML.replace(/#SHARE_PAGE_ALT#/g, "");
            commentHTML = commentHTML.replace(/#SHARE_PAGE_URL#/g, "javascript:void(0);");
        }

//        commentHTML = commentHTML.replace(/#VOICE_STATUS#/g, "idle");
//        commentHTML = commentHTML.replace(/#VOICE_PLAY_STATUS#/g, "active");
        commentHTML = commentHTML.replace(/#AUDIO_VISIBLE#/g, "");
//        commentHTML = commentHTML.replace(/#TEXT_ONLY_STYLE#/g, "");

        if (currComment.volume != null || currComment.volumeServer != null) {
            var volumeArray;

            var newVolumeField = currComment.volumeServer != null ? currComment.volumeServer : currComment.volume;

            try {
                volumeArray = $.parseJSON(newVolumeField);
            }
            catch (err) {
                volumeArray = null;
            }


            if (volumeArray == null) {
                commentHTML = commentHTML.replace("#TIME_PLACEHOLDER#", "");
                commentHTML = commentHTML.replace("#NUMBER_OF_SECONDS_DISPLAY#", "invisible");
                commentHTML = commentHTML.replace("#NUMBER_OF_SECONDS#", "");
            }
            else {
                var volumeHtml = "";
                var volumeLength = volumeArray.length;

                var element;
                var volumeIterator = 0;

                var maxNumberOfSeconds = params.recordingTime - 5;
                var numberOfMaxBarLines = 74 * ((volumeArray[volumeArray.length - 1].time/1000)/30); //74; //params.recordingTime/1000
                /*if (currComment.parentId > 0) {
                    maxNumberOfSeconds = params.recordingTime - 10;
                    numberOfMaxBarLines = 62 * ((params.recordingTime/1000)/30);
                }*/

                $.each(volumeArray, function (i, obj) {
                    element = obj;

                    var height = Math.max((obj.volume / 100) * 52, 4);
                    if (volumeIterator < numberOfMaxBarLines)
                        volumeHtml += params.commentProgressBarHTML.replace("#HEIGHT#", height > 52 ? 52 : height);

                    volumeIterator++;
                });

//            for (var progressBarIterator = 0; progressBarIterator < volumeLength; progressBarIterator++){
//                volumeHtml +=  params.commentProgressBarHTML.replace("#HEIGHT#",  Math.max( (currComment.volume[progressBarIterator].volume/100)*52 , 4));
//            }

                commentHTML = commentHTML.replace("#TIME_PLACEHOLDER#", volumeHtml.replace(/#STYLE_COLOR#/g, ""));

                var commentTime = Math.ceil(element.time / 1000);
                commentHTML = commentHTML.replace("#NUMBER_OF_SECONDS#", commentTime);

                if (commentTime < maxNumberOfSeconds || $("body").hasClass("extended")) {
                    commentHTML = commentHTML.replace("#NUMBER_OF_SECONDS_DISPLAY#", "");
                } else {
                    commentHTML = commentHTML.replace("#NUMBER_OF_SECONDS_DISPLAY#", "invisible");
                }
            }


        } else {
            commentHTML = commentHTML.replace("#TIME_PLACEHOLDER#", "");
            commentHTML = commentHTML.replace("#NUMBER_OF_SECONDS_DISPLAY#", "invisible");
            commentHTML = commentHTML.replace("#NUMBER_OF_SECONDS#", "");
        }

    } else {

        commentHTML = commentHTML.replace(/#SHARE_PAGE_CLASS#/g, "");
        commentHTML = commentHTML.replace(/#SHARE_PAGE_TARGET#/g, "");
        commentHTML = commentHTML.replace(/#SHARE_PAGE_ALT#/g, "");
        commentHTML = commentHTML.replace(/#SHARE_PAGE_URL#/g, "javascript:void(0);");

//        commentHTML = commentHTML.replace(/#VOICE_STATUS#/g, "disabled");
//        commentHTML = commentHTML.replace(/#VOICE_PLAY_STATUS#/g, "disabled");
        commentHTML = commentHTML.replace(/#AUDIO_VISIBLE#/g, "invisible");
//        commentHTML = commentHTML.replace(/#TEXT_ONLY_STYLE#/g, "long_text");
    }

    if (currComment.msgText) {
        var messageText = currComment.msgText;
        /* if(!params.isWix && statistics.getAffiliateId() != "ynet")
         currComment.msgText = linkifyHtml(currComment.msgText.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/&lt;br \/&gt;/g, "<br \/>"),{ ignoreTags: ['script','style'] });
         else
         currComment.msgText = messageText;*/

        var messageMoreText = null;
        var messageTextUnicode = null;
        var seeMoreMinLength = 500;

        try {
            messageText = messageText.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/&lt;br \/&gt;/g, "<br \/>");            
	    messageText = emojione.shortnameToImage(messageText);
            messageTextUnicode = emojione.shortnameToUnicode(currComment.msgText);
        } catch (err) {
            messageText = currComment.msgText.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/&lt;br \/&gt;/g, "<br \/>");
            messageTextUnicode = null;
            errorService.reportOnError(err);
        }

        if (messageTextUnicode != null)
            messageTextUnicode = messageTextUnicode.replace(/&nbsp;/g, " ");

        if (messageTextUnicode != null && messageTextUnicode.length > seeMoreMinLength && !currComment.links) {
            var imageTagIndex = messageText.indexOf("<img class=\"emojione\"");
            var emojiTextLength = 0;
            if (imageTagIndex != -1 && imageTagIndex < seeMoreMinLength) {
                var imageClosingTagIndex;
                while (imageTagIndex < seeMoreMinLength && imageTagIndex != -1) {
                    imageClosingTagIndex = messageText.indexOf("\"/>", imageTagIndex);
                    if (imageClosingTagIndex > (seeMoreMinLength - 1))
                        break;

                    seeMoreMinLength += (imageClosingTagIndex + 3 - imageTagIndex) - 1;
                    imageTagIndex = messageText.indexOf("<img class=\"emojione\"", imageClosingTagIndex);
                }

                messageMoreText = messageText.substring(imageClosingTagIndex + 3);
                messageText = messageText.substring(0, imageClosingTagIndex + 3);
            } else {
                messageMoreText = messageText.substring(seeMoreMinLength);
                messageText = messageText.substring(0, seeMoreMinLength);
            }

            if (messageMoreText != null && $.trim(messageMoreText.replace(/<br \/>/g, "")) == "")
                messageMoreText = null;
        }

        if (currComment.links) {
            messageText = renderLinks(currComment, messageText);
            if (messageMoreText != null)
                messageMoreText = renderLinks(currComment, messageMoreText);
        }

        commentHTML = commentHTML.replace(/msgText/g, messageText);
        commentHTML = commentHTML.replace(/#USER_MESSGAE#/g, messageText);
        commentHTML = commentHTML.replace(/#USER_MESSGAE_MORE#/g, (messageMoreText != null ? messageMoreText : ""));
        commentHTML = commentHTML.replace(/#COMMENT_MESSAGE_SHOW_MORE_VISIBLE#/g, (messageMoreText != null ? "" : "invisible"));
        commentHTML = commentHTML.replace(/#COMMENT_MESSAGE_VISIBLE#/g, "");

        commentHTML = commentHTML.replace(/#COMMENT_MESSAGE_SHOW_MORE_VISIBLE#/g, "");
    } else {
        commentHTML = commentHTML.replace(/#USER_MESSGAE#/g, "");
        commentHTML = commentHTML.replace(/#USER_MESSGAE_MORE#/g, "");
        commentHTML = commentHTML.replace(/#COMMENT_MESSAGE_VISIBLE#/g, "invisible");
        commentHTML = commentHTML.replace(/#COMMENT_MESSAGE_SHOW_MORE_VISIBLE#/g, "invisible");
    }

    if (commentObj.imageUrls){
        commentHTML = commentHTML.replace(/#COMMENT_IMAGE_VISIBLE#/g, "");
        var imagesArray = commentObj.imageUrls.split("\",\"");
        if (!params.isMobile && imagesArray.length > richMediaPageSize) {
            if(imagesArray.length - richMediaPageSize > 1) {
                commentHTML = commentHTML.replace(/#COMMENT_IMAGE_LOAD_MORE_VISIBLE#/g, "");
                commentHTML = commentHTML.replace(/#COMMENT_IMAGE_LOAD_MORE_SINGLE_VISIBLE#/g, "invisible");
            } else {
                commentHTML = commentHTML.replace(/#COMMENT_IMAGE_LOAD_MORE_VISIBLE#/g, "invisible");
                commentHTML = commentHTML.replace(/#COMMENT_IMAGE_LOAD_MORE_SINGLE_VISIBLE#/g, "");
            }
        } else {
            commentHTML = commentHTML.replace(/#COMMENT_IMAGE_LOAD_MORE_SINGLE_VISIBLE#/g, "invisible");
            commentHTML = commentHTML.replace(/#COMMENT_IMAGE_LOAD_MORE_VISIBLE#/g, "invisible");
        }
    } else {
        commentHTML = commentHTML.replace(/#COMMENT_IMAGE_LOAD_MORE_SINGLE_VISIBLE#/g, "invisible");
        commentHTML = commentHTML.replace(/#COMMENT_IMAGE_LOAD_MORE_VISIBLE#/g, "invisible");
        commentHTML = commentHTML.replace(/#COMMENT_IMAGE_VISIBLE#/g, "invisible");
    }

    if(commentObj.videoLinks) {
        commentHTML = commentHTML.replace(/#COMMENT_VIDEO_VISIBLE#/g, "");
        var videosArray = commentObj.videoLinks.split("\",\"");
        if (!params.isMobile && videosArray.length > richMediaPageSize)
            if(videosArray.length - richMediaPageSize > 1) {
                commentHTML = commentHTML.replace(/#COMMENT_VIDEOS_LOAD_MORE_VISIBLE#/g, "");
                commentHTML = commentHTML.replace(/#COMMENT_VIDEOS_LOAD_MORE_SINGLE_VISIBLE#/g, "invisible");
            } else {
                commentHTML = commentHTML.replace(/#COMMENT_VIDEOS_LOAD_MORE_VISIBLE#/g, "invisible");
                commentHTML = commentHTML.replace(/#COMMENT_VIDEOS_LOAD_MORE_SINGLE_VISIBLE#/g, "");
            }

        else {
            commentHTML = commentHTML.replace(/#COMMENT_VIDEOS_LOAD_MORE_SINGLE_VISIBLE#/g, "invisible");
            commentHTML = commentHTML.replace(/#COMMENT_VIDEOS_LOAD_MORE_VISIBLE#/g, "invisible");
        }

    } else {
        commentHTML = commentHTML.replace(/#COMMENT_VIDEOS_LOAD_MORE_SINGLE_VISIBLE#/g, "invisible");
        commentHTML = commentHTML.replace(/#COMMENT_VIDEOS_LOAD_MORE_VISIBLE#/g, "invisible");
        commentHTML = commentHTML.replace(/#COMMENT_VIDEO_VISIBLE#/g, "invisible");
    }


    commentHTML = commentHTML.replace(/#TIME_ADDED#/g, formatGap.formatDateGap(Date.parse(new Date().toString()),currComment.addedMilliseconds));
    commentHTML = commentHTML.replace(/#TIME_ADDED_DATETIME#/g, currComment.addedMilliseconds);

    commentHTML = commentHTML.replace(/#COMMENT_ID#/g, currComment.commentId);

    numberOfLikes = currComment.numberOfLikes - currComment.numberOfDislikes;

    commentHTML = commentHTML.replace(/#NUM_OF_LIKES#/g, (numberOfLikes != 0?numberOfLikes:"0"));
    commentHTML = commentHTML.replace(/#SHOULD_DISPLAY_LIKES#/g, (numberOfLikes == 0?"hidden":""));
    commentHTML = commentHTML.replace(/#NUM_OF_LIKES_NUMRIC#/g, numberOfLikes);

    if (displayComment)
        commentHTML = commentHTML.replace("#COMMENT_INVISIBLE#", "");
    else
        commentHTML = commentHTML.replace("#COMMENT_INVISIBLE#", "invisible");

    if (shouldDisplayReplyBtn)
        commentHTML = commentHTML.replace("#SHOULD_SHOW_REPLY_BTN#", "");
    else
        commentHTML = commentHTML.replace("#SHOULD_SHOW_REPLY_BTN#", "invisible");

    if (addProcessing){
        commentHTML = commentHTML.replace("#PROCESSING_PLACEHOLDER#", params.commentProcessingHTML);
        commentHTML = commentHTML.replace("#PROCESSING_CLASS#", "processing");
    } else {
        commentHTML = commentHTML.replace("#PROCESSING_PLACEHOLDER#", "");
        commentHTML = commentHTML.replace("#PROCESSING_CLASS#", "");
    }

    commentHTML = commentHTML.replace("#COMMENT_SHARE_URL#", share.getShareUrl(currComment.commentId));

    if(commentState){
        if (commentState == pendingString ){
        	commentHTML = commentHTML.replace("#PENDING_PLACEHOLDER#", params.commentPendingHTML);
        	commentHTML = commentHTML.replace("#PENDING_CLASS#", "pending");
        } else {
        	commentHTML = commentHTML.replace("#PENDING_PLACEHOLDER#", "");
        	commentHTML = commentHTML.replace("#PENDING_CLASS#", "");
        }

        if (commentState == flaggedString){
        	commentHTML = commentHTML.replace("#FLAGGED_PLACEHOLDER#", params.commentFlaggedHTML);
        	commentHTML = commentHTML.replace("#FLAGGED_CLASS#", "flagged");
    	} else {
        	commentHTML = commentHTML.replace("#FLAGGED_PLACEHOLDER#", "");
        	commentHTML = commentHTML.replace("#FLAGGED_CLASS#", "");
    	}
    } else {
    	commentHTML = commentHTML.replace("#PENDING_PLACEHOLDER#", "");
    	commentHTML = commentHTML.replace("#PENDING_CLASS#", "");
    	commentHTML = commentHTML.replace("#FLAGGED_PLACEHOLDER#", "");
    	commentHTML = commentHTML.replace("#FLAGGED_CLASS#", "");
    }

    return commentHTML;

}

function renderLinks(comment, msgText){
    if(comment.links == null)
        return;

    var linksObj;

    if (!(comment.links && typeof comment.links === "object"))
        linksObj = JSON.parse(comment.links);
    else
        linksObj = comment.links;

    var otherLinksArr = linksObj.others;
    var videoLinksArr = linksObj.videos;

    if(otherLinksArr)
        msgText = linkify(msgText, otherLinksArr);
    if(videoLinksArr)
        msgText = linkify(msgText, videoLinksArr);

    return msgText;
}

function linkify(msg, links){
   links = $.unique(links);
   $.each(links, function(key, value){
        val = escapeRegExp(value);
        if($("body").hasClass("firefox") || $("body").hasClass("safari") || $("body").hasClass("ieb"))
            msg = msg.replace(new RegExp("\\b"+val +"\\b","gi"), '<a href="HEY-PATTERN-OYA' + value + 'HEY-PATTERN-OYA" target="_blank">' +  value + '</a>');
        else
            msg = msg.replace(new RegExp("\\b"+val +"\\b","gi"), '<a href="' + value + '" target="_blank">' +  value + '</a>');
   });

   if($("body").hasClass("firefox") || $("body").hasClass("safari") || $("body").hasClass("ieb"))
        msg = msg.replace(/HEY-PATTERN-OYA/g, "");

   return msg;

}

function escapeRegExp(str) {
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^$\|]/g, "\\\$&");
}

/*
function linkifyMsg(inputText) {
    var replacedText, replacePattern1, replacePattern2, replacePattern3;
[],!$
if (inputText.indexOf("[") != -1)
return false;
    //URLs starting with http://, https://, or ftp://
    replacePattern1 = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;
    replacedText = inputText.replace(replacePattern1, '<a href="$1" target="_blank">$1</a>');

    //URLs starting with "www." (without // before it, or it'd re-link the ones done above).
    replacePattern2 = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
    replacedText = replacedText.replace(replacePattern2, '$1<a href="http://$2" target="_blank">$2</a>');

    //Change email addresses to mailto:: links.
    replacePattern3 = /(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim;
    replacedText = replacedText.replace(replacePattern3, '<a href="mailto:$1">$1</a>');

    return replacedText;
        }
    }
    return comment;
}
*/

var addCommentContainerNumber = 0;
function renderAddCommentReply(commentHTMLObj){
    commentHTMLObj = $(commentHTMLObj);

    var addHTML = $("#addCommentTemplate").html();
    var destination, checkForAdditional = false;
    addCommentContainerNumber++;
    if (commentHTMLObj.parent().hasClass("review") && commentHTMLObj.parent().find(".comment").length == 1){

        addHTML = addHTML.replace(/#TOP_LEVEL_COMMENT#/g, "invisible").replace("#REPLY#", "single");
        destination = commentHTMLObj.parent();

    } else if (commentHTMLObj.hasClass("comment-sub") && !commentHTMLObj.next().hasClass("comment")){

        addHTML = addHTML.replace(/#TOP_LEVEL_COMMENT#/g, "invisible").replace("#REPLY#", "single");
        destination = $(commentHTMLObj.parentsUntil(".review").parent()[0]);

    } else {

        addHTML = addHTML.replace(/#TOP_LEVEL_COMMENT#/g, "").replace("#REPLY#", "reply");
        destination = commentHTMLObj.find("footer:first");

        checkForAdditional = true;
    }

    if (destination.next().hasClass("add-comment-reply-container"))
        return;

    if (checkForAdditional){
        if (commentHTMLObj.next().hasClass("comment"))
            commentHTMLObj.next().addClass("add-container-before");
        else if (commentHTMLObj.parent().hasClass("review")){
            commentHTMLObj.find(".comment:first").addClass("add-container-before");
        }
    }

    addHTML = addHTML.replace("#ADD_COMMENT_CONTAINER_ID#", addCommentContainerNumber);

    if ($("body").hasClass("t-small-buttons")){
        var loginStringToReplace = "/>" + $("#additionalText span[lang_id='log_in']").text() + "</g";
        addHTML.replace(loginStringToReplace, "><");
    }

    destination.after(addHTML);

    if (params.isMobile && params.isWix)
	$(".add-container .how-to-video-link").addClass("invisible");

    languagesService.setObjectLanguage($("#addCommentContainer" + addCommentContainerNumber));

    if (params.isMobile && !params.isTablet)
        $("#addCommentContainer" + addCommentContainerNumber + " .add-comment-title-input").val(params.mobileDefaultTitle);

    if (params.pendingWLExecution){
        try {
            if (undefined != typeof fillAddSubComment && typeof fillAddSubComment == "function")
                fillAddSubComment($("#addCommentContainer" + addCommentContainerNumber));
        } catch(err){

        }
    }



    $("#addCommentContainer" + addCommentContainerNumber).fadeIn("fast", function(){
        setPlaceholder("#addCommentContainer" + addCommentContainerNumber);
    });

    var addContainer = $("#addCommentContainer" + addCommentContainerNumber + " .add-container");
    addContainer.addClass("slow");
    addContainer.find(".close").removeClass("invisible");

    addContainer.find(".h2 .default-headline").addClass("invisible");
    addContainer.find(".h2 .reply-headline").addClass("invisible");


    if (params.shouldDisplayReplyAddCommentHeadline) {
        if (!params.replyAddCommentHeadlineText)
            addContainer.find(".h2 .reply-headline").text(addContainer.find(".h2 .reply-headline").attr("placeholder").replace(/\{Commenter_Name\}/g, commentHTMLObj.find("header:first .text-wrap .name").attr("title")));
        else
            addContainer.find(".h2 .reply-headline").text(params.replyAddCommentHeadlineText.replace(/\{Commenter_Name\}/g, commentHTMLObj.find("header:first .text-wrap .name").attr("title")));

        addContainer.find(".h2 .reply-headline").removeClass("invisible");
    }

    if (params.shouldDisplayReplySubAddCommentHeadline && params.replySubAddCommentHeadlineText)
        addContainer.find(".headline-text").text(params.replySubAddCommentHeadlineText.replace(/{Page_Title}/g, params.originalSubHeadlineText));
    else if (!params.shouldDisplayReplySubAddCommentHeadline)
        addContainer.find(".headline-text").addClass("invisible");
    else
        addContainer.find(".headline-text").text(params.originalSubHeadlineText);

    if (!params.shouldDisplayReplyAddCommentHeadline && !params.shouldDisplayReplySubAddCommentHeadline)
        addContainer.find(".how-to-video-link").addClass("single-element");

    setAddCommentContainer(addContainer);

    initLoginView(statistics.getUserId(), statistics.getUserString());


    if (params.pendingWLExecution){
        try {
            if (undefined != typeof whitelableLoginReplyLoginBehavior && typeof whitelableLoginReplyLoginBehavior == "function")
                whitelableLoginReplyLoginBehavior();
        } catch(err){

        }
    }


    setAddCommentEvents(addContainer);
    initScaleFontSize();
    setScale();

    setExtentedUI(true);
}

function setCommentsEvents(){
    $(".comment .play-btn").on("click",recorderPlayComment);
    $(".comment .pause-btn").on("click",recorderPauseClick);
    $(".comment .btn-retake").on("click",function(e){
        var comment = $($(e.target).parents('.comment')[0]);
        recorderResetPlaying(); $(this).parent().find(".play-btn:first").click();
        sendEvent("Product","ReplayComment", "user replayed a comment", {"commentId": comment.attr("cid"), "pageId":params.page.id});
    });

//    $(".comment .audio .stop_btn").on("click",recorderStopClick);

//    $(".comment .dislike").on("click",reportLike);
    $(".comment .footer-l .like").on("click",reportLike);

    $(".comment .footer-l .facebook").off("click").on("click", function(e){share.fbComment($(e.target).parents('.comment').attr("cid"))});
    $(".comment .footer-l .twitter").off("click").on("click", function(e){share.tweetComment($(e.target).parents('.comment').attr("cid"))});
    $(".comment .footer-l .google-plus").off("click").on("click", function(e){share.googlePlusComment($(e.target).parents('.comment').attr("cid"))});
    $(".comment .footer-l .copy-link").off("click").on("click", function(e){
        var comment = $($(e.target).parents('.comment')[0]);
        var shareLinkContainer = $(comment.find(".share-link-container")[0]);

        if (shareLinkContainer.hasClass("open")){
            shareLinkContainer.fadeOut(300, function(e){
                shareLinkContainer.removeClass("open");
                sendNumberOfCommentsToHost();
            });
            sendEvent("Product","Copy-Link-Close-Share-Comment", "Copy-Link-Close-Share-Comment click by user", { "commentId": comment.attr("cid"), "pageId": params.page.id });
            return;
        }

        shareLinkContainer.fadeIn(300, function(e){
            shareLinkContainer.addClass("open");
            if (!params.isMobile)
                $(comment.find(".share-link-input")[0]).select();

            sendNumberOfCommentsToHost();
        });

        if (params.isMobile){
        comment.find(".share-link-input")[0].focus();
        comment.find(".share-link-input")[0].setSelectionRange(0, 9999);
        }

        sendEvent("Product","Copy-Link-Share-Comment", "Copy-Link-Share-Comment click by user", { "commentId": comment.attr("cid"), "pageId": params.page.id });

        if (params.isSDK){
            messaging.postMessage(null,messaging.messageTypes.sdkCopyToClipboard, $(comment.find(".share-link-input")[0]).val());

        }
    });

//    $(".actions .tweeter_sharer").on("click", function(e){share.tweetComment($(e.target).parents('.comment').attr("cid"))});
    $(".comment .header-r .flag").on("click", function(e){openReportInappComment(e);});

    $(".comment footer .reply").off("click").on("click", function(){
//        if (shouldOpenRecordingWindow()){
//            openRecorderPopup($($(this).parents("article.review-post")[0]).attr("cid"));
//        } else{
            addSubComment($(this));
//        }

    });

    $(".comment .message_show_more").off("click").on("click", function(){
        $(this).addClass("invisible");
        $(this).parent().find(".message_show_more_text").removeClass("invisible");
        sendNumberOfCommentsToHost();
    });

}

var isValid = false;

function resetFileValidations(){
    $(".messages").addClass("invisible");
    $(".validImg").addClass("invisible");
    $(".sizeError").addClass("invisible");
}

function readURL(input) {
    if (!input.files || !input.files[0])
        return;

    var msgDiv = $(input).next(".messages");

    if(!isImageFile(input.files[0])){
        $(msgDiv).removeClass("invisible");
        $($(msgDiv).children(".validImg")).removeClass("invisible");
    }else if( ( (statistics.getAffiliateId() && statistics.getAffiliateId() == "PQM2dh02fU") && input.files[0].size > (2 * 1024 * 1024) ) ||
            (  (!statistics.getAffiliateId() || statistics.getAffiliateId() != "PQM2dh02fU") && input.files[0].size > (1024 * 1024) ) ){
         $(msgDiv).removeClass("invisible");

        if ((!statistics.getAffiliateId() || statistics.getAffiliateId() != "PQM2dh02fU"))
            $($(msgDiv).children(".sizeError:not('.sizeError2mb')")).removeClass("invisible");
        else
            $($(msgDiv).children(".sizeError2mb")).removeClass("invisible");
    } else{
        var reader = new FileReader();
        reader.onload = function (e) {
           // checkDimensions(input, e.target.result, function(isValid){
             //   if(isValid){
                    showLoadingRichMediaDiv(input, "images/loading.gif");
                    sendImageToServer(input, e.target.result, _uploadImageCallback);
               // }
            //});
        };
        reader.readAsDataURL(input.files[0]);
    }
}

function sendImageToServer(inputElement, imageData, callback){
    var formData = new FormData();
    formData.append("commentImage",  imageData);
    formData.append("heym",  CryptoJS.MD5(imageData).toString());

    $.ajax({
          type: 'POST',
          url: params.internalUrl + "uploadImages.action",
          data: formData,
          processData: false,
          contentType: false,
          cache: false
    }).always(function( data ) {
        var imageUrl;
        try{
            var dataObj = JSON.parse(data);
            if(dataObj != null){
                imageUrl = dataObj.image_url;
                callback(inputElement, imageUrl);
                sendEvent("Product","RichMediaImageUpload", "user uploaded a image", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            }else
               sendEvent("Tracker","ErrorUploadingImage", "error while uploading image", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

        }catch(err) {
            imageUrl = null;
            sendEvent("Tracker","ErrorUploadingImage", "error while uploading image", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        }
    });
}

function _uploadImageCallback(inputElement, imageUrl ){
    showRichMediaDiv(inputElement, imageUrl);
}

function deleteImageFromServer(url, callback){
    var formData = new FormData();
     formData.append("commentImage",  url);
    $.ajax({
          type: 'POST',
          url: params.receiverStaticUrl + "deleteUploadedImages.action",
          data: formData,
          processData: false,
          contentType: false,
          cache: false
    }).always(function( data ) {
       if(data == 1)
            callback(true);
       else
            callback(false);
    });
}

function showRichMediaDiv(thisElement, src){
    var richMediaDiv = $($(thisElement).parents("form")).siblings(".rich-media-div");
    if(!$(richMediaDiv).is(":visible"))
        $(richMediaDiv).removeClass("invisible");

    var imageBlockHTML = "<span class='preview image-preview'>";
        imageBlockHTML += "<span class='cross invisible'></span>";
        imageBlockHTML += "<img src='" + src + "'  style = 'left:-1000px;position:absolute' onclick='showMedia(this)'></span>";

    $(richMediaDiv).append(imageBlockHTML);

    $(richMediaDiv).find(".image-preview img").load(function(){
         $(richMediaDiv).find("span.loading").remove();
         $(richMediaDiv).find(".image-preview img").css("left","auto");
         $(richMediaDiv).find(".image-preview img").css("position","inherit");
         if(params.isMobile)
            $(richMediaDiv).find(".cross").removeClass("invisible");
    });
}

function showMedia(thisElement){
    if(!params.isMobile)
        window.open(thisElement.src);
    else
      $(thisElement).siblings("span.cross").removeClass("invisible");
}

function showLoadingRichMediaDiv(thisElement, imageUrl){
    var richMediaDiv = $($(thisElement).parents("form")).siblings(".rich-media-div");
    if(!$(richMediaDiv).is(":visible"))
        $(richMediaDiv).removeClass("invisible");

    $(richMediaDiv).append("<span class='loading'><img src='" + imageUrl + "'></span>");
    sendNumberOfCommentsToHost();
}

function isImageFile(file){
    if(!file)
        return false;
    var filePath = file.name;
    var extension = filePath.substring(filePath.lastIndexOf('.') + 1).toLowerCase();
    if (extension == "gif" || extension == "png" || extension == "jpeg" || extension == "jpg"){
        isValidImg = true;
        return true;
    }
    else{
        isValidImg = false;
        return false;
    }
}

/*function checkDimensions(input, src, callback){
    var image = new Image();
    var sizeToBeChecked = "500";
    var checkHtOnly = false;
    var checkWidthOnly = false;
    var msgId;
    image.onload = function () {
        var height = this.height;
        var width = this.width;
        var isValid = false;
         if (height <= sizeToBeChecked)
                isValid = true;
        if(!isValid){
            var msgDiv = $(input).next(".messages");
            $(msgDiv).removeClass("invisible");
            $($(msgDiv).children(".heightError")).removeClass("invisible");
            return callback(false);
        }else return callback(true);

    };
    image.src = src;
}*/

function clearCommentEvents(){
    $(".comment .footer-l .like").off("click");
    $(".comment .footer-l .facebook").off("click");
    $(".comment .footer-l .twitter").off("click");
    $(".comment .footer-l .google-plus").off("click");
    $(".comment .footer-l .copy-link").off("click");
    $(".comment .header-r .flag").off("click");

    $(".comment .play-btn").off("click");
    $(".comment .pause-btn").off("click");
    $(".comment .btn-retake").off("click");


}


var addCommentInterval = null;
var addCommentTitleInterval = null;
var addCommentNameInterval = null;
var addCommentMessageTimeout = null;
var notificationsOutTimeout = null;
var wasMouseStatsStartedRecordingBellClick = false;
function setAddCommentEvents(addCommentContainer){
    if (!addCommentContainer)
        return;

    addCommentContainer = $(addCommentContainer);

    addCommentContainer.find(".recorder-messaging-view").off("click").on("click",function(event){event.stopPropagation();setAddCommentContainer(this); if ($(this).hasClass("plain") || $(this).hasClass("error")) recorderStartRecording();});
    addCommentContainer.find(".recorder-default-view").off("click").on("click",function(event){event.stopPropagation();setAddCommentContainer(this);recorderStartRecording();});
    addCommentContainer.find(".recorder-default-view .link-wrap").off("click").on("click",function(event){event.stopPropagation();setAddCommentContainer(this);recorderStartRecording();});
    addCommentContainer.find(".recorder-default-view a").off("click").on("click",function(event){event.stopPropagation();setAddCommentContainer(this);recorderStartRecording();});

/*
    if(params.pendingEmoAreaLoad != undefined){
         if(params.pendingEmoAreaLoad == false )
         initEmojiArea(addCommentContainer.find("textarea.add-comment-text-input"));
         *//* el[0].emojioneArea.on("emojibtn.click", function(btn, event) {
             console.log(btn.html());
         }); *//*
    }*/

    var showEmoji = true;
    if($("body").hasClass("scaled")  && $("body").hasClass("firefox"))
       showEmoji = false;
    if(statistics.getAffiliateId() != "ynet" && !params.isMobile && showEmoji){
     try{
            initEmojiArea(addCommentContainer.find("textarea.add-comment-text-input"));
             $(".emojionearea-picker").on('DOMNodeInserted', function(e) {
                $(this).find("input.search").attr("placeholder",$("#emojiSearch").html());
             });
             setEnterKeyBehaveForIE();
         }catch(err){
            //sendEvent("Tracker","InitEmojioneArea", "Could Not init emoji" , ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        }
    }


    if(statistics.getAffiliateId() == "ynet"){
        addCommentContainer.find(".camera-div").addClass("invisible");
        addCommentContainer.find(".form-elements").css("padding-bottom","0");
    }

    if(statistics.getAffiliateId() != "ynet"){
        addCommentContainer.find("span.bell-icon").off("click").on("click",   function () {
            if (!wasMouseStatsStartedRecordingBellClick) {
                try {
                    MouseStatsVisitorPlaybacks.Resume();
                } catch (e) {
                    MouseStats_PausedPlaybacks = false;
                }; //Start Playback Notificatios start click

                wasMouseStatsStartedRecordingBellClick = true;
            }

              var isFirefoxScaledNotMobile = $("body").hasClass("firefox") && $("body").hasClass("scaled") && !params.isMobile;
               var height = 0;
               if($(".notification-body .row:nth(1)").length > 0)
                    height = $(".notification-area-wrapper").height() - (parseInt($(".notification-body .row:nth(1)").css('height').split("px")[0]) + parseInt($(".notification-body .row:nth(1)").css('height').split("px")[0])/2)+ 7;

               if($(".notification-area-wrapper").hasClass("shown")){
                   if($(".notification-count").hasClass("invisible"))
                       $(this).addClass("blur").removeClass("show");
                   $(".notification-area-wrapper").removeClass("shown").addClass("hidden");
                   if($(".notification-body .row").length > 0 ){
                       $("#wrapper").css("min-height",  parseInt($("#wrapper").height()) - parseInt(height));
                       sendNumberOfCommentsToHost();
                   }
                   statistics.report("notifications-menu-click-closed");
               }
               else{
                   $(this).addClass("show").removeClass("blur");
                   notificationsPageNo = 0;
                   if($(".notification-body .row").length > 0 ){
                       $("#wrapper").css("min-height",  parseInt($("#wrapper").height()) + parseInt(height));
                       sendNumberOfCommentsToHost();
                   }
                   $(".notification-area-wrapper").addClass("shown").removeClass("hidden");
                    statistics.report("notifications-menu-click-open");

                   $(".notification-body .row").each(function(){
                        statistics.report("notifications-impression", {"commentId": $(this).attr("id")});
                   });
               }

              if(isFirefoxScaledNotMobile){
                    var topOffset = 0;
                    if($(".block.review:first").length == 0)
                        topOffset = $("#noComments").offset().top;
                    else
                        topOffset = $(".block.review:first").offset().top

                    topOffset = topOffset * (1/lastScaleRatio) - (parseInt($(".reviews-block .holder:first").css("padding-top").split("px")[0]));
                    $(".notification-area-wrapper").css("top", topOffset + "px");
                    $(".reviews-block .holder:first").append($(".notification-area-wrapper"));
                }

           });
	

        $("body").on("mouseleave" , ".options-menu" , function() {
            if (notificationsOutTimeout != null){
                clearTimeout(notificationsOutTimeout);
                notificationsOutTimeout = null;
            }

            notificationsOutTimeout = setTimeout(function(){
                if (notificationsOutTimeout == null)
                    return;

                clearTimeout(notificationsOutTimeout);
                notificationsOutTimeout = null;

                $(".options-menu").removeClass("shown").addClass("hidden");

            }, 1000);
        });

        $("body").on("mouseenter", ".options-menu", function () {
            if (notificationsOutTimeout == null)
                return;

            clearTimeout(notificationsOutTimeout);
            notificationsOutTimeout = null;
        });
	
        $("body").on("mouseenter" , ".row-data" , function(){
              statistics.report("notifications-hover",{"commentId": $(this).parent().attr("id")});
        });

    }

    addCommentContainer.find(".record-btn").off("click").on("click",function(){

        if (!params.refreshLanguageFileEveryPageview)     {
            try { MouseStatsVisitorPlaybacks.Resume(); } catch(e) { MouseStats_PausedPlaybacks = false; }; //Start Playback Recording
        }

        setAddCommentContainer(this); recorderStartRecording();

    });
    addCommentContainer.find(".stop-btn").off("click").on("click",function(){setAddCommentContainer(this); recorderStopClick(); });
    addCommentContainer.find(".pause-btn").off("click").on("click",function(){setAddCommentContainer(this); recorderPauseClick(); });
    addCommentContainer.find(".play-btn").off("click").on("click",function(){
        setAddCommentContainer(this);
        recorderPlayRecording();
    });

    addCommentContainer.find(".add-comment-reset-button").off("click").on("click",function(){
        setAddCommentContainer(this); recorderResetRecording();
        sendEvent("Product","RetakeRecording", "user reset his recording while only audio was recorded", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
    });
    addCommentContainer.find(".add-comment-clear-button").off("click").on("click",function(){
        setAddCommentContainer(this); recorderResetRecording();
        sendEvent("Product","ClearRecording", "user reset his recording while both text and audio were captured", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
    });

    addCommentContainer.find(".add-comment-submit-btn").off("click").on("click",function(){
            sendEvent("Product","ContinueClick", "user pressed continue to post the comment", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            setAddCommentContainer(this); postButtonClick();
    });

    addCommentContainer.find(".add-comment-text-input").on("focus click", function(){
        sendNumberOfCommentsToHost();

        if (params.isMobile && addCommentInterval == null){
            var textInputObj = $(this);
            if (params.isIOS && $("body").hasClass("safari") && ( textInputObj.val() == "" || textInputObj.val() == textInputObj.attr("placeholder"))){
                textInputObj.val("");
            }

            addCommentInterval = setInterval(function(){
                if (addCommentContainer.find(".add-comment-text-input").val().trim().length > 0)
                    addCommentContainer.find(".add-comment-text-input").keydown();

            } , 1000);
        }
    });

    addCommentContainer.find(".add-comment-text-input").on("blur", function(){
        if (addCommentInterval != null){
            clearInterval(addCommentInterval);
            addCommentInterval = null;
        }

        setTimeout(function(){
            limitMsgLength();
        }, 100);

        sendNumberOfCommentsToHost();

        if (!wasRecordingStarted && addCommentContainer.find(".add-comment-text-input").val().trim().length == 0 && params.addComment.container != null)
            params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");
    });

    addCommentContainer.find(".add-comment-text-input").off("keydown").on("keydown paste", function(){
        var textInputObj = $(this);
        if (textInputObj.hasClass("invisible"))
            return;

        if (addCommentMessageTimeout != null){
            clearTimeout(addCommentMessageTimeout);
            addCommentMessageTimeout = null;
        }

        setAddCommentContainer(this);

        textInputObj.addClass("typed");

        addCommentMessageTimeout = setTimeout(function(){
            limitMsgLength();
             if(statistics.getAffiliateId() != "ynet")
                    checkYoutubeVideo($(textInputObj).parents(".add-container"), $(textInputObj).val().trim());

            if (!params.isMobile || params.isTablet) {
                if (wasRecordingStarted || addCommentContainer.find(".add-comment-text-input").val().trim().length > 0){
                    if(statistics.getUserId() && addCommentContainer.find(".add-comment-text-input").val().trim().length > 0 && statistics.getAffiliateId() != "ynet"){
                        params.addComment.container.addClass("logged-in");
                        params.addComment.container.find(".add-comment-post-comment-new").removeClass("invisible");
                        params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");
                        params.addComment.container.find(".logout-n").removeClass("invisible");
                    }else{
                        params.addComment.container.removeClass("logged-in");
                        params.addComment.container.find(".logout-n").addClass("invisible");
                        params.addComment.container.find(".add-comment-submit-btn").removeClass("invisible");
                        params.addComment.container.find(".add-comment-post-comment-new").addClass("invisible");
                    }
                }else{
                    params.addComment.container.removeClass("logged-in");
                    params.addComment.container.find(".logout-n").addClass("invisible");
                    params.addComment.container.find(".add-comment-post-comment-new").addClass("invisible");
                    params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");
                }
            }else{

                if(params.isMobile && !params.isTablet){
                     if(wasRecordingStarted){
                        params.addComment.container.find(".submission-form .add-comment-title-input").css("font-size", params.addComment.container.find(".add-comment-name-input").css("font-size")).val("");
                     }else{
                        params.addComment.container.find(".post-step-2 .review-posting-block .submission-form").attr("style", "display:none !important");
                     }
                }

                params.addComment.container.find(".post-step-2").removeClass("invisible").css("display", "");
            }

            sendNumberOfCommentsToHost();

        }, 300);


        if (!textInputObj.hasClass("continue") && params.addComment.container.find(".record-btn").hasClass("invisible"))
            setResetButtonsDisplay();

        sendNumberOfCommentsToHost();

        if (textInputObj.val() != "" && textInputObj.attr("reported") != "1"){
            textInputObj.attr("reported", "1");
            if (!params.refreshLanguageFileEveryPageview && (!$("body").hasClass("scaled") || params.isMobile )){
                try { MouseStatsVisitorPlaybacks.Resume(); } catch(e) { MouseStats_PausedPlaybacks = false; }; //Start Playback Recording
            }

            sendEvent("Product","WritingComment", "user writting a text comment", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            textInputObj.attr("reported", "1");
            guidance.closeAllBoxes();
        }
    });

    addCommentContainer.find(".add-comment-title-input").on("focus click", function(){
        if (params.isMobile && addCommentTitleInterval == null){
            addCommentTitleInterval = setInterval(function(){
                addCommentContainer.find(".add-comment-title-input").keydown();
            } , 2000);
        }
    });

    addCommentContainer.find(".add-comment-title-input").on("blur", function(){
        if (addCommentTitleInterval != null){
            clearInterval(addCommentTitleInterval);
            addCommentTitleInterval = null;
        }
    });

    addCommentContainer.find(".add-comment-title-input").off("keydown paste").on("keydown paste", function(){
        setAddCommentContainer(this);

        titleInputObj = $(this);

        titleInputObj.removeClass("invalid");

        if (titleInputObj.val() != "")
            titleInputObj.removeClass("empty");
        else
            titleInputObj.addClass("empty");
//            if (params.validationTimeouts.commentTitleTimeout != null){
//                clearTimeout(params.validationTimeouts.commentTitleTimeout);
//                params.validationTimeouts.commentTitleTimeout = null;
//            }
//
//            params.validationTimeouts.commentTitleTimeout = setTimeout(function(){
            setTimeout(function () {
                limitInputLength(titleInputObj, "comment-header");
            }, 1);

        if (titleInputObj.val() != "" && titleInputObj.attr("reported") != "1"){
            sendEvent("Product","WritingTitle", "user writting the comment title", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            titleInputObj.attr("reported", "1");

            if ( params.addComment.container.find(".signout").hasClass("invisible") )
                guidance.showBox(guidance.getBoxIds().loginHowTo, true);
        }

//            }, 200);

    });


    addCommentContainer.find(".add-comment-name-input").on("focus click", function(){
        if (params.isMobile && addCommentNameInterval == null){
            addCommentNameInterval = setInterval(function(){
                addCommentContainer.find(".add-comment-name-input").keydown();
            } , 2000);
        }
    });

    addCommentContainer.find(".add-comment-name-input").on("blur", function(){
        if (addCommentNameInterval != null){
            clearInterval(addCommentNameInterval);
            addCommentNameInterval = null;
        }
    });

    addCommentContainer.find(".add-comment-name-input").off("keydown paste").on("keydown paste", function(){
        setAddCommentContainer(this);

        $(this).removeClass("invalid");
//            if (params.validationTimeouts.commentNameTimeout != null){
//                clearTimeout(params.validationTimeouts.commentNameTimeout);
//                params.validationTimeouts.commentNameTimeout = null;
//            }
//
////            if ($("#addComment #commentUserName").length % 3 == 0)
////                limitInputLength($("#addComment #commentUserName"), "user_name");
////            else
//            params.validationTimeouts.commentNameTimeout = setTimeout(function(){
        limitInputLength($(this), "comment-user-name");
//            }, 200);

    });

    addCommentContainer.find(".add-comment-email-input").off("keydown paste").on("keydown paste", function(){setAddCommentContainer(this); $(this).removeClass("invalid"); });
    addCommentContainer.find(".post-step-2 .signin-block .email").off("click").on("click", function(){setAddCommentContainer(this);
        sendEvent("Product","EmailIconClick", "user clicked on the recording post with email", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        params.addComment.container.find(".signin-selection").fadeOut("fast", function(){params.addComment.container.find(".signin-form-container").removeClass("invisible"); });});


    addCommentContainer.find(".close").off("click").on("click", function(){
        setAddCommentContainer(this);

        detachAddContainer($(this));
    });

    addCommentContainer.find(".ucbrowser-install-message .close").off("click").on("click", function(){
        setAddCommentContainer(this);

        clearTimeout(ucBrowserRecorderInterval);
        ucBrowserRecorderInterval = null;
        params.addComment.container.find(".ucbrowser-install-message").fadeOut("fast", function(){
            params.addComment.container.find(".ucbrowser-install-message").addClass("invisible").css("display", "");
        });
    });

    addCommentContainer.find(".logout-button").off("click").on("click", function(){
        setAddCommentContainer(this);

        messaging.postMessage(null,messaging.messageTypes.userLoggedOut,"1",undefined,messaging.messageDestinations.data);
        loginService.logout();
        statistics.setUserId(null);
        statistics.setUserString(null);

        if((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet"){
            params.addComment.container.removeClass("logged-in");
            params.addComment.container.find(".logout-n").addClass("invisible");
            params.addComment.container.find(".add-comment-post-comment-new").addClass("invisible");
            params.addComment.container.find(".add-comment-submit-btn").removeClass("invisible");
        }

        setLoginView();

        if ((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet" &&  (params.addComment.container.find(".add-comment-text-input").val() != "" && params.addComment.container.find(".add-comment-text-input").val() != params.addComment.container.find(".add-comment-text-input").attr("placeholder")) )
            params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($('#additionalText span[lang_id="text_logged_out"]').html());

        sendNumberOfCommentsToHost();
    });

    addCommentContainer.find(".how-to-video-link").off("click").on("click", function(){
        if (params.isWix){
            messaging.postMessage(null,messaging.messageTypes.wixOpenModal,[params.baseUrl + "b2b_how_to.jsp", 680, 384]);
            return;
        }

        var addContainerBackground = $("#addContainerBackground");
        var isSafariNotMobile = $("body").hasClass("safari") && !params.isMobile;
        addContainerBackground.removeClass("invisible").css("height", (  (lastScaleRatio > 0 && lastScaleRatio < 1 && !isSafariNotMobile)?calcOffetTop($("#poweredByLink")[0]): $(document).height() ) + "px");

        $("#howToVideo").removeClass("invisible");

        if (!params.isMobile && lastScaleRatio > 0  && lastScaleRatio < 1) {
            addContainerBackground.css("-ms-transform", "scale(" + (1 / lastScaleRatio) + ")");/* IE 9 */
            addContainerBackground.css("-moz-transform", "scale(" + (1 / lastScaleRatio) + ")");/* Firefox */
            addContainerBackground.css("-o-transform", "scale(" + (1 / lastScaleRatio) + ")");/* Opera */
            addContainerBackground.css("-webkit-transform", "scale(" + (1 / lastScaleRatio) + ")");/* Safari And Chrome */
            addContainerBackground.css("transform", "scale(" + (1 / lastScaleRatio) + ")");/* Standard Property */
        }

        var minWidth = 590;
        var videoWidth = addContainerBackground.width();
        if (!params.isMobile && lastScaleRatio > 0 && lastScaleRatio < 1 && (navigator.userAgent.toLowerCase().indexOf("msie") != -1 || navigator.userAgent.toLowerCase().indexOf("trident") != -1))
            videoWidth *= (1 / lastScaleRatio);

        if (videoWidth > minWidth)
            videoWidth = minWidth + ((videoWidth - minWidth)/2);

        var videoHeight = videoWidth * 0.5625;

        var addCommentContainerElement = addCommentContainer;
        if (addCommentContainerElement.attr("id") != "addCommentContainer") {
            addCommentContainerElement = addCommentContainerElement.parent();
            var addCommentContainerTop = calcOffetTop(addCommentContainerElement[0]) * (isSafariNotMobile && lastScaleRatio > 0 && lastScaleRatio != 1? lastScaleRatio : 1);//(lastScaleRatio > 0 && lastScaleRatio < 1 && !isSafariNotMobile)?calcOffetTop(addCommentContainerElement[0]) * lastScaleRatio : addCommentContainer.offset().top;
            var howToVideoPositionEnd = addCommentContainerTop + 30 + videoHeight;
            //var bodyHeight = $("body").height();
            //if (bodyHeight < howToVideoPositionEnd)
            //    $("#howToVideo").css("top", addCommentContainerTop - 30 - (howToVideoPositionEnd - bodyHeight));
            //else
            $("#howToVideo").css("top", addCommentContainerTop - 130);
        } else
            $("#howToVideo").css("top", "0");

        //messaging.postMessage(null, messaging.messageTypes.scrollToVideoTop, [calcOffetTop($("#howToVideoContainer")[0])-videoHeight, videoHeight]);

        if (!$("body").hasClass("rtl")) {
            $("#howToVideoContainer").css("padding-left", (videoWidth - minWidth) / 2);

            if (!$("body").hasClass("safari") || lastScaleRatio == 1 || lastScaleRatio == 0  )
                $("#howToVideoClose").css("left", ((videoWidth - minWidth) / 2) + videoWidth - 34);
            else { //Safari scaled only
                var howToVideoCloseObj = $("#howToVideoClose");
                var newFontSize;
                if (!isSafariNotMobile || howToVideoCloseObj.hasClass("size-fixed"))
                    newFontSize = parseInt(howToVideoCloseObj.css("font-size"), 10);
                else
                    newFontSize = parseInt(howToVideoCloseObj.css("font-size"), 10) * lastScaleRatio;

                howToVideoCloseObj.attr("style", "font-size:" + newFontSize + "px;").addClass("size-fixed");
                howToVideoCloseObj.attr("style", "left: " + (videoWidth - howToVideoCloseObj.width()) + "px !important; font-size:" + newFontSize + "px;");
                // if (!$("body").hasClass("arial-black"))
                //     $("#howToVideoClose").css("left", videoWidth - 38);
                // else
                //     $("#howToVideoClose").css("left", videoWidth - 46);
            }
        } else {
            $("#howToVideoContainer").css("padding-right", (videoWidth - minWidth) / 2);
            // $("#howToVideoClose").css("right", ((videoWidth - minWidth) / 2) + videoWidth - 34);
            // $("#howToVideoClose").css("left", "inherit");

            if (!$("body").hasClass("safari") || lastScaleRatio == 1 || lastScaleRatio == 0  ) {
                var right = ((videoWidth - minWidth) / 2) + videoWidth - 34;
                $("#howToVideoClose").attr("style", "right: " + right + "px;left:inherit !important;");
            } else { //Safari scaled only
                var howToVideoCloseObj = $("#howToVideoClose");
                var newFontSize;
                if (!isSafariNotMobile || howToVideoCloseObj.hasClass("size-fixed"))
                    newFontSize = parseInt(howToVideoCloseObj.css("font-size"), 10);
                else
                    newFontSize = parseInt(howToVideoCloseObj.css("font-size"), 10) * lastScaleRatio;

                howToVideoCloseObj.attr("style", "font-size:" + newFontSize + "px;").addClass("size-fixed");
                howToVideoCloseObj.attr("style", "right: 4px !important; font-size:" + newFontSize + "px;left: inherit !important;");
                // if (!$("body").hasClass("arial-black"))
                //     $("#howToVideoClose").css("left", videoWidth - 38);
                // else
                //     $("#howToVideoClose").css("left", videoWidth - 46);
            }

        }

        if (window == top) {
            $("#howToVideoClose").css("right", "");
            $("#howToVideoClose").css("left", "");
        }


        $("#howToVideoClose").off("click").on("click", function(){
            if (YTPlayer == null)
                return;

            try{
                YTPlayer.destroy();
            }
            catch(err){

            }

            messaging.postMessage(null,messaging.messageTypes.showRecordingBars, "1");

            var addContainerBackground = $("#addContainerBackground");
            $("#howToVideo").addClass("invisible");
            addContainerBackground.addClass("invisible");

            if (!params.isMobile && lastScaleRatio < 1) {
                addContainerBackground.css("-ms-transform", "");/* IE 9 */
                addContainerBackground.css("-moz-transform", "");/* Firefox */
                addContainerBackground.css("-o-transform", "");/* Opera */
                addContainerBackground.css("-webkit-transform", "");/* Safari And Chrome */
                addContainerBackground.css("transform", "");/* Standard Property */
            }

            sendNumberOfCommentsToHost();
        });
        loadHowToVideo(videoWidth, videoHeight);
    });
    
    addCommentContainer.find("span.camera-icon").off("click").on("click", function () {
           resetFileValidations();
           $($(this).parents(".form-elements")).find("input[type=file]").click();
    });

    $("body").off("change").on("change", ".file-input",function(){
        var richMediaDiv = $($(this).parents("form")).siblings(".rich-media-div");
        readURL(this);
    });

    $("body").off("click").on("click", ".mark-read",   function () {
	 var element = this;
        userNotifications.markAllAsRead(function(status){
            if(status){
                if(status.success){
                    $(element).addClass("invisible");
                    $(element).parents(".camera-div").find(".notification-count").addClass("invisible");
                    $(element).parent().siblings(".notification-body").children("div.row.unread").each(function(){
                        $(this).removeClass("unread").addClass("read");
                    });
                }
                statistics.report("notification-mark-all-read");
            }
        });
    });


    addCommentContainer.find(".notification-area-wrapper .footer").off("click").on("click",   function (e) {
       e.stopPropagation();
       var notificationsPageNo = parseInt($(this).siblings(".notification-body").attr("pageno")) + 1;
       var prevHt  = $(".notification-body").height();
       var previousLength = $(".notification-body .row").length;
       userNotifications.fetchNotifications(notificationsPageNo, function (response, loadMore){
            notificationCallback($("#addCommentContainer"),response, loadMore);
            $(".notification-body .row").each(function(){
                if($(this).index() > previousLength - 1)
                    statistics.report("notifications-impression", {"commentId": $(this).attr("id")});
            });
            var height = 0;
            if($(".notification-body .row:nth(1)").length > 0)
                  height = $(".notification-area-wrapper").height() - prevHt;
            var maxHt = $(".notification-body").css("max-height").split("px")[0];
            if($(".notification-body .row").length > 0 && prevHt < maxHt ){
                $("#wrapper").css("min-height",  parseInt($("#wrapper").height()) + parseInt(height));
                sendNumberOfCommentsToHost();
            }
            statistics.report("notification-loadmore");
       });
    });


    if(!params.isMobile){
        $("body").on("mouseenter",".rich-media-div span",function(){
              $(this).children("span.cross").removeClass("invisible");
        });

        $("body").on("mouseleave",".rich-media-div span",function(){
              $(this).children("span.cross").addClass("invisible");
        });
    }

     $("body").on("click",".rich-media-div span.preview.image-preview span.cross",function () {
        if($($($(this).parent()).parent()).children("span.preview").length == 1)
            $($(this).parent()).parent().addClass("invisible");

        $(this).parent().remove();
        sendNumberOfCommentsToHost();
        /*var thisElement = this;
        deleteImageFromServer($($(this).parent()).find("img").attr("src"), function(result){
            if(result){
                $(thisElement).parent().remove();
                sendNumberOfCommentsToHost();
            }
            else
                console.log("FAILED DELETION ");
        });*/
     });
}

function reportLike(){

    var btn = $(this);
    var commentId = $(btn.parentsUntil(".comment")).parent().attr("cid");

    if (params.likedComments[commentId] != undefined)
        return;

    params.likedComments[commentId] = 1;

    var reportEvent = null;

    reportEvent = messaging.messageTypes.reportLike;
    sendEvent("Product","UserLike", "user liked a comment", { "commentId": commentId, "pageId": params.page.id });

    if (reportEvent != null){
        setVotesNumber(btn,reportEvent);
        btn.find(".icon-love").addClass("orange");
        messaging.postMessage(null, reportEvent, commentId);
    }
}

function setVotesNumber(btnObj,event){
    var likeObj = $(btnObj).parent().find(".number_of_likes");
    var numberOfLikes = parseInt(likeObj.attr("ln"));

    if (numberOfLikes == undefined)
        return;

    if (isNaN(numberOfLikes))
        numberOfLikes = 0;

    if (numberOfLikes == 0)
        likeObj.removeClass("hidden");

    if (event == messaging.messageTypes.reportLike)
        numberOfLikes++;
    else
        numberOfLikes--;

    likeObj.attr("ln",numberOfLikes);
    likeObj.text(numberOfLikes);

//    likeObj.find("a").removeClass("clicked");
//    btnObj.addClass("clicked");


}

function setCommentsTime(){
    var currentDate = Date.parse(new Date().toString());

    $(".comment").each(function(){
        var comment = $(this);

        if (!comment.hasClass("new")){
            var time = parseInt(comment.find(".header-r .time").attr("datetime"));
            comment.find(".header-r .time").text(formatGap.formatDateGap(currentDate,time));
        } else
            comment.removeClass("new");

    });

}


function displayAllComments(){
    if (params.page == null){
        presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS);
        return;
    }

    params.filterDisplayMode = params.filterDisplayModeEnum.all;

    if (params.page.numberOfComments + params.page.numberOfSubComments == 0){
        presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS);
        return;
    }

    $(".comment").removeClass("invisible");
    presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS);

    var commentsLength = $(".block.review:not(.ade) .comment:not(.invisible)").length;


    if (!$("#commentsLoadMore").hasClass("finished")){
        if (params.page.numberOfComments + params.page.numberOfSubComments == commentsLength)
            $("#commentsLoadMore").addClass("invisible");
        else
            $("#commentsLoadMore").removeClass("invisible");
    }

    sendNumberOfCommentsToHost();
}

function playAllVoiceComments(){
    if (params.page == null){
        presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS_VOICE);
        return;
    }

    params.filterDisplayMode = params.filterDisplayModeEnum.voiceOnly;

    if (params.page.numberOfVocalComments == 0){
        presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS_VOICE);
        return;
    }

    $(".comment").removeClass("invisible");

    $(".comment[ctype='" + params.filterDisplayModeEnum.textOnly + "']").each(function(){
        var comment = $(this);

        if (comment.find(".comment[ctype!='" + params.filterDisplayModeEnum.textOnly + "']").length == 0)
            comment.addClass("invisible");
    });

//    $(".comment[ctype='" + params.filterDisplayModeEnum.textOnly + "']").addClass("invisible");
    presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS_VOICE);

    var commentsLength = $(".block.review:not(.ade) .comment:not(.invisible)").length;

//    if (this.localName && this.localName == "span")
//        recorderPlayAllVoiceComments(true,comments,true);
//    else
//        recorderPlayAllVoiceComments(false,comments,false);
    if (!$("#commentsLoadMore").hasClass("finished")){
        if (params.page.numberOfVocalComments <= commentsLength)
            $("#commentsLoadMore").addClass("invisible");
        else
            $("#commentsLoadMore").removeClass("invisible");

        if ( commentsLength < params.pageSize && params.page.numberOfVocalComments > commentsLength)
            loadNextPage();

    }

    sendNumberOfCommentsToHost();
}

function displayAllTextComments(){
    if (params.page == null){
        presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS_TEXT);
        return;
    }

    params.playAllVoiceComments.userClickedStop = true;
    recorderStopPlaying();

    params.filterDisplayMode = params.filterDisplayModeEnum.textOnly;

    if (params.page.numberOfTextComments == 0){
        presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS_TEXT);
        return;
    }

    $(".comment").removeClass("invisible");

    $(".comment[ctype='" + params.filterDisplayModeEnum.voiceOnly + "']").each(function(){
        var comment = $(this);

        if (comment.find(".comment[ctype!='" + params.filterDisplayModeEnum.voiceOnly + "']").length == 0)
            comment.addClass("invisible");
    });

//    $(".comment[ctype='" + params.filterDisplayModeEnum.voiceOnly + "']").addClass("invisible");
    presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS_TEXT);

    var numberOfComments = $(".block.review:not(.ade) .comment:not(.invisible)").length;

    if (!$("#commentsLoadMore").hasClass("finished")){
        if (params.page.numberOfTextComments <= numberOfComments)
            $("#commentsLoadMore").addClass("invisible");
        else
            $("#commentsLoadMore").removeClass("invisible");


        if ( numberOfComments < params.pageSize && params.page.numberOfTextComments > numberOfComments)
            loadNextPage();
    }

    sendNumberOfCommentsToHost();
}

var sendNumberOfCommentsToHostTimeout = null;
function sendNumberOfCommentsToHost(){
//    var numberOfTextComments, numberOfVoiceComments, numberOfShareLinksOpened;
//    numberOfVoiceComments = $(".comment[ctype!='" + params.filterDisplayModeEnum.textOnly + "']:not(.invisible)").length;
//    numberOfTextComments = $(".comment:not(.invisible)").length - numberOfVoiceComments;
//    numberOfShareLinksOpened = $(".comment:not(.invisible) .share-link-container:not(:hidden)").length;

//    $(document).height()
    if (sendNumberOfCommentsToHostTimeout != null){
        clearTimeout( sendNumberOfCommentsToHostTimeout );
        sendNumberOfCommentsToHostTimeout = null;
    }


    sendNumberOfCommentsToHostTimeout = setTimeout(function(){

        // var height = 0;
        // $(".block.review").each(function(){var elementHeight = $(this).height(); if (elementHeight <= 0) return; height += elementHeight; if (parseInt($(this).css("margin-top"),10) > 0) height += parseInt($(this).css("margin-top"), 10); if (parseInt($(this).css("margin-bottom"), 10) > 0) height += parseInt($(this).css("margin-bottom"), 10); height += 10; });
        // $(".no-comments").each(function(){var elementHeight = $(this).height(); if (elementHeight <= 0) return; height += elementHeight; if (parseInt($(this).css("margin-top"),10) > 0) height += parseInt($(this).css("margin-top"), 10); if (parseInt($(this).css("margin-bottom"), 10) > 0) height += parseInt($(this).css("margin-bottom"), 10); });
        // $(".add-container").each(function(){var elementHeight = $(this).height(); if (elementHeight <= 0) return; height += elementHeight; if (parseInt($(this).css("margin-top"),10) > 0) height += parseInt($(this).css("margin-top"), 10); if (parseInt($(this).css("margin-bottom"), 10) > 0) height += parseInt($(this).css("margin-bottom"), 10); });
        // $("#commentsLoadMoreContainer").each(function(){var elementHeight = $(this).height(); if (elementHeight <= 0) return; height += elementHeight; if (parseInt($(this).css("margin-top"),10) > 0) height += parseInt($(this).css("margin-top"), 10); if (parseInt($(this).css("margin-bottom"), 10) > 0) height += parseInt($(this).css("margin-bottom"), 10); });
        // $("#mainPoweredBy").each(function(){var elementHeight = $(this).height(); if (elementHeight <= 0) return; height += elementHeight; if (parseInt($(this).css("margin-top"),10) > 0) height += parseInt($(this).css("margin-top"), 10); if (parseInt($(this).css("margin-bottom"), 10) > 0) height += parseInt($(this).css("margin-bottom"), 10); });
        // $("#mainHeader").each(function(){var elementHeight = $(this).height(); if (elementHeight <= 0) return; height += elementHeight; if (parseInt($(this).css("margin-top"),10) > 0) height += parseInt($(this).css("margin-top"), 10); if (parseInt($(this).css("margin-bottom"), 10) > 0) height += parseInt($(this).css("margin-bottom"), 10); });
        // $(".types-list").each(function(){var elementHeight = $(this).height(); if (elementHeight <= 0) return; height += elementHeight; if (parseInt($(this).css("margin-top"),10) > 0) height += parseInt($(this).css("margin-top"), 10); if (parseInt($(this).css("margin-bottom"), 10) > 0) height += parseInt($(this).css("margin-bottom"), 10); });
        // height += parseInt($(".reviews-block > .holder").css("padding-top"), 10) + parseInt($(".reviews-block > .holder").css("padding-bottom"), 10);


        var wrapperHeight = $("#wrapper").height();//height;//$("#wrapper").height();
        if (wrapperHeight == 0)
            return;

        if (window == top){
            if (!$("#howToVideo").hasClass("invisible"))
                wrapperHeight = $("#howToVideo").height() + parseInt($("#howToVideo").css("top"), 10);
            else if (!$("#addContainerBackground").hasClass("invisible"))
                wrapperHeight = $("#addContainerBackground").height();

            if (!params.isAndroid)
                window.resizeTo(615, wrapperHeight + window.outerHeight-document.body.clientHeight - 10);
            else
                window.resizeTo(window.screen.availWidth, window.screen.availHeight);

            $("body").attr("win_height", window.innerHeight);
            return;
        }

        // wrapperHeight += 20;
        $(".review-post .review-post .reply-on-full-name:not(.invisible)").each(function(){
            var thisObj = $(this);
            var width = $(thisObj.parent().parent().parent().find(".header-r")[0]).offset().left - thisObj.offset().left;
            if (width < 0) {
                width = thisObj.parent().parent().find(".photo").width() + $(thisObj.parent().parent().parent().find(".header-r")[0]).width();
                width *= (lastScaleRatio!=0)?lastScaleRatio:1;
                width = thisObj.parent().parent().find(".photo").offset().left - width;
            }
            width *= (1/(lastScaleRatio==0?1:lastScaleRatio));
            thisObj.css("width",  width + "px").css("max-width",  width + "px");;
        });

        messaging.postMessage(null,messaging.messageTypes.setNumberOfDisplayedComments, (wrapperHeight * (params.displayScale==0?1:params.displayScale)).toString()); //[numberOfVoiceComments, numberOfTextComments, numberOfShareLinksOpened]);
	regenerateIOSLayers();
        setExtentedUI();
    }, 0);
}

function addSubComment(clickedElement){
    var thisBtn = clickedElement.parentsUntil(".block.review").parent();

    var parentId = thisBtn.find(".comment:first").attr("cid");//clickedElement.parents(".review-post.comment:first").attr("cid");

    if ($(".add-container[parent_id='" + parentId + "']").length > 0)
        return;

    params.addComment.parentId = parentId;
    var commentReplyOnObject = clickedElement.parent().parent();

    renderAddCommentReply(commentReplyOnObject);

    params.addComment.container.attr("parent_id", parentId);
    params.addComment.repliedOnFullName = commentReplyOnObject.find("header:first .text-wrap .name").attr("title");
    params.addComment.container.attr("replied_on_full_name", params.addComment.repliedOnFullName);

    if (commentReplyOnObject.attr("cid") != parentId){
        params.addComment.displayAfterComment = commentReplyOnObject.attr("cid");
        params.addComment.container.attr("display_after_comment", params.addComment.displayAfterComment);
    } else {
        params.addComment.displayAfterComment = null;
        params.addComment.container.attr("display_after_comment", "");
    }

    sendNumberOfCommentsToHost();

    sendEvent("Product","ReplyClick", "user click on a comment reply button", { "commentId": params.addComment.parentId, "pageId": params.page.id });

    //if (params.shouldDisplayIOSMobileLayers)
    //    regenerateIOSLayers();


//    setReplyHeader(thisBtn);

//    showSubComment(thisBtn);

}
//
//function showSubComment(commentHtmlObj){
//    $("#addContainerBackground").removeClass("invisible");
//    $("#addContainer").addClass("reply");
//    $("#addContainer .close").removeClass("invisible");
//    $("#addContainer").css("top", commentHtmlObj.position().top + commentHtmlObj.height());
//
//}
//
var detachObject = null;
function detachAddContainer(){
    if (params.addComment.container.find(".record-btn").hasClass("invisible"))
        recorderResetRecording();

    if (params.addComment.container.parent().hasClass("reply"))
        $(params.addComment.container.parentsUntil(".review").parent()[0]).find(".comment.add-container-before").removeClass("add-container-before");

//        params.addComment.container.parent(".review").find(".comment.add-container-before").removeClass("add-container-before");


//    if (!params.addComment.container.parent().hasClass("add-comment-reply-container")){
//        params.addComment.container.fadeOut("slow", function(){
//            $(this).detach();
//        });
//    } else {

    if (params.addComment.container.parents("#addCommentContainer").length == 0) {
        params.addComment.container.parent().fadeOut("slow", function () {
            if (!params.addComment.states.commentChangingMode)
                $(this).detach();
            else
                detachObject = $(this);

            sendNumberOfCommentsToHost();
            regenerateIOSLayers();

        });
	if (!params.addComment.states.commentChangingMode)
        	params.addComment.container = $("#addCommentContainer .add-container");
    } else {
        params.addComment.container.attr("parent_id","");
        params.addComment.container.attr("replied_on_full_name","");
        params.addComment.container.attr("display_after_comment","");
    }

//    }



}

function detachAddContainerCallback(){
    if (detachObject == null)
        return;

    params.addComment.container = $("#addCommentContainer .add-container");
    detachObject.detach();
    detachObject = null;
}


//function setReplyHeader(reviewContainer){
//    $("#addContainer .h2 .reply-headline").text($("#addContainer .h2 .reply-headline").attr("text").replace("#NAME#", reviewContainer.find("header .text-wrap .name").attr("title")));
//
//    $("#addContainer .h2 .default-headline").addClass("invisible");
//    $("#addContainer .h2 .reply-headline").removeClass("invisible");
//}
//
//function resetHeaderView(){
//    $("#addContainer .h2 .reply-headline").addClass("invisible");
//    $("#addContainer .h2 .default-headline").removeClass("invisible");
//}


function setCommentProcessing(commentObj){
    if (!commentObj)
        return;

    commentObj = $(commentObj);
    if (commentObj.length == 0)
        return;

    if (params.processingInterval.interval != null)
        clearCommentProcessing();

    params.processingInterval.commentObject = commentObj;
    params.processingInterval.interval = setInterval(function(){
        if (params.processingInterval.commentObject == null || params.processingInterval.commentObject.length == 0)
            return;

        if (params.processingInterval.commentObject.find(".processing-info .circles-list li.invisible").length == 0)
            params.processingInterval.commentObject.find(".processing-info .circles-list li").addClass("invisible");

        params.processingInterval.commentObject.find(".processing-info .circles-list li.invisible:first").removeClass("invisible");
        //params.processingInterval.commentObject.find(".processing-info .circles-list li:last").prependTo(params.processingInterval.commentObject.find(".processing-info .circles-list"));

    }, 300);
}

function clearCommentProcessing(){
    if (params.processingInterval.interval == null)
        return;

    clearInterval(params.processingInterval.interval);
    params.processingInterval.interval = null;
    params.processingInterval.commentObject = null;
}


function initLoginView(userId, userString){
    if (params.addComment.container == null)
        params.addComment.container = $("#addCommentContainer .add-container");

    if ($("body").hasClass("t-small-buttons")){
        params.addComment.container.find(".signin-selection .social-networks.inline li a").each(function(){
            $(this).text("");
            $(this).attr("no_lang", "1");
        })

        params.addComment.container.find(".signin-form-container").removeClass("invisible");
        params.addComment.container.find(".add-comment-email-input").addClass("invisible");
        params.addComment.container.find(".add-comment-email-input").parent().addClass("no-padding");
        params.addComment.container.find(".add-comment-post-comment").addClass("invisible");

        params.addComment.container.find(".add-comment-name-input").on("click", function(){
            if (params.addComment.container.find(".add-comment-email-input").hasClass("invisible")) {
                params.addComment.container.find(".add-comment-email-input").parent().removeClass("no-padding");
                params.addComment.container.find(".add-comment-email-input").css("display", "none").removeClass("invisible").fadeIn(400, function(){ sendNumberOfCommentsToHost(); });
                params.addComment.container.find(".add-comment-post-comment").css("display", "none").removeClass("invisible").fadeIn(400, function(){ sendNumberOfCommentsToHost(); });
            }
        });
    }


    var useLoginOnly = false;
    if (params.pendingWLExecution){
        try {
            if (undefined != typeof whitelabelUseLoginOnly && typeof whitelabelUseLoginOnly == "function")
                useLoginOnly = whitelabelUseLoginOnly();
        } catch(err){
            useLoginOnly = false;
        }

    }




    if (userId != null && !isNaN(userId) && !useLoginOnly)
        setLogoutView(userString);
    else
        setLoginView();

//    sendEvent("Tracker","initLoginView-completed", "initLoginView completed loading");
}

function resetLoginView(){
    $(".signin .signin-selection").removeClass("invisible").css("display","");

    if (!$("body").hasClass("t-small-buttons"))
        $(".signin .signin-form-container").addClass("invisible");
}

/* $('.add-container .facebook-share').off("click").on("click", function(e){
     sendEvent("Product","LoginWithFB-initial click", "user clicked to login with FB initial click", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
         if (!params.isSDK)
             loginService.login(loginService.getLoginProviders().FACEBOOK_SHARE, loginCallback);
         else
             messaging.postMessage(null,messaging.messageTypes.sdkLoginUser,"FACEBOOK");

         sendEvent("Product","LoginWithFB-login ended", "user clicked to login with FB passed validation - function ended", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

 });*/

function setLoginView(){
    $(".add-comment-title-input").attr("placeholder", $(".add-comment-title-input").attr("placeholder-logged-out"));
    var isIEOrSafari = (window.navigator && window.navigator.userAgent && (window.navigator.userAgent.toLowerCase().indexOf("msie") != -1 || window.navigator.userAgent.toLowerCase().indexOf("trident") != -1 || ( navigator.userAgent.toLowerCase().indexOf("safari") != -1 && navigator.userAgent.toLowerCase().indexOf("chrome") == -1 ) ) );
    if (params.addComment.container.find(".add-comment-title-input").val() == params.addComment.container.find(".add-comment-title-input").attr("placeholder") ||
        params.addComment.container.find(".add-comment-title-input").val() == params.addComment.container.find(".add-comment-title-input").attr("placeholder-logged-in") )
        if (!isIEOrSafari)
            params.addComment.container.find(".add-comment-title-input").val("");
        else
            params.addComment.container.find(".add-comment-title-input").val($(".add-comment-title-input").attr("placeholder-logged-out")).blur();

    if (params.isAndroidCanRecord && !params.isTablet)
        $(".add-comment-title-input").attr("placeholder", $(".add-comment-title-input").attr("placeholder-android-mobile"));

    $(".signout").addClass("invisible");
    $(".signin").removeClass("invisible");

    $(".add-comment-email-input").val("").blur();
    $(".add-comment-name-input").val("").blur();


    $(".signin .facebook").off("click").on("click", function(){
        sendEvent("Product","LoginWithFB-initial click", "user clicked to login with FB initial click", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        setAddCommentContainer(this);
        if (validateInputFields(true)){
            sendEvent("Product","LoginWithFB-passed validation", "user clicked to login with FB - passed validation", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

            if (!params.isSDK)
                loginService.login(loginService.getLoginProviders().FACEBOOK, loginCallback);
            else
                messaging.postMessage(null,messaging.messageTypes.sdkLoginUser,"FACEBOOK");

            sendEvent("Product","LoginWithFB-login ended", "user clicked to login with FB passed validation - function ended", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        }
    });

    $(".signin .google-plus").off("click").on("click", function(){
        sendEvent("Product","LoginWithGP-initial click", "user clicked to login with GP initial click", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        setAddCommentContainer(this);
        if (validateInputFields(true)){
            sendEvent("Product","LoginWithGP-passed validation", "user clicked to login with GP - passed validation", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

            if (!params.isSDK)
                loginService.login(loginService.getLoginProviders().GOOGLE, loginCallback);
            else
                messaging.postMessage(null,messaging.messageTypes.sdkLoginUser,"GOOGLE");



            sendEvent("Product","LoginWithGP-login ended", "user clicked to login with GP passed validation - function ended", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        }
    });

    $(".signin .twitter").off("click").on("click", function(){
        sendEvent("Product","LoginWithLI-initial click", "user clicked to login with LI initial click", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        setAddCommentContainer(this);
        if (validateInputFields(true)){
            sendEvent("Product","LoginWithLI-passed validation", "user clicked to login with LI - passed validation", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

            if (!params.isSDK)
                loginService.login(loginService.getLoginProviders().LINKEDIN, loginCallback);
            else
                messaging.postMessage(null,messaging.messageTypes.sdkLoginUser,"LINKEDIN");


            sendEvent("Product","LoginWithLI-login ended", "user clicked to login with LI passed validation - function ended", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        }
    });

    $(".signin .add-comment-post-comment").off("click").on("click", function(){
        sendEvent("Product","LoginWithEmail-initial click", "user clicked to login with email initial click", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        setAddCommentContainer(this);

        if (params.pendingWLExecution){
            try {
                if (undefined != typeof fillPostCommentData && typeof fillPostCommentData == "function")
                    fillPostCommentData();
            } catch(err){

            }
        }


        if (validateInputFields()){
            var userName;
            try{
                userName = emojione.toShort(params.addComment.container.find(".add-comment-name-input").val());
            } catch (err){
                userName = $.trim(params.addComment.container.find(".add-comment-name-input").val());
                errorService.reportOnError(err);
            }


            if(params.isMobile && !params.isTablet ){ //in mobile continue does not get call and recording does not stops
                if(wasRecordingStarted)
                    recorderStopClick();
                else
                    sendLoginRequest(userName);

                if(!params.isSDK && wasRecordingStarted){
                    var postButtonClickEncodeTimeout = setTimeout(function(){
                         clearTimeout(postButtonClickEncodeTimeout);
                         sendEvent("Tracker","PostCommentButtonInnerInEncodingTimeout", "PostCommentButtonInnerInEncodingTimeout", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
                         recorderEncode();
                         sendLoginRequest(userName);
                     }, 500);
                }
            }else
                sendLoginRequest(userName);

        }
    });

}

function sendLoginRequest(userName){
    if (loginWithHeyoyaLockTimeout != null)
        return;

    loginWithHeyoyaLockTimeout = setTimeout(function(){
        clearTimeout(loginWithHeyoyaLockTimeout);
        loginWithHeyoyaLockTimeout = null;
    }, 2000);

    sendEvent("Product","LoginWithEmail-passed validation", "user clicked to login with email - passed validation", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

    if (!params.isSDK)
        loginService.login(loginService.getLoginProviders().HEYOYA, loginCallback, params.addComment.container.find(".add-comment-email-input").val(), userName);
    else
        messaging.postMessage(null,messaging.messageTypes.sdkLoginUser,["HEYOYA", userName, params.addComment.container.find(".add-comment-email-input").val()]);


    sendEvent("Product","LoginWithEmail-login ended", "user clicked to login with email passed validation - function ended", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
}




function setLogoutView(userString){
    //if (statistics.getUserId() == "1037475" || statistics.getUserId() == "1034306"){
    //    setLoginView();
    //    return;
    //}

    if (params.isAndroidCanRecord && !params.isTablet)
        $(".add-comment-title-input").attr("placeholder", $(".add-comment-title-input").attr("placeholder-android-mobile"));
    else
        $(".add-comment-title-input").attr("placeholder", $(".add-comment-title-input").attr("placeholder-logged-in"));

    //if(params.isWix && $("body").hasClass("safari") &&  $(".add-comment-title-input").val() == $(".add-comment-title-input").attr("placeholder") ){
    //    $(".add-comment-title-input").val("");
   // }


    var userObj;
    try{
        userObj = $.parseJSON(userString);

    } catch(err) {
        userObj = null;
    }

    //var photoImg = "<img width='44px' height='44px' src='" + (userObj.photoUrl?userObj.photoUrl:"images/avatar.jpg") + "' />";

    var photoImg = "<img width='44px' height='44px' src='" + (userObj.photoUrl?userObj.photoUrl:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7") + "' />";
    var photoImgNew = "<img width='22px' height='22px' src='" + (userObj.photoUrl?userObj.photoUrl:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7") + "' />";

    $(".signout .user-photo").html(photoImg);
     $(".logout-n .user-photo").attr("title", userObj.fullName);

    if((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet")
        $(".logout-n .user-photo").html(photoImgNew);

    if(!userObj.photoUrl){
    	$(".signout .user-photo").addClass("avatar-default");
        if((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet")
            $(".logout-n .user-photo").addClass("avatar-default");
    }
    else{
    	$(".signout .user-photo").removeClass("avatar-default");
    	if((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet")
    	    $(".logout-n .user-photo").removeClass("avatar-default");
    }

    $(".signout .user-name").text(userObj.fullName);
    $(".add-comment-email-input").val(userObj.email);
    $(".add-comment-email-input").attr("default-email",userObj.email);

    var useLoginOnly = false;
    if (params.pendingWLExecution){
        try {
            if (undefined != typeof whitelabelUseLoginOnly && typeof whitelabelUseLoginOnly == "function")
                useLoginOnly = whitelabelUseLoginOnly();
        } catch(err){
            useLoginOnly = false;
        }

    }

    if (!useLoginOnly){
        $(".add-comment-name-input").val(userObj.fullName);
        $(".add-comment-name-input").attr("default-name",userObj.fullName);
    }


    $(".logout-button").off("click").on("click", function(){
        setAddCommentContainer(this);

        messaging.postMessage(null,messaging.messageTypes.userLoggedOut,"1",undefined,messaging.messageDestinations.data);
        loginService.logout();
        statistics.setUserId(null);
        statistics.setUserString(null);

        if((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet"){
            params.addComment.container.removeClass("logged-in");
            params.addComment.container.find(".logout-n").addClass("invisible");
            params.addComment.container.find(".add-comment-post-comment-new").addClass("invisible");
            params.addComment.container.find(".add-comment-submit-btn").removeClass("invisible");
        }

        setLoginView();

        if ((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet" &&  (params.addComment.container.find(".add-comment-text-input").val() != "" && params.addComment.container.find(".add-comment-text-input").val() != params.addComment.container.find(".add-comment-text-input").attr("placeholder")) )
            params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($('#additionalText span[lang_id="text_logged_out"]').html());

        sendNumberOfCommentsToHost();
    });

    $(".signout .add-signout-comment-post-comment").off("click").on("click", function(){
        setAddCommentContainer(this);

        if (!validateInputFields(true))
            return;

        var addCommentEmailInput = params.addComment.container.find(".add-comment-email-input");
        if (addCommentEmailInput.val() == "" || addCommentEmailInput.val() == addCommentEmailInput.attr("placeholder"))
            addCommentEmailInput.val(addCommentEmailInput.attr("default-email"));

        var addCommentNameInput = params.addComment.container.find(".add-comment-name-input");
        if (addCommentNameInput.val() == "" || addCommentNameInput.val() == addCommentNameInput.attr("placeholder"))
            addCommentNameInput.val(addCommentNameInput.attr("default-name"));

        if(wasRecordingStarted)
            recorderStopClick();
	else
            recorderPostComment(userObj.photoUrl);

        if (!params.isSDK && wasRecordingStarted){
            var postButtonClickEncodeTimeout = setTimeout(function(){
                 clearTimeout(postButtonClickEncodeTimeout);
                 sendEvent("Tracker","MobilePostCommentButtonInnerInEncodingTimeout", "MobilePostCommentButtonInnerInEncodingTimeout", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
                 recorderEncode();
                 recorderPostComment(userObj.photoUrl);
             }, 500);
        }

    });

     $(".add-comment-post-comment-new").off("click").on("click", function(){
            setAddCommentContainer(this);

            if((wasRecordingStarted || (params.addComment.container.find(".add-comment-text-input").val().trim().length > 0 && params.addComment.container.find(".add-comment-text-input").val().trim() != params.addComment.container.find(".add-comment-text-input").attr("placeholder"))) && !params.addComment.container.find(".add-comment-title-input").is(":visible")){
                params.addComment.container.find(".add-comment-title-input").val(params.mobileDefaultTitle);
            }else
                if(!validateInputFields(true))
                    return;

            params.commentPosted = true;
            if(statistics.getUserString()){
                var userObj;
                 try{
                     userObj = $.parseJSON(statistics.getUserString());
                 } catch(err) {
                     userObj = null;
                 }
                $("input[type=file]").val('');
                postCommentDirect(userObj.photoUrl);
            }
     });


    if((params.isMobile && !params.isTablet) || statistics.getAffiliateId() == "ynet")
        $(".signout").removeClass("invisible");

    if(statistics.getUserId() && params.commentPosted &&(!params.isMobile || params.isTablet)){
        $(".logout-n").removeClass("invisible");
        $(".add-comment-post-comment-new").removeClass("invisible");
    }


    if(params.isMobile && !params.isTablet && wasRecordingStarted)
        params.addComment.container.find(".post-step-2 .submission-form").attr("style", "display:none !important");

    $(".signin").addClass("invisible");

}

function postCommentDirect(photoUrl){
     params.addComment.states.commentChangingMode = true;
     params.addComment.container.find(".btn-retake").removeClass("high").addClass("invisible");
     params.addComment.container.find(".btn-clear").removeClass("high").addClass("invisible");

     sendEvent("Tracker","NewPostCommentButtonInner", "NewPostCommentButtonInner", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

     resetRecordButtons();
     params.addComment.container.find(".record-btn").addClass("invisible");
     params.addComment.container.find(".loading-btn").removeClass("invisible");

     params.addComment.container.find(".recorder-default-view").addClass("invisible");
     resetRecorderMessagingView();

     if ((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet" &&  (params.addComment.container.find(".add-comment-text-input").val() != "" && params.addComment.container.find(".add-comment-text-input").val() != params.addComment.container.find(".add-comment-text-input").attr("placeholder")) )
         params.addComment.container.find(".add-comment-title-input").addClass("invisible").val(params.mobileDefaultTitle);

     if(wasRecordingStarted)
        recorderStopClick();

     params.addComment.container.find(".recorder-messaging-view").addClass("continue").removeClass("invisible");
     params.addComment.container.find(".recorder-messaging-view .link-record-voice").text($("#messagePreparingYourReview").text());
     params.addComment.container.find(".recorder-equalizer-view").removeClass("invisible");

     sendNumberOfCommentsToHost();
     var postButtonClickTimeout = setTimeout(function(){
         clearTimeout(postButtonClickTimeout);
         sendEvent("Tracker","NewPostCommentButtonInnerInTimeout", "NewPostCommentButtonInnerInTimeout", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
         var addCommentEmailInput = params.addComment.container.find(".add-comment-email-input");
         if (addCommentEmailInput.val() == "" || addCommentEmailInput.val() == addCommentEmailInput.attr("placeholder"))
             addCommentEmailInput.val(addCommentEmailInput.attr("default-email"));

         var addCommentNameInput = params.addComment.container.find(".add-comment-name-input");
         if (addCommentNameInput.val() == "" || addCommentNameInput.val() == addCommentNameInput.attr("placeholder"))
             addCommentNameInput.val(addCommentNameInput.attr("default-name"));

       params.addComment.states.commentChangingMode = false;
       recorderPostComment(photoUrl);

     }, 1000);

     if (!params.isSDK && wasRecordingStarted){
        var postButtonClickEncodeTimeout = setTimeout(function(){
             clearTimeout(postButtonClickEncodeTimeout);
             sendEvent("Tracker","NewPostCommentButtonInnerInEncodingTimeout", "PostCommentButtonInnerInEncodingTimeout", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
             recorderEncode();
         }, 500);
     }
}

function loginCallback(userId, fullName, email, photoUrl, userAuthorizationToken){
    if (!userId || userId == -1 || !fullName || fullName == "-1" || !userAuthorizationToken){
        if(!loginAjaxCallbackReached)
                return;     
        params.addComment.container.find(".recorder-messaging-view").addClass("error").removeClass("invisible");
        params.addComment.container.find(".recorder-messaging-view .link-record-voice").html("Authentication failed. Please try again and approve the requested permissions");
        return;
    }

    sendEvent("Product","LoggedInFinishedPosting", "Login finished now posting", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

    var userObj = {};
    userObj.fullName = fullName;
    userObj.authToken = userAuthorizationToken;
    userObj.userId = userId;
    userObj.email = email;
    userObj.photoUrl = photoUrl == "-1"? null : photoUrl;


    var useLoginOnly = false;
    if (params.pendingWLExecution){
        try {
            if (undefined != typeof whitelabelUseLoginOnly && typeof whitelabelUseLoginOnly == "function")
                useLoginOnly = whitelabelUseLoginOnly();
        } catch(err){
            useLoginOnly = false;
        }

    }


    $(".add-comment-email-input").val(userObj.email);

    if (!useLoginOnly)
        $(".add-comment-name-input").val(userObj.fullName);

    statistics.setUserString(JSONLib.toString(userObj));
    statistics.setUserId(userId);

    messaging.postMessage(null,messaging.messageTypes.userLoggedIn,[userId, statistics.getUserString()],undefined,messaging.messageDestinations.data);

    if (!useLoginOnly){
        setLogoutView(statistics.getUserString());
        resetLoginView();
    }

    try{
        if (undefined != typeof setUserData && typeof setUserData == "function")
            setUserData(userId, statistics.getUserString());
    } catch(err){

    }

    recorderPostComment(userObj.photoUrl);
}


function setAddCommentContainer(element){
    element = $(element);

    if (element.hasClass("add-container")){
        params.addComment.container = element;
        return;
    }

    var parentsList = element.parentsUntil(".add-container");

    if (parentsList.length == 0 && !element.parent().hasClass("add-container")){
        params.addComment.container = null;
        return;
    }

    if (parentsList.length == 0)
        params.addComment.container = element.parent();
    else
        params.addComment.container = $(parentsList.parent()[0]);
}


function renderAffiliateLogo(logoPath){
    if (!logoPath)
        return;

    $("#mainHeader #customLogo").detach();

    var logoTemplate = $("#customLogoTemplate").val();
    logoTemplate = logoTemplate.replace("#IMAGE_SRC#", logoPath);

    $("#mainHeader").append(logoTemplate);
}

function shouldOpenRecordingWindow(){
    if ($("body").hasClass("recording-window"))
        return false;

    var securedPage = ( (params.isWix && params.isPageSecure) || (!params.isWix && ( window.location.href.indexOf("?secure=1") != -1 || window.location.href.indexOf("&secure=1") != -1 ) ) );

    var isSafariDesktop = navigator.userAgent.toLowerCase().indexOf("macintosh") != -1 && navigator.userAgent.toLowerCase().indexOf("chrome") == -1 && navigator.userAgent.toLowerCase().indexOf("safari/") != -1;
    if (isSafariDesktop) {
        if (!recorderService.isJsRecordingSupported())
        return false;

        try{
            var safariVersion = parseFloat(navigator.userAgent.split("Safari/")[1].split(" ")[0]);
            if (!securedPage || safariVersion < 605.1)
                return true;
            else
                return false;
        } catch (err){
            return true;
        }
    }

    if (params.isIOS){
        if (!recorderService.isJsRecordingSupported())
            return false;

        try{
            var safariVersion = parseFloat(navigator.userAgent.split("Safari/")[1].split(" ")[0]);
            if (!securedPage || safariVersion < 604.1)
                return true;
            else
        return false;
        } catch (err){
            return true;
        }

    }

    if (params.isAndroid)
        return true;

    //Edge || MSIE || Firefox
    if (navigator.userAgent.toLowerCase().indexOf("chrome") == -1 || navigator.userAgent.indexOf("Edge") != -1)
       return false;

    if (securedPage)
        return false;

    return true;
}

function showDemoData(){
    var demoData;
    try{
        var queryString = querystringUtil.extract(window.location.href);
        demoData = params.wixDemoData;
        if (queryString && queryString.affIdId){
            demoData.comments[0].fullPageUrl += queryString.affIdId;
            demoData.comments[0].pageUrl += queryString.affIdId;

            demoData.comments[1].fullPageUrl += queryString.affIdId;
            demoData.comments[1].pageUrl += queryString.affIdId;

            demoData.page.fullUrl += queryString.affIdId;
            demoData.page.url += queryString.affIdId;

            demoData.pageUrl += queryString.affIdId;

            var currentTime = new Date();
            demoData.comments[0].addedMilliseconds = currentTime.getTime();
            demoData.comments[1].addedMilliseconds = currentTime.getTime();
        }


    } catch (err){
        demoData = params.wixDemoData;
    }
    renderUI(demoData);
}

function hideDemoData(){
    params.parentPageUrl = null;
    params.parentPageTitle = null;
    params.page = null
    params.commentsData = null;

    $(".block.review").detach();

    renderUI(null);

}


var regenerateIOSLayersTimeout = null;
function regenerateIOSLayers(){
    if (regenerateIOSLayersTimeout != null){
        clearTimeout(regenerateIOSLayersTimeout);
        regenerateIOSLayersTimeout = null;
    }

    regenerateIOSLayersTimeout = setTimeout(function(){
        clearTimeout(regenerateIOSLayersTimeout);
        regenerateIOSLayersTimeout = null;

        messaging.postMessage(null, messaging.messageTypes.IOSLinkRemoveAll, "1");

        var position = $("#addCommentContainer .record-btn").offset();
        var tempArray = new Array();
            tempArray.push("-1");
            tempArray.push(position.left);
            tempArray.push(position.top);
            tempArray.push(generateIOSRecordURL(0));
            tempArray.push(lastScaleRatio);
        messaging.postMessage(null, messaging.messageTypes.IOSLinkAdd, tempArray);

        $(".add-comment-reply-container").each(function(){
            var addContainer = $(this);
            var position = addContainer.find(".record-btn").offset();
            var tempArray = new Array();
            tempArray.push(addContainer.find(".add-container").attr("parent_id"));
            tempArray.push(position.left);
            tempArray.push(position.top);
            tempArray.push(generateIOSRecordURL(addContainer.find(".add-container").attr("parent_id")));
	    tempArray.push(lastScaleRatio);
            messaging.postMessage(null, messaging.messageTypes.IOSLinkAdd, tempArray);
        });
    }, 100)
}


function changeRecordingButtonsColor(newBgColor){
    addStylesheetUtil.removeStylesheet("recordingButtonsColorSheet");
    var recordingButtonsColorSheet = addStylesheetUtil.createNewStylesheet("recordingButtonsColorSheet");
    addStylesheetUtil.addCSSRule(recordingButtonsColorSheet, ".btn-blue", "background-color: " + newBgColor + " !important;");
    addStylesheetUtil.addCSSRule(recordingButtonsColorSheet, ".btn-blue", "border-color: " + newBgColor + " !important;");
    addStylesheetUtil.addCSSRule(recordingButtonsColorSheet, ".btn-blue:before", "border-bottom-color: " + newBgColor + " !important;");
    addStylesheetUtil.addCSSRule(recordingButtonsColorSheet, ".btn.blue", "background-color: " + newBgColor + " !important;");
    addStylesheetUtil.addCSSRule(recordingButtonsColorSheet, ".add-container .how-to-video-link", "background-color: " + newBgColor + " !important;");
    addStylesheetUtil.addCSSRule(recordingButtonsColorSheet, ".icon-mic", "background-image: url('images/sprite-v2.9.9.1.png') !important;");
}

function changeLinksColor(newColor){
    addStylesheetUtil.removeStylesheet("linksColorSheet");
    addStylesheetUtil.addStyleSheetFromText(document.getElementById("linksColorTemplate").value.replace(/#COLOR#/g, newColor), "linksColorSheet");
}

function changeTextColor(newColor){
    addStylesheetUtil.removeStylesheet("textColorSheet");
    addStylesheetUtil.addStyleSheetFromText(document.getElementById("textColorTemplate").value.replace(/#COLOR#/g, newColor), "textColorSheet");
    $("body").addClass("custom-text-color");
}

function changeButtonsColor(newColor){
    addStylesheetUtil.removeStylesheet("buttonsColorSheet");
    addStylesheetUtil.addStyleSheetFromText(document.getElementById("buttonsColorTemplate").value.replace(/#COLOR#/g, newColor), "buttonsColorSheet");
}

function changeCardsColor(newColor){
    addStylesheetUtil.removeStylesheet("cardsColorSheet");
    addStylesheetUtil.addStyleSheetFromText(document.getElementById("cardsColorTemplate").value.replace(/#COLOR#/g, newColor), "cardsColorSheet");

    var luma = calcLuma(document.getElementById("addCommentContainer").getElementsByClassName("add-container")[0]);

    var bodyClass = document.body.className.replace("brighter", "");
    if (luma != null && luma < 40)
        bodyClass += " brighter";

    document.body.className = bodyClass;

}


var supportedFonts = null;
var supportedFontsKeys = null;
function populateFonts(){
    supportedFonts = {};
    //supportedFonts['lato'] = {}; supportedFonts['lato'].family = 'Lato, Arial, Helvetica, sans-serif'; supportedFonts['lato'].link = 'https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext';

    supportedFonts['adobe-caslon-w01-smbd'] = {}; supportedFonts['adobe-caslon-w01-smbd'].family = 'adobe-caslon-w01-smbd,serif'; supportedFonts['adobe-caslon-w01-smbd'].link = '';
    supportedFonts['amatic sc'] = {}; supportedFonts['amatic sc'].family = 'amatic sc,cursive'; supportedFonts['amatic sc'].link = 'https://fonts.googleapis.com/css?family=Amatic+SC:n,b,i,bi|&subset=cyrillic,latin';
    supportedFonts['americantypwrteritcw01--731025'] = {}; supportedFonts['americantypwrteritcw01--731025'].family = 'americantypwrteritcw01--731025,americantypwrteritcw02--737091,serif'; supportedFonts['americantypwrteritcw01--731025'].link = '';
    supportedFonts['anton'] = {}; supportedFonts['anton'].family = 'anton,sans-serif'; supportedFonts['anton'].link = '';
    supportedFonts['arial'] = {}; supportedFonts['arial'].family = 'arial,ï½ï½ ï½ã´ã·ãã¯,ms pgothic,ëì,dotum,helvetica,sans-serif'; supportedFonts['arial'].link = '';
    supportedFonts['arial black'] = {}; supportedFonts['arial black'].family = 'arial black,arial-w01-black,arial-w02-black,arial-w10 black,sans-serif'; supportedFonts['arial black'].link = '';
    supportedFonts['avenida-w01'] = {}; supportedFonts['avenida-w01'].family = 'avenida-w01,avenida-w02,fantasy'; supportedFonts['avenida-w01'].link = '';
    supportedFonts['avenir-lt-w01_35-light1475496'] = {}; supportedFonts['avenir-lt-w01_35-light1475496'].family = 'avenir-lt-w01_35-light1475496,sans-serif'; supportedFonts['avenir-lt-w01_35-light1475496'].link = '';
    supportedFonts['avenir-lt-w01_85-heavy1475544'] = {}; supportedFonts['avenir-lt-w01_85-heavy1475544'].family = 'avenir-lt-w01_85-heavy1475544,sans-serif'; supportedFonts['avenir-lt-w01_85-heavy1475544'].link = '';
    supportedFonts['basic'] = {}; supportedFonts['basic'].family = 'basic,sans-serif'; supportedFonts['basic'].link = 'https://fonts.googleapis.com/css?family=Basic';
    supportedFonts['baskervillemtw01-smbdit'] = {}; supportedFonts['baskervillemtw01-smbdit'].family = 'baskervillemtw01-smbdit,serif'; supportedFonts['baskervillemtw01-smbdit'].link = '';
    supportedFonts['belinda-w00-regular'] = {}; supportedFonts['belinda-w00-regular'].family = 'belinda-w00-regular,script'; supportedFonts['belinda-w00-regular'].link = '';
    supportedFonts['bodoni-w01-poster'] = {}; supportedFonts['bodoni-w01-poster'].family = 'bodoni-w01-poster,bodoni-poster-w10,fantasy'; supportedFonts['bodoni-w01-poster'].link = '';
    supportedFonts['braggadocio-w01'] = {}; supportedFonts['braggadocio-w01'].family = 'braggadocio-w01,fantasy'; supportedFonts['braggadocio-w01'].link = '';
    supportedFonts['brandon-grot-w01-light'] = {}; supportedFonts['brandon-grot-w01-light'].family = 'brandon-grot-w01-light,sans-serif'; supportedFonts['brandon-grot-w01-light'].link = '';
    supportedFonts['bree-w01-thin-oblique'] = {}; supportedFonts['bree-w01-thin-oblique'].family = 'bree-w01-thin-oblique,sans-serif'; supportedFonts['bree-w01-thin-oblique'].link = '';
    supportedFonts['caudex'] = {}; supportedFonts['caudex'].family = 'caudex,serif'; supportedFonts['caudex'].link = 'https://fonts.googleapis.com/css?family=Caudex';
    supportedFonts['chelsea market'] = {}; supportedFonts['chelsea market'].family = 'chelsea market,fantasy'; supportedFonts['chelsea market'].link = 'https://fonts.googleapis.com/css?family=Chelsea+Market';
    supportedFonts['cinzel'] = {}; supportedFonts['cinzel'].family = 'cinzel,serif'; supportedFonts['cinzel'].link = 'https://fonts.googleapis.com/css?family=Cinzel';
    supportedFonts['clarendon-w01-medium-692107'] = {}; supportedFonts['clarendon-w01-medium-692107'].family = 'clarendon-w01-medium-692107,clarendon-w02-medium-693834,serif'; supportedFonts['clarendon-w01-medium-692107'].link = '';
    supportedFonts['comic sans ms'] = {}; supportedFonts['comic sans ms'].family = 'comic sans ms,comic-sans-w01-regular,comic-sans-w02-regular,comic-sans-w10-regular,cursive'; supportedFonts['comic sans ms'].link = '';
    supportedFonts['cookie'] = {}; supportedFonts['cookie'].family = 'cookie,cursive'; supportedFonts['cookie'].link = 'https://fonts.googleapis.com/css?family=Cookie';
    supportedFonts['coquette-w00-light'] = {}; supportedFonts['coquette-w00-light'].family = 'coquette-w00-light,sans-serif'; supportedFonts['coquette-w00-light'].link = '';
    supportedFonts['corben'] = {}; supportedFonts['corben'].family = 'corben,serif'; supportedFonts['corben'].link = 'https://fonts.googleapis.com/css?family=Corben';
    supportedFonts['courier new'] = {}; supportedFonts['courier new'].family = 'courier new,courier-ps-w01,courier-ps-w02,courier-ps-w10,monospace'; supportedFonts['courier new'].link = '';
    supportedFonts['didot-w01-italic'] = {}; supportedFonts['didot-w01-italic'].family = 'didot-w01-italic,serif'; supportedFonts['didot-w01-italic'].link = '';
    supportedFonts['dinneuzeitgroteskltw01-_812426'] = {}; supportedFonts['dinneuzeitgroteskltw01-_812426'].family = 'dinneuzeitgroteskltw01-_812426,sans-serif'; supportedFonts['dinneuzeitgroteskltw01-_812426'].link = '';
    supportedFonts['din-next-w01-light'] = {}; supportedFonts['din-next-w01-light'].family = 'din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif'; supportedFonts['din-next-w01-light'].link = '';
    supportedFonts['droid-serif-w01-regular'] = {}; supportedFonts['droid-serif-w01-regular'].family = 'droid-serif-w01-regular,droid-serif-w02-regular,droid-serif-w10-regular,serif'; supportedFonts['droid-serif-w01-regular'].link = '';
    supportedFonts['eb garamond'] = {}; supportedFonts['eb garamond'].family = 'eb garamond,serif'; supportedFonts['eb garamond'].link = 'https://fonts.googleapis.com/css?family=EB+Garamond:n,b,i,bi|&subset=cyrillic,latin';
    supportedFonts['enriqueta'] = {}; supportedFonts['enriqueta'].family = 'enriqueta,serif'; supportedFonts['enriqueta'].link = 'https://fonts.googleapis.com/css?family=Enriqueta';
    supportedFonts['forum'] = {}; supportedFonts['forum'].family = 'forum,serif'; supportedFonts['forum'].link = 'https://fonts.googleapis.com/css?family=Forum:n,b,i,bi|&subset=cyrillic,latin';
    supportedFonts['fredericka the great'] = {}; supportedFonts['fredericka the great'].family = 'fredericka the great,fantasy'; supportedFonts['fredericka the great'].link = 'https://fonts.googleapis.com/css?family=Fredericka+the+Great';
    supportedFonts['futura-lt-w01-book'] = {}; supportedFonts['futura-lt-w01-book'].family = 'futura-lt-w01-book,sans-serif'; supportedFonts['futura-lt-w01-book'].link = '';
    supportedFonts['futura-lt-w01-light'] = {}; supportedFonts['futura-lt-w01-light'].family = 'futura-lt-w01-light,sans-serif'; supportedFonts['futura-lt-w01-light'].link = '';
    supportedFonts['georgia'] = {}; supportedFonts['georgia'].family = 'georgia,palatino,book antiqua,palatino linotype,serif'; supportedFonts['georgia'].link = '';
    supportedFonts['geotica-w01-four-open'] = {}; supportedFonts['geotica-w01-four-open'].family = 'geotica-w01-four-open,fantasy'; supportedFonts['geotica-w01-four-open'].link = '';
    supportedFonts['helvetica-w01-bold'] = {}; supportedFonts['helvetica-w01-bold'].family = 'helvetica-w01-bold,helvetica-w02-bold,helvetica-lt-w10-bold,sans-serif'; supportedFonts['helvetica-w01-bold'].link = '';
    supportedFonts['helvetica-w01-light'] = {}; supportedFonts['helvetica-w01-light'].family = 'helvetica-w01-light,helvetica-w02-light,sans-serif'; supportedFonts['helvetica-w01-light'].link = '';
    supportedFonts['helvetica-w01-roman'] = {}; supportedFonts['helvetica-w01-roman'].family = 'helvetica-w01-roman,helvetica-w02-roman,helvetica-lt-w10-roman,sans-serif'; supportedFonts['helvetica-w01-roman'].link = '';
    supportedFonts['impact'] = {}; supportedFonts['impact'].family = 'impact,impact-w01-2010,impact-w02-2010,impact-w10-2010,sans-serif'; supportedFonts['impact'].link = '';
    supportedFonts['itc-arecibo-w01-regular'] = {}; supportedFonts['itc-arecibo-w01-regular'].family = 'itc-arecibo-w01-regular,fantasy'; supportedFonts['itc-arecibo-w01-regular'].link = '';
    supportedFonts['jockey one'] = {}; supportedFonts['jockey one'].family = 'jockey one,sans-serif'; supportedFonts['jockey one'].link = 'https://fonts.googleapis.com/css?family=Jockey+One';
    supportedFonts['josefin slab'] = {}; supportedFonts['josefin slab'].family = 'josefin slab,serif'; supportedFonts['josefin slab'].link = 'https://fonts.googleapis.com/css?family=Josefin+Slab';
    supportedFonts['jura'] = {}; supportedFonts['jura'].family = 'jura,sans-serif'; supportedFonts['jura'].link = 'https://fonts.googleapis.com/css?family=Jura:n,b,i,bi|&subset=cyrillic,latin';
    supportedFonts['kelly slab'] = {}; supportedFonts['kelly slab'].family = 'kelly slab,fantasy'; supportedFonts['kelly slab'].link = 'https://fonts.googleapis.com/css?family=Kelly+Slab:n,b,i,bi|&subset=cyrillic,latin';
    supportedFonts['kepler-w03-light-scd-cp'] = {}; supportedFonts['kepler-w03-light-scd-cp'].family = 'kepler-w03-light-scd-cp,serif'; supportedFonts['kepler-w03-light-scd-cp'].link = '';
    supportedFonts['libre baskerville'] = {}; supportedFonts['libre baskerville'].family = 'libre baskerville,serif'; supportedFonts['libre baskerville'].link = 'https://fonts.googleapis.com/css?family=Libre+Baskerville';
    supportedFonts['lobster'] = {}; supportedFonts['lobster'].family = 'lobster,cursive'; supportedFonts['lobster'].link = 'https://fonts.googleapis.com/css?family=Lobster:n,b,i,bi|&subset=cyrillic,latin';
    supportedFonts['lucida console'] = {}; supportedFonts['lucida console'].family = 'lucida console,lucida-console-w01,monospace'; supportedFonts['lucida console'].link = '';
    supportedFonts['lucida sans unicode'] = {}; supportedFonts['lucida sans unicode'].family = 'lucida sans unicode,lucida grande,sans-serif'; supportedFonts['lucida sans unicode'].link = '';
    supportedFonts['lulo-clean-w01-one-bold'] = {}; supportedFonts['lulo-clean-w01-one-bold'].family = 'lulo-clean-w01-one-bold,sans-serif'; supportedFonts['lulo-clean-w01-one-bold'].link = '';
    supportedFonts['marck script'] = {}; supportedFonts['marck script'].family = 'marck script,cursive'; supportedFonts['marck script'].link = 'https://fonts.googleapis.com/css?family=Marck+Script:n,b,i,bi|&subset=cyrillic,latin';
    supportedFonts['marzo-w00-regular'] = {}; supportedFonts['marzo-w00-regular'].family = 'marzo-w00-regular,fantasy'; supportedFonts['marzo-w00-regular'].link = '';
    supportedFonts['monoton'] = {}; supportedFonts['monoton'].family = 'monoton,fantasy'; supportedFonts['monoton'].link = 'https://fonts.googleapis.com/css?family=Monoton';
    supportedFonts['montserrat'] = {}; supportedFonts['montserrat'].family = 'montserrat, sans-serif'; supportedFonts['montserrat'].link = 'https://fonts.googleapis.com/css?family=Montserrat';
    supportedFonts['mr de haviland'] = {}; supportedFonts['mr de haviland'].family = 'mr de haviland,cursive'; supportedFonts['mr de haviland'].link = 'https://fonts.google.com/specimen/Mr+De+Haviland';
    supportedFonts['museo-slab-w01-100'] = {}; supportedFonts['museo-slab-w01-100'].family = 'museo-slab-w01-100,serif'; supportedFonts['museo-slab-w01-100'].link = '';
    supportedFonts['museo-w01-700'] = {}; supportedFonts['museo-w01-700'].family = 'museo-w01-700,serif'; supportedFonts['museo-w01-700'].link = '';
    supportedFonts['niconne'] = {}; supportedFonts['niconne'].family = 'niconne,fantasy'; supportedFonts['niconne'].link = 'https://fonts.googleapis.com/css?family=Niconne';
    supportedFonts['nimbus-sans-tw01con'] = {}; supportedFonts['nimbus-sans-tw01con'].family = 'nimbus-sans-tw01con,sans-serif'; supportedFonts['nimbus-sans-tw01con'].link = '';
    supportedFonts['noticia text'] = {}; supportedFonts['noticia text'].family = 'noticia text,serif'; supportedFonts['noticia text'].link = 'https://fonts.googleapis.com/css?family=Noticia+Text';
    supportedFonts['open sans'] = {}; supportedFonts['open sans'].family = 'open sans,sans-serif'; supportedFonts['open sans'].link = '';
    supportedFonts['open sans condensed'] = {}; supportedFonts['open sans condensed'].family = 'open sans condensed,sans-serif'; supportedFonts['open sans condensed'].link = 'https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300:n,b,i,bi|&subset=cyrillic,latin';
    supportedFonts['overlock'] = {}; supportedFonts['overlock'].family = 'overlock,sans-serif'; supportedFonts['overlock'].link = 'https://fonts.googleapis.com/css?family=Overlock';
    supportedFonts['pacifica-w00-condensed'] = {}; supportedFonts['pacifica-w00-condensed'].family = 'pacifica-w00-condensed,fantasy'; supportedFonts['pacifica-w00-condensed'].link = '';
    supportedFonts['palatino linotype'] = {}; supportedFonts['palatino linotype'].family = 'palatino linotype,serif'; supportedFonts['palatino linotype'].link = '';
    supportedFonts['patrick hand'] = {}; supportedFonts['patrick hand'].family = 'patrick hand,cursive'; supportedFonts['patrick hand'].link = 'https://fonts.googleapis.com/css?family=Patrick+Hand';
    supportedFonts['peaches-and-cream-regular-w00'] = {}; supportedFonts['peaches-and-cream-regular-w00'].family = 'peaches-and-cream-regular-w00,script'; supportedFonts['peaches-and-cream-regular-w00'].link = '';
    supportedFonts['play'] = {}; supportedFonts['play'].family = 'play,sans-serif'; supportedFonts['play'].link = 'https://fonts.googleapis.com/css?family=Play:n,b,i,bi|&subset=cyrillic,latin';
    supportedFonts['playfair display'] = {}; supportedFonts['playfair display'].family = 'playfair display,serif'; supportedFonts['playfair display'].link = 'https://fonts.googleapis.com/css?family=Playfair+Display';
    supportedFonts['proxima-n-w01-reg'] = {}; supportedFonts['proxima-n-w01-reg'].family = 'proxima-n-w01-reg,sans-serif'; supportedFonts['proxima-n-w01-reg'].link = '';
    supportedFonts['raleway'] = {}; supportedFonts['raleway'].family = 'raleway,sans-serif'; supportedFonts['raleway'].link = 'https://fonts.googleapis.com/css?family=Raleway';
    supportedFonts['reklamescriptw00-medium'] = {}; supportedFonts['reklamescriptw00-medium'].family = 'reklamescriptw00-medium,cursive'; supportedFonts['reklamescriptw00-medium'].link = '';
    supportedFonts['rosewood-w01-regular'] = {}; supportedFonts['rosewood-w01-regular'].family = 'rosewood-w01-regular,sans-serif'; supportedFonts['rosewood-w01-regular'].link = '';
    supportedFonts['sacramento'] = {}; supportedFonts['sacramento'].family = 'sacramento,cursive'; supportedFonts['sacramento'].link = 'https://fonts.googleapis.com/css?family=Sacramento';
    supportedFonts['sail'] = {}; supportedFonts['sail'].family = 'sail,serif'; supportedFonts['sail'].link = 'https://fonts.googleapis.com/css?family=Sail';
    supportedFonts['sarina'] = {}; supportedFonts['sarina'].family = 'sarina,cursive'; supportedFonts['sarina'].link = 'https://fonts.googleapis.com/css?family=Sarina';
    supportedFonts['signika'] = {}; supportedFonts['signika'].family = 'signika,sans-serif'; supportedFonts['signika'].link = 'https://fonts.googleapis.com/css?family=Signika';
    supportedFonts['snellroundhandw01-scrip'] = {}; supportedFonts['snellroundhandw01-scrip'].family = 'snellroundhandw01-scrip,cursive'; supportedFonts['snellroundhandw01-scrip'].link = '';
    supportedFonts['soho-w01-thin-condensed'] = {}; supportedFonts['soho-w01-thin-condensed'].family = 'soho-w01-thin-condensed,soho-w02-thin-condensed,serif'; supportedFonts['soho-w01-thin-condensed'].link = '';
    supportedFonts['spinnaker'] = {}; supportedFonts['spinnaker'].family = 'spinnaker,sans-serif'; supportedFonts['spinnaker'].link = 'https://fonts.googleapis.com/css?family=Spinnaker';
    supportedFonts['stencil-w01-bold'] = {}; supportedFonts['stencil-w01-bold'].family = 'stencil-w01-bold,fantasy'; supportedFonts['stencil-w01-bold'].link = '';
    supportedFonts['tahoma'] = {}; supportedFonts['tahoma'].family = 'tahoma,tahoma-w01-regular,tahoma-w02-regular,tahoma-w10-regular,tahoma-w15--regular,tahoma-w99-regular,sans-serif'; supportedFonts['tahoma'].link = '';
    supportedFonts['times new roman'] = {}; supportedFonts['times new roman'].family = 'times new roman,times,serif'; supportedFonts['times new roman'].link = '';
    supportedFonts['trend-sans-w00-four'] = {}; supportedFonts['trend-sans-w00-four'].family = 'trend-sans-w00-four,sans-serif'; supportedFonts['trend-sans-w00-four'].link = '';
    supportedFonts['verdana'] = {}; supportedFonts['verdana'].family = 'verdana,geneva,sans-serif'; supportedFonts['verdana'].link = '';

    supportedFontsKeys = [];
    for(key in supportedFonts) {
        supportedFontsKeys.push(key);
    }
}
function changeCustomFonts(newFonts){
    if (supportedFonts == null)
        populateFonts();


/*    var customFontUrl = null;
    switch (newFonts){
        case "bodoni-w01-poster":
        case "din-next-w01-light":
        case "droid-serif-w01-regular":
        case "helvetica-w01-roman":
        case "helvetica-w01-bold":
        case "open sans":
        case "adobe-caslon-w01-smbd":
        case "americantypwrteritcw01--731025":
            customFontUrl =  "https://static.parastorage.com/services/santa/1.1752.26/static/css/user-site-fonts/latin.css";
            break;

        case "eb garamond":
            customFontUrl =  "https://fonts.googleapis.com/css?family=EB+Garamond:n,b,i,bi|&subset=cyrillic,latin";
            break;

        case "forum":
            customFontUrl =  "https://fonts.googleapis.com/css?family=Forum:n,b,i,bi|&subset=cyrillic,latin";
            break;

        case "jura":
            customFontUrl =  "https://fonts.googleapis.com/css?family=Jura:n,b,i,bi|&subset=cyrillic,latin";
            break;

        case "kelly slab":
            customFontUrl =  "https://fonts.googleapis.com/css?family=Kelly+Slab:n,b,i,bi|&subset=cyrillic,latin";
            break;

        case "lobster":
            customFontUrl =  "https://fonts.googleapis.com/css?family=Lobster:n,b,i,bi|&subset=cyrillic,latin";
            break;

        case "marck script":
            customFontUrl =  "https://fonts.googleapis.com/css?family=Marck+Script:n,b,i,bi|&subset=cyrillic,latin";
            break;

        case "open sans condensed":
            customFontUrl =  "https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300:n,b,i,bi|&subset=cyrillic,latin";
            break;

        case "play":
            customFontUrl =  "https://fonts.googleapis.com/css?family=Play:n,b,i,bi|&subset=cyrillic,latin";
            break;

        case "amatic sc":
            customFontUrl =  "https://fonts.googleapis.com/css?family=Amatic+SC:n,b,i,bi|&subset=cyrillic,latin";
            break;

        case "anton":
            customFontUrl =  "https://fonts.googleapis.com/css?family=Anton:n,b,i,bi|&subset=cyrillic,latin";
            break;
    }

    var fontFamily = newFonts;
    if ( ( (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) || (navigator.userAgent.toLowerCase().indexOf("android") != -1)) && customFontUrl == null) {
        switch (newFonts){
            case "comic sans ms":
                fontFamily = "Comic-Sans-W01-Regular";
                break;

            case "courier new":
                fontFamily = "Courier-PS-W01";
                break;

            case "impact":
                fontFamily = "Impact-W01-2010";
                break;

            case "arial black":
                fontFamily = "Arial-W01-Black";
                break;
        }

        if (fontFamily != newFonts)
            customFontUrl = "https://static.parastorage.com/services/santa-resources/resources/viewer/user-site-fonts/v3/latin.css";
    }

    var bodyClass = document.body.className;
    bodyClass.replace("lato", "").
              replace("arial", "").
              replace("arial black", "").
              replace("bodoni-w01-poster", "").
              replace("comic sans ms", "").
              replace("courier new", "").
              replace("din-next-w01-light", "").
              replace("droid-serif-w01-regular", "").
              replace("eb garamond", "").
              replace("forum", "").
              replace("georgia", "").
              replace("helvetica-w01-roman", "").
              replace("helvetica-w01-bold", "").
              replace("impact", "").
              replace("jura", "").
              replace("kelly slab", "").
              replace("lobster", "").
              replace("marck script", "").
              replace("open sans", "").
              replace("open sans condensed", "").
              replace("play", "").
              replace("times new roman", "").
              replace("verdana", "").
              replace("adobe-caslon-w01-smbd", "").
              replace("amatic sc", "").
              replace("americantypwrteritcw01--731025", "").
              replace("anton", "");
    document.body.className = bodyClass;
*/
    var bodyClass = document.body.className;
    for(var keysIterator = 0; keysIterator < supportedFontsKeys.length; keysIterator++){
        bodyClass.replace(supportedFontsKeys[keysIterator], "");
    }


    var supportedFont = supportedFonts[newFonts];
    if (supportedFont == undefined){
        addStylesheetUtil.removeStylesheet("customFontsSheet");
        document.body.className = bodyClass;
        return;
    }

    if (supportedFont.link != undefined && supportedFont.link != "")
        loadFileUtil.loadFile(loadFileUtil.urlTypes.css, supportedFont.link);
    else{
        loadFileUtil.loadFile(loadFileUtil.urlTypes.css, "https://static.parastorage.com/services/santa-resources/resources/viewer/user-site-fonts/v3/latin.css");

        if ((/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) || (navigator.userAgent.toLowerCase().indexOf("android") != -1))
           loadFileUtil.loadFile(loadFileUtil.urlTypes.css, "https://static.parastorage.com/services/santa/1.1752.26/static/css/user-site-fonts/latin.css");
    }

    addStylesheetUtil.removeStylesheet("customFontsSheet");
    var customFontsSheet = addStylesheetUtil.createNewStylesheet("customFontsSheet");
    addStylesheetUtil.addCSSRule(customFontsSheet, "body", "font-family:" + supportedFont.family + " !important;");
    addStylesheetUtil.addCSSRule(customFontsSheet, "input,textarea,select", "font-family:" + supportedFont.family + " !important;");
    addStylesheetUtil.addCSSRule(customFontsSheet, "h1, h2, h3, h4, h5, h6", "font-family:" + supportedFont.family + " !important;");

    document.body.className += " " + (newFonts.toLowerCase().replace(/ /g, "-")) + " " + "custom-font";

    if($("body").hasClass("extended"))
        setExtentedUI();
}

function calcLuma(element){
    if (element == null)
        return null;

    var backgroundColorRGBA = window.getComputedStyle(element).backgroundColor;
    backgroundColorRGBA = backgroundColorRGBA.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);
    backgroundColorRGBA =  (backgroundColorRGBA && backgroundColorRGBA.length === 4) ? ("0" + parseInt(backgroundColorRGBA[1],10).toString(16)).slice(-2) +
    ("0" + parseInt(backgroundColorRGBA[2],10).toString(16)).slice(-2) +
    ("0" + parseInt(backgroundColorRGBA[3],10).toString(16)).slice(-2) : '';

    backgroundColorRGBA = parseInt(backgroundColorRGBA, 16);
    var red = (backgroundColorRGBA >> 16) & 0xff;
    var green = (backgroundColorRGBA >>  8) & 0xff;
    var blue = (backgroundColorRGBA >>  0) & 0xff;

    return 0.2126 * red + 0.7152 * green + 0.0722 * blue;

}

function checkWixHiveReport(){
    if (!params.isWix)// || !statistics.getUserString())
        return;

    var pageUrl = statistics.getPageUrl().replace("https://www.", "").replace("http://www.", "").replace("https://", "").replace("http://", "");

    // if (!params.wixHivePending)
    //     params.wixHivePending = localStorage.getItem("pwhr") != null && localStorage.getItem("pwhr").indexOf(";" + pageUrl + ";") != -1;

    // if (!params.wixHivePending || !shouldWorkOnWixHiveReporting(pageUrl))
    if (!shouldWorkOnWixHiveReporting(pageUrl))
        return;

    $.ajax({
        url: params.internalUrl + "gwhcpu.action",
        jsonpCallback : "pwhrwcallback",
        dataType: "jsonp",
        cache: false,
        data:{
            pageUrl: statistics.getPageUrl()
        },
        success: function( result ) {
            var pageUrl = statistics.getPageUrl().replace("https://www.", "").replace("http://www.", "").replace("https://", "").replace("http://", "");
            if (!result || result.length == 0){
                wixHiveReportingClearPage(pageUrl);
                return;
            }
            var objectToSend;
            for (var commentIterator = 0; commentIterator <  result.length; commentIterator++){
                if (!result[commentIterator].user || !result[commentIterator].comment)
                    continue;

                objectToSend = {};
                objectToSend.text = result[commentIterator].comment.msgText;
                objectToSend.title = result[commentIterator].comment.title;
                objectToSend.id = result[commentIterator].comment.commentId;
                objectToSend.typeId = result[commentIterator].comment.typeId;
                objectToSend.lastLoginMethod = result[commentIterator].user.lastLoginMethod;
                objectToSend.firstName = result[commentIterator].user.firstName;
                objectToSend.lastName = result[commentIterator].user.lastName;
                objectToSend.fullName = result[commentIterator].user.fullName;
                objectToSend.photoUrl = result[commentIterator].user.photoUrl;
                objectToSend.email = result[commentIterator].user.email;

                messaging.postMessage(null,messaging.messageTypes.sendToWixHive, JSONLib.toString(objectToSend));
            }

            wixHiveReportingClearPage(pageUrl);
        },
        error: function(){
            if (!userStorageUtil.isEnabled())
                return;

            var pageUrl = statistics.getPageUrl().replace("https://www.", "").replace("http://www.", "").replace("https://", "").replace("http://", "");
            var pendingPages = localStorage.getItem("pwhrw");
            if (pendingPages != null){
                pendingPages = pendingPages.replace(pageUrl + ";", "");
                if (pendingPages == ";")
                    localStorage.removeItem("pwhrw");
                else
                    localStorage.setItem("pwhrw", pendingPages);
            }

            return;
        }

    });

}

function shouldWorkOnWixHiveReporting(pageUrl){
    if (!params.isWix || !pageUrl)
        return false;

    if (!userStorageUtil.isEnabled())
        return true;

    var workingPages = localStorage.getItem("pwhrw");
    if (workingPages != null && workingPages.indexOf(";" + pageUrl + ";") != -1)
        return false;

    if (workingPages == null)
        workingPages = ";" + pageUrl + ";";
    else
        workingPages += pageUrl + ";";

    localStorage.setItem("pwhrw", workingPages);

    return true;
}

function wixHiveReportingClearPage(pageUrl){
    if (!params.isWix || !pageUrl)
        return;

    if (!userStorageUtil.isEnabled()) {
        messaging.postMessage(null,messaging.messageTypes.wixHiveReportingClearPage, pageUrl);
        return;
    }

    var pendingPages = localStorage.getItem("pwhr");
    if (pendingPages != null){
        pendingPages = pendingPages.replace(pageUrl + ";", "");
        if (pendingPages == ";")
            localStorage.removeItem("pwhr");
        else
            localStorage.setItem("pwhr", pendingPages);
    }

    pendingPages = localStorage.getItem("pwhrw");
    if (pendingPages != null){
        pendingPages = pendingPages.replace(pageUrl + ";", "");
        if (pendingPages == ";")
            localStorage.removeItem("pwhrw");
        else
            localStorage.setItem("pwhrw", pendingPages);
    }

    messaging.postMessage(null,messaging.messageTypes.wixHiveReportingClearPage, pageUrl);
}

function sendSuccessWixHiveReport(commentId, email, contactId){
    updateWixHiveReportStatus(commentId, params.page.id, statistics.getPageUrl(), 1);
}

function sendFailureWixHiveReport(commentId, errorCode){
    updateWixHiveReportStatus(commentId, params.page.id, statistics.getPageUrl(), 0);
}

function updateWixHiveReportStatus(commentId, pageId, pageUrl, statusCode) {
    $.ajax({
        url: params.internalUrl + "gwhcpust.action",
        jsonpCallback: "gwhcpustcallback",
        dataType: "jsonp",
        cache: false,
        data: {
            commentId: commentId,
            pageId: pageId,
            pageUrl: pageUrl,
            typeId: statusCode
        },
        success: function (result) {
            if (result == "1")
                return;

            setTimeout(function(){updateWixHiveReportStatus(commentId, pageId, pageUrl, statusCode);}, 100);
        },
        error: function () {
            setTimeout(function(){updateWixHiveReportStatus(commentId, pageId, pageUrl, statusCode);}, 100);
        }

    });
}

function checkYoutubeVideo(addCommentContainer, message){
    var url =   message.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube|youtu|m\.youtube)\.(?:be|com)\/[^\s]+/g);
   if(!url){
       addToView(addCommentContainer, null);
       return null;
   }

   if(url.length == 0){
        addToView(addCommentContainer, null);
        return null;
   }

   var videoPreviewHTML = '';

   for(var i = 0 ; i < url.length; i++){
         var videoId = youtubeVideoId(url[i]);
         if(videoId){
            var  videoTemplateHTML = $("#videoTemplate").val();
            videoTemplateHTML = videoTemplateHTML.replace(/#URL#/g, url[i]);
            videoTemplateHTML = videoTemplateHTML.replace(/#THUMB_URL#/g, "https://i.ytimg.com/vi/" + videoId + "/hqdefault.jpg");
            videoPreviewHTML += videoTemplateHTML;
                //showVideos(addCommentContainer,url[i], videoId);
         }
   }
   addToView(addCommentContainer, videoPreviewHTML);
}

function loadVideosForMobile(videoIds){
    if(videoIds != null && Object.prototype.toString.call( videoIds ) === '[object Array]' && videoIds.length > 0)
        return;

   $.ajax({
           dataType: 'jsonp',
           url: 'https://www.googleapis.com/youtube/v3/videos?part=snippet&id=' + videoIds + '&fields=items(id,snippet(title))&key=AIzaSyAyM2FoVbfuxuSHVWzE95Ya_vqk3frjOjU',
           success: function(data) {
               if (data.error && data.error.errors && data.error.errors[0] && data.error.errors[0].reason) {
                   youTubeVideoCallback(false, 'error', data.error.errors[0].reason);
               }
               else if (data.items && data.items.length > 0) {
                   for(var i = 0 ; i < data.items.length ; i++){
                        if (!data.items[i].snippet){
                            youTubeVideoCallback(false, 'error', 'invalid input');
                            continue;
                        }
                        youTubeVideoCallback(true, data.items[i].snippet.title,  data.items[i].id);
                   }
               }
           }
   });
}

function youTubeVideoCallback(success, title , videoId){
   if(!success){
       sendEvent("Tracker","ErrorFindingVideoDetails", videoId , ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
       return;
   }

   $("[id ^=cvid][id $=" + videoId + " ] ").find("span.view-txt").text(title);
   $("[id ^=cvid][id $=" + videoId + " ] ").find("span.view-txt").removeClass("invisible");
}

function getYoutubePlayerHtml(commentId, videoId, iterator){
    var playerId = videoId + "_" + commentId + "_" + iterator;
    var html = $("#mobileVideoTemplate").text().replace("#ID#", "cvid" + commentId + "_" + videoId);
        html = html.replace("#VIDEO_ID#", videoId);
        html = html.replace("#PLAYER_ID#", playerId);
     return html;
}

function loadVideoPlayerForMobile(videoId, element, playerId){
    if($(element).hasClass("video-loaded")){
        $("iframe#" + playerId).attr("src", " ");
        $("iframe#" + playerId).remove();
        $(element).removeClass("video-loaded");
        sendNumberOfCommentsToHost();
    }else {
        $(element).addClass("video-loaded");
        if($("div#" +playerId).length == 0){
            $("<div class='video-player' id='" + playerId + "'> <div>").insertAfter(element);
        }
        loadVideo([{videoId: videoId, playerId:playerId}], null , null);
    }
}

function addToView(addCommentContainer, videoPreviewHTML){
    var richMediaDiv = $(addCommentContainer).find(".rich-media-div");

    if(!videoPreviewHTML){
        $(richMediaDiv).children(".video-preview").remove();
        if($(richMediaDiv).children(".preview").length == 0)
            $(richMediaDiv).addClass("invisible");
        return;
    }

    if(!$(richMediaDiv).is(":visible"))
        $(richMediaDiv).removeClass("invisible");

    $(richMediaDiv).children(".video-preview.preview").remove();
    $(richMediaDiv).append(videoPreviewHTML);
    sendNumberOfCommentsToHost();
    sendEvent("Product","VideoUpload", "uploading video", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
}

/*function showVideos(addCommentContainer, url, videoId){
    var richMediaDiv = $(addCommentContainer).find(".rich-media-div");
    if(!$(richMediaDiv).is(":visible"))
        $(richMediaDiv).removeClass("invisible");

    $(richMediaDiv).html("");

    *//*$.getJSON('//www.googleapis.com/youtube/v3/videos?part=snippet&id='+  videoId + '&key=127108672174-ju81ar9a0ppn3174fv5ajokcc0vkldl2.apps.googleusercontent.com',function(data,status,xhr){ //http://img.youtube.com/vi/" + videoId + "/hqdefault.jpg

    });*//*
}*/

function youtubeVideoId(url) {
  var p = /^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
  return (url.match(p)) ? RegExp.$1 : false;
}

var latestExtendedWidth = 0;
function setExtentedUI(force) {
    if (!querystringUtil)
            return;

    var queryString = querystringUtil.extract(window.location.href);

    if (!queryString.affIdId)
        return;

    if (params.isWix){
        force = true;
        queryString.wd = 1;
    }

    if(queryString.wbb && queryString.wbb == 1 && queryString.pec && queryString.pec == 1)
        queryString.wd = 1;

    if (!queryString.affIdId ||
        (
            ($("body").width() < 564 || ($("body").hasClass("scaled") && bodyWidthLastScale  < 564)) &&
            (queryString.affIdId != "vYMu56ooZa" &&  queryString.affIdId != "0gSOz9aS6V" && queryString.affIdId != "hQ6bYcripZ")
        ) ||
        (
            (queryString.affIdId == "vYMu56ooZa" || queryString.affIdId == "0gSOz9aS6V" || queryString.affIdId == "hQ6bYcripZ" ) &&
            ($("body").width() < 565 ||  ($("body").hasClass("scaled") && bodyWidthLastScale  < 565))
        )){// || (params.isMobile && !params.isTablet)) {
        clearExtentedUIAddComment();
        clearExtentedUIRenderComment();
        $("body").removeClass("extended");
        return;
    }


    //var queryString = querystringUtil.extract(window.location.href);

    if (queryString.affIdId != "0gSOz9aS6V" &&
        queryString.affIdId != "MLQfJE8CLq" &&
        queryString.affIdId != "yhGCard6ll" &&
        queryString.affIdId != "utPCLUOaol" &&
        queryString.affIdId != "kTBxNxuTOQ" &&
        queryString.affIdId != "nIvowrVxXz" &&
        queryString.affIdId != "lOPgNiqdW1" &&
        queryString.affIdId != "vYMu56ooZa" &&
        queryString.affIdId != "v1CDof2Ne4" && 
        queryString.affIdId != "4OHYhgkjnT" &&
        queryString.affIdId != "nir-demo"   &&
	queryString.affIdId != "toivj" &&
        queryString.affIdId != "wuAZTcv8nx" &&
        queryString.affIdId != "heyoya-demo-from-site" &&
        queryString.affIdId != "hQ6bYcripZ" && queryString.wd == 0)
        return;

    if (!force && latestExtendedWidth == $("body").width())
        return;

    latestExtendedWidth = $("body").width();

    $("body").addClass("extended");
    setExtentedUIAddComment();
    setExtentedUIRenderComment();
    //setExtentedUIReportBad();
}

function setExtentedUIAddComment(){
    if (!$("body").hasClass("extended"))
        return;

    $(".no-margins .add-comment-reply-container.reply").each(function () {
        var articleBlockElement = $(this).parent().parent();
        if (!articleBlockElement.hasClass("block"))
            articleBlockElement = articleBlockElement.parent();

        var articleWidth = articleBlockElement.width() +
            parseInt(articleBlockElement.css("padding-left"), 10) +
            parseInt(articleBlockElement.css("padding-right"), 10) +
            parseInt(articleBlockElement.css("margin-right"), 10) +
            parseInt(articleBlockElement.css("border-right-width"), 10) +
            parseInt(articleBlockElement.css("border-left-width"), 10) +
            parseInt(articleBlockElement.css("margin-left"), 10);

        $(this).attr("style", "width:" + articleWidth + "px !important");
    });

    $(".add-container .content-right-box").each(function () {
        var btn = $($(this).parent().find(".btn-blue:not(.invisible)")[0]);
        var textareaWidth = $($(this).parent().parent().find(".submission-form.post-step-1 .form-elements")[0]).width();
        if (textareaWidth == 0)
            return;

        var buttonSize = btn.width() +
            parseInt(btn.css("padding-left"), 10) +
            parseInt(btn.css("padding-right"), 10) +
            parseInt(btn.css("margin-right"), 10) +
            parseInt(btn.css("border-right-width"), 10) +
            parseInt(btn.css("border-left-width"), 10) +
            parseInt(btn.css("margin-left"), 10) + 3;

        var containerWidth = $($(this).parent().parent().find(".submission-form.post-step-1 .form-elements")[0]).width();

        var prevWidth = parseInt($(this).css("width"));
        if (isNaN(prevWidth))
            prevWidth = 0;

        if ($(this).offset().top == 0 && $(this).parent().parent().find(".content-right-box:not('.invisible')").length > 0)
            return true;

        $(this).parent().parent().find(".content-right-box").attr("style", "width:" + (containerWidth - buttonSize) + "px !important");

        var topDiff = $(this).offset().top > 0? $(this).offset().top - btn.offset().top : 0;

        while(topDiff > 4) {
            buttonSize++;
            $(this).parent().parent().find(".content-right-box").attr("style", "width:" + (containerWidth - buttonSize) + "px !important");
            topDiff = $(this).offset().top - btn.offset().top;
        }
    });

}

function clearExtentedUIAddComment(){
    if (!$("body").hasClass("extended"))
        return;

    $(".no-margins .add-comment-reply-container.reply").each(function () {
        var articleBlockElement = $(this).parent().parent();
        if (!articleBlockElement.hasClass("block"))
            articleBlockElement = articleBlockElement.parent();

        $(this).css("width","");
    });

    $(".add-container .content-right-box").each(function () {
        var btn = $($(this).parent().find(".btn-blue:not(.invisible)")[0]);
        var textareaWidth = $($(this).parent().parent().find(".submission-form.post-step-1 .form-elements")[0]).width();
        if (textareaWidth == 0)
            return;

        $(this).css("width","");
    });
}


function setExtentedUIRenderComment(){
    if (!$("body").hasClass("extended"))
        return;

    $(".review-post").each(function () {
        var comment = $(this);
        $(comment.find(".share-link-input:first-child")[0]).css("width", $(comment.find(".header-l")[0]).width());

        comment.find(".content-right-box").each(function () {
            if ($(this).parents(".add-container").length > 0)
                return;

            var btn = $($(this).parent().find(".btn-blue:not(.invisible)")[0]);

            var buttonSize = btn.width() +
                parseInt(btn.css("padding-left"), 10) +
                parseInt(btn.css("padding-right"), 10) +
                parseInt(btn.css("margin-right"), 10) +
                parseInt(btn.css("border-right-width"), 10) +
                parseInt(btn.css("border-left-width"), 10) +
                parseInt(btn.css("margin-left"), 10) + 3;

            var containerWidth = $(comment.find(".header-l")[0]).width();
            $(this).css("width", (containerWidth - buttonSize) + "px");

            var topDiff = $(this).offset().top > 0? $(this).offset().top - btn.offset().top : 0;
            while(topDiff > 4) {
                buttonSize++;
                $(this).parent().find(".content-right-box").attr("style", "width:" + (containerWidth - buttonSize) + "px !important");
                topDiff = $(this).offset().top - btn.offset().top;
            }
        });

    });
}

function clearExtentedUIRenderComment(){
    if (!$("body").hasClass("extended"))
        return;

    $(".review-post").each(function () {
        var comment = $(this);
        $(comment.find(".share-link-input:first-child")[0]).css("width", $(comment.find(".header-l")[0]).width());

        comment.find(".content-right-box").each(function () {
            if ($(this).parents(".add-container").length > 0)
                return;

            $(this).css("width", "");
        });

    });
}

function setExtentedUIReportBad(){
    if (!$("body").hasClass("extended"))
        return;

    var reportBadFieldWrap = $("#reportBad .report-form .field-wrap.first");

    var reportBadContainerWidth = $("#reportBadContainer .field-wrap.report-comment").width();
    var reportBadFieldWrapPaddingMargin =  parseInt(reportBadFieldWrap.css("padding-left"), 10) +
                                            parseInt(reportBadFieldWrap.css("padding-right"), 10) +
                                            parseInt(reportBadFieldWrap.css("margin-right"), 10) +
                                            parseInt(reportBadFieldWrap.css("margin-left"), 10);
    reportBadFieldWrap.css("width", ((reportBadContainerWidth - reportBadFieldWrapPaddingMargin)/2) + "px" );
    $("#reportBad .report-form .field-wrap.email").css("width", ((reportBadContainerWidth - reportBadFieldWrapPaddingMargin)/2) + "px" );
}

function openPage(pageUrl , commentId, element){
    if (pageUrl.indexOf("showVideo*hey*") == 0){
        var parameters = pageUrl.split("*hey*");
        if (parameters.length == 1)
            return;

        showNotificationVideo(parameters[1]);
    } else {
        if (pageUrl && commentId != null) {
            pageUrl = updateQueryStringParameter(pageUrl, "heycid", commentId);
        } else if (!pageUrl || pageUrl == "null")
            pageUrl = parent.location.href;

        if (pageUrl.indexOf("http:") == -1 && pageUrl.indexOf("https:") == -1)
            pageUrl = "//" + pageUrl;

        window.open(pageUrl, '_blank');
    }

    statistics.report("notification-opened", {"commentId": $(element).attr("id")});

    if($(element).hasClass("unread")){
        userNotifications.markAsRead($(element).attr("id"), function(status){
            if(status){
                if(status.success){
                    $(element).removeClass("unread").addClass("read");
                    var count = parseInt($(element).parents(".camera-div").find(".notification-count").text());
                    if(count - 1 > 0){
                        $(element).parents(".camera-div").find(".notification-count").text(count - 1);
                    }else{
                        $(element).parents(".camera-div").find(".notification-count").addClass("invisible");
                        $(".bell-icon").removeClass("show").addClass("blur");
                    }
                }
                statistics.report("notification-marked-read", {"commentId": $(element).attr("id")});
            }
        });
    }
}

function showNotificationVideo(videoId){
    playYouTubeVideo(videoId);
}

function playYouTubeVideo(videoId){
     var addContainerBackground = $("#addContainerBackground");
     var isSafariNotMobile = $("body").hasClass("safari") && !params.isMobile;
     addContainerBackground.removeClass("invisible").css("height", (  (lastScaleRatio > 0 && lastScaleRatio < 1 && !isSafariNotMobile)?calcOffetTop($("#poweredByLink")[0]): $(document).height() ) + "px");

     $("#howToVideo").removeClass("invisible");

     if (!params.isMobile && lastScaleRatio > 0  && lastScaleRatio < 1) {
         addContainerBackground.css("-ms-transform", "scale(" + (1 / lastScaleRatio) + ")");/* IE 9 */
         addContainerBackground.css("-moz-transform", "scale(" + (1 / lastScaleRatio) + ")");/* Firefox */
         addContainerBackground.css("-o-transform", "scale(" + (1 / lastScaleRatio) + ")");/* Opera */
         addContainerBackground.css("-webkit-transform", "scale(" + (1 / lastScaleRatio) + ")");/* Safari And Chrome */
         addContainerBackground.css("transform", "scale(" + (1 / lastScaleRatio) + ")");/* Standard Property */
     }

     var minWidth = 590;
     var videoWidth = addContainerBackground.width();
     if (!params.isMobile && lastScaleRatio > 0 && lastScaleRatio < 1 && (navigator.userAgent.toLowerCase().indexOf("msie") != -1 || navigator.userAgent.toLowerCase().indexOf("trident") != -1))
         videoWidth *= (1 / lastScaleRatio);

     if (videoWidth > minWidth)
         videoWidth = minWidth + ((videoWidth - minWidth)/2);

     var videoHeight = videoWidth * 0.5625;
     $("#howToVideo").css("top", "0");

     if (!$("body").hasClass("rtl")) {
         $("#howToVideoContainer").css("padding-left", (videoWidth - minWidth) / 2);

         if (!$("body").hasClass("safari") || lastScaleRatio == 1 || lastScaleRatio == 0  )
             $("#howToVideoClose").css("left", ((videoWidth - minWidth) / 2) + videoWidth - 34);
         else { //Safari scaled only
             var howToVideoCloseObj = $("#howToVideoClose");
             var newFontSize;
             if (!isSafariNotMobile || howToVideoCloseObj.hasClass("size-fixed"))
                 newFontSize = parseInt(howToVideoCloseObj.css("font-size"), 10);
             else
                 newFontSize = parseInt(howToVideoCloseObj.css("font-size"), 10) * lastScaleRatio;

             howToVideoCloseObj.attr("style", "font-size:" + newFontSize + "px;").addClass("size-fixed");
             howToVideoCloseObj.attr("style", "left: " + (videoWidth - howToVideoCloseObj.width()) + "px !important; font-size:" + newFontSize + "px;");
             // if (!$("body").hasClass("arial-black"))
             //     $("#howToVideoClose").css("left", videoWidth - 38);
             // else
             //     $("#howToVideoClose").css("left", videoWidth - 46);
         }
     } else {
         $("#howToVideoContainer").css("padding-right", (videoWidth - minWidth) / 2);
         // $("#howToVideoClose").css("right", ((videoWidth - minWidth) / 2) + videoWidth - 34);
         // $("#howToVideoClose").css("left", "inherit");

         if (!$("body").hasClass("safari") || lastScaleRatio == 1 || lastScaleRatio == 0  ) {
             var right = ((videoWidth - minWidth) / 2) + videoWidth - 34;
             $("#howToVideoClose").attr("style", "right: " + right + "px;left:inherit !important;");
         } else { //Safari scaled only
             var howToVideoCloseObj = $("#howToVideoClose");
             var newFontSize;
             if (!isSafariNotMobile || howToVideoCloseObj.hasClass("size-fixed"))
                 newFontSize = parseInt(howToVideoCloseObj.css("font-size"), 10);
             else
                 newFontSize = parseInt(howToVideoCloseObj.css("font-size"), 10) * lastScaleRatio;

             howToVideoCloseObj.attr("style", "font-size:" + newFontSize + "px;").addClass("size-fixed");
             howToVideoCloseObj.attr("style", "right: 4px !important; font-size:" + newFontSize + "px;left: inherit !important;");
             // if (!$("body").hasClass("arial-black"))
             //     $("#howToVideoClose").css("left", videoWidth - 38);
             // else
             //     $("#howToVideoClose").css("left", videoWidth - 46);
         }

     }

     if (window == top) {
         $("#howToVideoClose").css("right", "");
         $("#howToVideoClose").css("left", "");
     }


     $("#howToVideoClose").off("click").on("click", function(){
         if (YTPlayer == null)
             return;

         try{
             YTPlayer.destroy();
         }
         catch(err){

         }

         messaging.postMessage(null,messaging.messageTypes.showRecordingBars, "1");

         var addContainerBackground = $("#addContainerBackground");
         $("#howToVideo").addClass("invisible");
         addContainerBackground.addClass("invisible");

         if (!params.isMobile && lastScaleRatio < 1) {
             addContainerBackground.css("-ms-transform", "");/* IE 9 */
             addContainerBackground.css("-moz-transform", "");/* Firefox */
             addContainerBackground.css("-o-transform", "");/* Opera */
             addContainerBackground.css("-webkit-transform", "");/* Safari And Chrome */
             addContainerBackground.css("transform", "");/* Standard Property */
         }

         sendNumberOfCommentsToHost();
     });
     loadHowToVideo(videoWidth, videoHeight, videoId);

 }


function updateQueryStringParameter(uri, key, value) {
  var re = new RegExp("([?&])" + key + "=.*?(&|$)", "i");
  var separator = uri.indexOf('?') !== -1 ? "&" : "?";
  if (uri.match(re)) {
    return uri.replace(re, '$1' + key + "=" + value + '$2');
  }
  else {
    return uri + separator + key + "=" + value;
  }
}

 function showOptions(event, element){
     var e = event || window.event;
     e.stopPropagation();  
     var isParentElemRead = false;
    if(!$(element).parents(".row").hasClass("unread")){
        $(element).children().find(".options-wrapper .menu-item:nth(0)").addClass("invisible");
        isParentElemRead = true;
        $(element).find(".options-menu").addClass("single");
    }
    $(element).parents(".row").removeClass("last-row");

    if($(element).find(".options-menu").hasClass("shown")){
        $(element).find(".options-menu").removeClass("shown").addClass("hidden");
        $(element).addClass("invisible");
        if($(element).parents(".row").index() == $(".notification-body .row").length -1){

        }
    }else{
        $(".options-menu").removeClass("shown").addClass("hidden");
        $(element).find(".options-menu").removeClass("hidden").addClass("shown");
        $(element).removeClass("invisible");
        if($(element).parents(".row").index() == $(".notification-body .row").length -1){
            $(element).parents(".row").addClass("last-row");
        }
    }
    statistics.report("notification-threedots-clicked", {"commentId": $(element).parents(".row").attr("id")});
}

function markRead(notificationId, element){
    userNotifications.markAsRead(notificationId, function(status){
        if(status){
            if(status.success){
                $(element).parents(".row").removeClass("unread").addClass("read");
                var count = parseInt($(element).parents(".camera-div").find(".notification-count").text());
                if(count - 1 > 0){
                    $(element).parents(".camera-div").find(".notification-count").text(count - 1);
                }
                else{
                    $(element).parents(".camera-div").find(".notification-count").addClass("invisible");
                    $(".bell-icon").removeClass("show").addClass("blur");
                }
                statistics.report("notification-mark-read", {"commentId": notificationId});
            }
        }
    });
}

function hideNotification(notificationId, element){
    userNotifications.hideNotification(notificationId, function(status){
        if(status){
            if(status.success){
                $(element).parents(".row").addClass("invisible");
                if($(element).parents(".row").hasClass("unread")){
                    var count = parseInt($(element).parents(".camera-div").find(".notification-count").text());
                    if(count - 1 > 0)
                        $(element).parents(".camera-div").find(".notification-count").text(count - 1);
                    else{
                        $(element).parents(".camera-div").find(".notification-count").addClass("invisible");
                        $(".bell-icon").removeClass("show").addClass("blur");
                    }
                }
                statistics.report("notification-hidden", {"commentId": notificationId});
            }
        }
    });
}

var makeSureGlobeConstructionWidgetIsVisibleInterval = null;
function makeSureGlobeConstructionWidgetIsVisible(){
    makeSureGlobeConstructionWidgetIsVisibleInterval = setInterval(function(){
        sendNumberOfCommentsToHost();
    }, 2000);
}

var makeSureWidgetIsVisibleInterval = null;
var makeSureWidgetIsVisibleIntervalCounter = null;
var makeSureWidgetIsVisibleIntervalMaxTimes = null;
function makeSureWidgetIsVisible(numberOfReports){
    if (!numberOfReports)
        numberOfReports = 10;

    makeSureWidgetIsVisibleIntervalCounter = 0;
    makeSureWidgetIsVisibleIntervalMaxTimes = numberOfReports;
    makeSureWidgetIsVisibleInterval = setInterval(function(){
        makeSureWidgetIsVisibleIntervalCounter++;
        sendNumberOfCommentsToHost();
        messaging.postMessage(null, messaging.messageTypes.setUIWidth, "1");

        if (makeSureWidgetIsVisibleIntervalMaxTimes <= makeSureWidgetIsVisibleIntervalCounter){
            clearInterval(makeSureWidgetIsVisibleInterval);
            makeSureWidgetIsVisibleInterval = null;
            makeSureWidgetIsVisibleIntervalCounter = 0;
            makeSureWidgetIsVisibleIntervalMaxTimes = 0;
        }

    }, 500);
}
;
    var validateEmailRegex = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
function validateInputFields(validateTitleOnly){
    var validated = true;

    var addCommentTitleInput = params.addComment.container.find(".add-comment-title-input");
    var addCommentMessageInput = params.addComment.container.find(".add-comment-text-input");
    var addCommentNameInput = params.addComment.container.find(".add-comment-name-input");
    var addCommentEmailInput = params.addComment.container.find(".add-comment-email-input");

    if (!params.isMobile ||  params.isTablet) {

        if (addCommentTitleInput.val() == "" || $.trim(addCommentTitleInput.val()) == "" || addCommentTitleInput.val() == addCommentTitleInput.attr("placeholder")) {
            addCommentTitleInput.val("");
            validated = false;
            addCommentTitleInput.addClass("invalid");
        } else {
            addCommentTitleInput.removeClass("invalid");
        }

        addCommentTitleInput.blur();
    } else {
	if ( (!params.isAndroidCanRecord || !wasRecordingStarted) && (addCommentMessageInput.val() == "" || $.trim(addCommentMessageInput.val()) == "" || addCommentMessageInput.val() == addCommentMessageInput.attr("placeholder")) ) {
            addCommentMessageInput.val("");
            validated = false;
            addCommentMessageInput.addClass("invalid");
        } else {
            addCommentMessageInput.removeClass("invalid");
        }

        if (params.isAndroidCanRecord){
            if ((addCommentMessageInput.val() == "" || $.trim(addCommentMessageInput.val()) == "" || addCommentMessageInput.val() == addCommentMessageInput.attr("placeholder") )&& (addCommentTitleInput.val() == "" || $.trim(addCommentTitleInput.val()) == "" || addCommentTitleInput.val() == addCommentTitleInput.attr("placeholder"))) {                
		validated = false;
                addCommentTitleInput.attr("placeholder", addCommentTitleInput.attr("placeholder-android-mobile-missing")).addClass("invalid").val("");
            } else {
                addCommentTitleInput.attr("placeholder", addCommentTitleInput.attr("placeholder-android-mobile")).removeClass("invalid");
            }
        }

        addCommentMessageInput.blur();
        addCommentTitleInput.blur();
    }

    if (validateTitleOnly) {
        addCommentNameInput.removeClass("invalid");
        addCommentNameInput.attr("placeholder", addCommentNameInput.attr("placeholder-default"));
        addCommentNameInput.blur();

        addCommentEmailInput.removeClass("invalid");
        addCommentEmailInput.attr("placeholder", addCommentEmailInput.attr("placeholder-default"));
        addCommentEmailInput.blur();

        return validated;
    }

    if (addCommentNameInput.val() == "" || addCommentNameInput.val() == addCommentNameInput.attr("placeholder")){
        validated = false;
        addCommentNameInput.addClass("invalid");
        addCommentNameInput.attr("placeholder", addCommentNameInput.attr("placeholder-missing"));
    }else{
        addCommentNameInput.removeClass("invalid");
        addCommentNameInput.attr("placeholder", addCommentNameInput.attr("placeholder-default"));
    }

    addCommentNameInput.blur();


    var emailIsMissing = false;
    if (addCommentEmailInput.val() == "" || addCommentEmailInput.val() == addCommentEmailInput.attr("placeholder")){
        validated = false;
        emailIsMissing = true;
        addCommentEmailInput.addClass("invalid");
        addCommentEmailInput.attr("placeholder", addCommentEmailInput.attr("placeholder-missing"));

    }else{
        addCommentEmailInput.removeClass("invalid");
        addCommentEmailInput.attr("placeholder", addCommentEmailInput.attr("placeholder-default"));
    }

    if (!emailIsMissing){
        if (addCommentEmailInput.val() != "" && addCommentEmailInput.val() != addCommentEmailInput.attr("placeholder") && !validateEmailRegex.test(addCommentEmailInput.val())){
            validated = false;
            addCommentEmailInput.val("");
            addCommentEmailInput.addClass("invalid");
            addCommentEmailInput.attr("placeholder", addCommentEmailInput.attr("placeholder-invalid"));
        }else{
            addCommentEmailInput.removeClass("invalid");
            addCommentEmailInput.attr("placeholder", addCommentEmailInput.attr("placeholder-default"));
        }
    }

    addCommentEmailInput.blur();

    return validated;

}

function calcCommentEmailInputText(){
    var emailResult = null;

    var addCommentEmailInput = params.addComment.container.find(".add-comment-email-input");
    if (addCommentEmailInput.val() != "" && !validateEmailRegex.test(addCommentEmailInput.val()))
        emailResult = addCommentEmailInput.val();

    return emailResult;
}

function calcTextMaxWidthRatio(textToValidate, maxWidth, elementCssClass){
    if (!textToValidate || maxWidth == 0)
        return 0;

    var widthValidator = $("#widthValidator");

    if (params.isMobile)
        widthValidator.html(textToValidate).addClass(elementCssClass);
    else
        widthValidator.text(textToValidate).addClass(elementCssClass);

    var ratio = widthValidator.width() / maxWidth;

    if (params.isMobile)
        widthValidator.html("").removeClass(elementCssClass);
    else
        widthValidator.text("").removeClass(elementCssClass);

    return ratio;

}

function limitInputLength(inputObj, inputCssClass, force){
    if (!inputObj || !inputCssClass)
        return;

    if (force === undefined || !force)
        force = false;

    inputObj = $(inputObj);

    if (!force){
        if (inputObj.attr("lid") === undefined){
            inputObj.attr("lid",UUID.create().replace(/-/g,""));
            params.limitInputLengthRunning[inputObj.attr("lid")] = true;
        }
        else if (params.limitInputLengthRunning[inputObj.attr("lid")])
            return;
    }

    var maxWidth = undefined;

    if (params.addComment.container.attr("parent_id") != undefined)
        maxWidth = inputObj.attr("max_width_reply");

    if (!maxWidth)
        maxWidth = inputObj.attr("max_width");

    var maxWidth = parseInt(maxWidth, 10);
    if (lastScaleRatio > 0)
        maxWidth = parseInt(maxWidth * lastScaleRatio, 10);

    var valueText = inputObj.val();

    var ratio = calcTextMaxWidthRatio(valueText, maxWidth, inputCssClass);
    var valueLength;

    if (ratio > 1){
        var valueTextDeducted;
        var numberOfCharactersToDeduct;
        var lengthVSRatio;

        var whileCounter = 0;
        var deductIterator, deductLength, shortValue, shortTempValue, shortStartIndex,shortEndIndex;

        if (params.isMobile)
            shortValue = emojione.toShort(valueText);
        else
            shortValue = "";

        while(ratio > 1){
            valueLength = valueText.length;

            whileCounter++;
            ratio--;

            if (ratio < 1)
                lengthVSRatio = valueLength * ratio;
            else
                lengthVSRatio = valueLength - (valueLength / ratio);

            numberOfCharactersToDeduct = parseInt(lengthVSRatio* 0.5, 10) ;

            if (numberOfCharactersToDeduct === 0)
                numberOfCharactersToDeduct = 1;

//            valueArray = valueText.split(/([\uD800-\uDBFF][\uDC00-\uDFFF])/);
//            for (deductLength = 0, deductIterator = 0; deductIterator < numberOfCharactersToDeduct; deductIterator++){
//                deductLength += valueArray[deductIterator].length;
//            }


            if (params.isMobile){
                if (shortValue == valueText || (numberOfCharactersToDeduct == 1 && shortValue.substring(shortValue.length - 1) != ":") || shortValue.substring(shortValue.length - numberOfCharactersToDeduct).indexOf(":") == -1){
                    valueTextDeducted = valueText.substring(0, valueLength - numberOfCharactersToDeduct);
                } else {
                    shortEndIndex = shortValue.lastIndexOf(":");
                    shortValue = shortValue.substring(0, shortValue.lastIndexOf(":", shortEndIndex-1));
                    valueTextDeducted = emojione.shortnameToImage(shortValue);
                }
            } else
                valueTextDeducted = valueText.substring(0, valueLength - numberOfCharactersToDeduct);


            ratio = calcTextMaxWidthRatio(valueTextDeducted, maxWidth, inputCssClass);

            valueText = valueTextDeducted;
        }

        if (params.isMobile)
//            inputObj.html(valueText);
            inputObj.val(emojione.shortnameToUnicode(valueText));
        else
            inputObj.val(valueText);
    }

    params.limitInputLengthRunning[inputObj.attr("lid")] = false;


}

function limitAddInputs(){
    if (params.addComment.container.find(".add-comment-title-input").val().toLowerCase() != $("#additionalText [lang_id='enter_a_title_mobile']").text().toLowerCase())
        limitInputLength(params.addComment.container.find(".add-comment-title-input"), "comment-header", true);

    limitInputLength(params.addComment.container.find(".add-comment-name-input"), "comment-user-name", true);
}


function limitMsgLength(){
    if (params.addComment.container == null)
        setAddCommentContainer($("#addCommentContainer .add-container"));

    if (params.addComment.container == null)
        return;

    //var textInput = params.addComment.container.find("div.emojionearea.add-comment-text-input");
    var textInput =  params.addComment.container.find(".emojionearea-editor");

    if (textInput.length > 0){
        var msgText = $.trim(textInput.html());
	if(msgText.length < 2000){
	    return;
	}

        var msgText = $.trim(textInput.html()).replace(/<br\s*[\/]?>/gi, "\n");

        if (msgText != null) {
            try {
                msgText = emojione.toShort(msgText);
            } catch (err) {
                msgText = $.trim(textInput.html()).replace(/<br\s*[\/]?>/gi, "\n");
                errorService.reportOnError(err);
            }
        }

        if(msgText.length > 3001){
            msgText = msgText.substring(0,3000);
            msgText = $.trim(msgText).replace(/\n\r?/g, '<br />');
            msgText = emojione.toImage(msgText);
            params.addComment.container.find(".emojionearea-editor").html(msgText);
        }
    }
}


function addComment(externalCommentObj){
    if (externalCommentObj)
        params.newCommentData = externalCommentObj;

    if (params.showOnlyAddComment || params.newCommentData == null)
        return;


    params.newCommentData.addedMilliseconds = Date.parse(new Date().toString());
    params.newCommentData.numberOfLikes = params.newCommentData.numberOfDislikes = 0;

    if (window == top && window.opener){
        try {
            if (typeof window.opener.addComment == "function")
                window.opener.addComment(params.newCommentData);
        } catch (err) {
            messaging.postMessage(null,messaging.messageTypes.newCommentFromRecordingUI, JSONLib.toString(params.newCommentData));
        }

        return;
    }

    var newComment = renderCommentHTML(params.newCommentData,true,true, !(params.isWix && params.newCommentData.displayAfterComment && !isNaN(params.newCommentData.displayAfterComment) && params.newCommentData.displayAfterComment > 0));

    if (params.newCommentData.parentId == 0)
        $(".types-list").after(newComment);
    else
        if (params.newCommentData.displayAfterComment)
            $(".comment[cid='" + params.newCommentData.displayAfterComment+ "']").after(newComment);
        else
            $(".comment[cid='" + params.newCommentData.parentId + "'] footer:first").after(newComment);

    initScaleFontSize();
    setScale();

    languagesService.setObjectLanguage($(".block .processing-info").parent());

    setExtentedUI(true);

    renderCommentsRichMedia();

    setCommentProcessing($(".block .processing-info").parent());
    clearCommentEvents();
    setCommentsEvents();

    /*if (params.page != null && params.page.numberOfComments + params.page.numberOfSubComments > 0)
        displayAllComments();

    presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS);
    */

    if ($(".review.ade").length > 0) {
        if (params.page != null && params.page.numberOfComments + params.page.numberOfSubComments > 0)
            displayAllComments();

        presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS);
    } else {
        presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS);
        displayAllComments();
    }

}

function removeNewComment(commentObj){
    if (window == top && window.opener){
        try {
            if (typeof window.opener.removeNewComment == "function")
                window.opener.removeNewComment(commentObj);
        } catch(err) {
            messaging.postMessage(null,messaging.messageTypes.removeNewCommentFromRecordingUI, JSONLib.toString(commentObj));
        }

        return;
    }

    sendMessageToWixHive(commentObj, params.newCommentData);

    clearCommentProcessing();

    if (params.newCommentData.parentId > 0)
        $(".comment.processing").detach();
    else
        $(".comment.processing").parent().detach();

    params.newCommentData = null;

    sendNumberOfCommentsToHost();
}

//var newCommentTop = -1;
function updateNewComment(commentObj, toBeSavedFromParent){
    if (window == top && window.opener){
        cleanAddCommentFieldsAndResetRecorder(commentObj.commentId, commentObj.pageId);

        try{
            if (typeof window.opener.updateNewComment == "function")
                window.opener.updateNewComment(commentObj, params.commentsData.toBeSaved);
        }catch(err){
            messaging.postMessage(null,messaging.messageTypes.updateNewCommentFromRecordingUI, JSONLib.toString([commentObj, params.commentsData.toBeSaved]));
        }

        return;
    }

    if (toBeSavedFromParent){
        if (!params.commentsData)
            params.commentsData = [];
        params.commentsData.toBeSaved = toBeSavedFromParent;
    }

    if (!commentObj)
        return;

    if (commentObj.commentId && parseInt(commentObj.commentId) > 0){
        $(".comment.processing").attr("cid", commentObj.commentId);
//        newCommentTop = $(".comment.processing").offset().top;

//	$(".comment.processing .share-link-container > .share-link-input").val(share.getShareUrl(commentObj.commentId));

        cleanAddCommentFieldsAndResetRecorder(commentObj.commentId, commentObj.pageId);

        $(".comment.processing .share-link-input").val(share.getShareUrl(commentObj.commentId));

        if(commentObj.state == 0)
        	$($(params.commentPendingHTML)).insertAfter($(".comment[cid="+ commentObj.commentId +"]").find("footer"));
        if(commentObj.state == 2 || commentObj.state == 4)
        	$($(params.commentFlaggedHTML)).insertAfter($(".comment[cid="+ commentObj.commentId +"]").find("footer"));

        languagesService.setObjectLanguage($(".block .processing-info").parent());

        $(".comment").removeClass("processing");
        $(".comment .processing-info").detach();

        sendMessageToWixHive(commentObj, params.commentsData.toBeSaved != null?params.commentsData.toBeSaved:params.newCommentData);

        if(commentObj.imageUrls){
            $($(".comment[cid='" + commentObj.commentId + "'] .image-block")).removeClass("invisible");
            if(params.isMobile)
                loadImagesForMobile(commentObj);
            else
                loadImages(commentObj);
        }
    }

    if(statistics.getAffiliateId() != "ynet"){
       if(commentObj.links){
            var messageText;
            try{
                   messageText = emojione.shortnameToImage(commentObj.msgText);
               } catch (err){
                   errorService.reportOnError(err);
               }
             messageText = renderLinks(commentObj, messageText);
           $(".comment[cid='" + commentObj.commentId + "'] .text-block p").html(messageText);
       }

       if(commentObj.videoLinks != "" && commentObj.videoLinks != null ){
           var allVideoIdsPerPage = [];
          if(params.isMobile)
               allVideoIdsPerPage.push(prepareMobileViewForVideos(commentObj));
          else{
               getVideos(commentObj);
               loadVideo(playerArr, null, null);
          }
          if(allVideoIdsPerPage != null && Object.prototype.toString.call( allVideoIdsPerPage ) === '[object Array]' && allVideoIdsPerPage.length > 0)
                loadVideosForMobile(allVideoIdsPerPage.join(","));
          $("[cid=" + commentObj.commentId +"] .video-block ").removeClass("invisible");
       }
    }

    if (commentObj.pageId && parseInt(commentObj.pageId) > 0){
        if (!params.page){
            params.page = [];
            params.page.id = commentObj.pageId ;
            params.page.numberOfComments = 0;
            params.page.numberOfSubComments = 0;

            messaging.postMessage(null,messaging.messageTypes.setPageId,commentObj.pageId ,undefined,messaging.messageDestinations.data);
        }

        if (!params.page.numberOfVocalComments)
            params.page.numberOfVocalComments = 0
        if (!params.page.numberOfTextComments)
            params.page.numberOfTextComments = 0

        switch (parseInt(params.newCommentData.typeId, 10)){
            case 1:
                params.page.numberOfVocalComments++;
                break;

            case 2:
                params.page.numberOfTextComments++;
                break;

            case 3:
                params.page.numberOfVocalComments++;
                params.page.numberOfTextComments++;
                break;
        }

        if (commentObj.parentId > 0)
            params.page.numberOfSubComments++;
        else
            params.page.numberOfComments++;


        if (params.isWix)
            $("#numberOfComments").text($("#numberOfComments").attr("placeholder").replace("#NUMBER_OF_COMMENTS#", (params.page.numberOfComments + params.page.numberOfSubComments))).removeClass("invisible");
        else
            $("#numberOfComments").text("").addClass("invisible");

        presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS);
        displayAllComments();

        messaging.postMessage(null,messaging.messageTypes.setNumberOfComments, params.page.numberOfComments + params.page.numberOfSubComments);
        sendNumberOfCommentsToHost();
    }

    params.newCommentData = null;

    if (params.showAds && $(".block.review:not(.ad-entry)").length % 2 == 0){
        var reviewBlockItemNumber = 0;
        var afterArray = [];

        $(".block.review").each(function(i, obj){
            var blockElement = $(this);

            if (!blockElement.hasClass("ad-entry"))
                reviewBlockItemNumber++;
            else
                return;

            if (reviewBlockItemNumber % 2 != 0)
                return;


            if (!blockElement.next().hasClass("ad-entry")){
                afterArray.push(blockElement);
            }

        });

        if (afterArray.length > 0){
            for (var blockElementsIterator = 0; blockElementsIterator < afterArray.length; blockElementsIterator++){
                afterArray[blockElementsIterator].after($("#adTemplate").val());
            }

            sendNumberOfCommentsToHost();
        }


    }

    setTimeout(function(){ sendNumberOfCommentsToHost(); }, 1500);
}

function sendMessageToWixHive(responseObj, commentObj){
    if (!params.isWix || !commentObj || !responseObj || !responseObj.user)
        return;

    var objectToSend = {};
    objectToSend.text = commentObj.msgText;
    objectToSend.title = commentObj.title;
    objectToSend.id = responseObj.commentId;
    objectToSend.typeId = commentObj.typeId;
    objectToSend.lastLoginMethod = responseObj.user.lastLoginMethod;
    objectToSend.firstName = responseObj.user.firstName;
    objectToSend.lastName = responseObj.user.lastName;
    objectToSend.fullName = responseObj.user.fullName;
    objectToSend.photoUrl = responseObj.user.photoUrl;
    objectToSend.email = responseObj.user.email;

    messaging.postMessage(null,messaging.messageTypes.sendToWixHive, JSONLib.toString(objectToSend));
}

function resetRecorder(afterPost){
    recorderCleanRecording(afterPost);

    params.commentRecorded = null;
}


function cleanAddCommentFieldsAndResetRecorder(commentId, pageId){
    // before reset -> save the content in the comments list //

    if (window == top){ //recorder widget
        params.addComment.container.find(".post-step-2").addClass("invisible");
        sendNumberOfCommentsToHost();
        setTimeout(function(){
            if (recordingStepsCompleted == 3)
                window.close();
            else
                setTimeout(function(){ window.close(); }, 2000);
        }, 3500);
        return;
    }

    if (commentId && pageId) {

    if ( params.commentsData == undefined )
        params.commentsData = [];

    var newObj = $.extend(true, { commentId: parseInt(commentId, 10), pageId: parseInt(pageId, 10)}, params.commentsData.toBeSaved);

    if (!(params.commentsData.comments instanceof Array)){
        params.commentsData.comments = new Array();
        share.init(params.commentsData.comments, messaging, params.isSDK, params.isWix);
    }

    newObj.typeId = parseInt(newObj.typeId);

    if (commentId)
        params.commentsData.comments.push(newObj);

    }

//    if (params.addComment.parentId == null || params.addComment.parentId <= 0)
//        newCommentTop = -1;

    params.commentsData.toBeSaved = null;

    resetRecorder(true);
    resetPostButton();
    params.addComment.container.find(".add-comment-title-input").removeClass("invisible").val("").attr("reported", "").blur().addClass("empty");
    params.addComment.container.find(".add-comment-text-input").val("").attr("reported", "").blur();

    if (params.isMobile && !params.isTablet)
        params.addComment.container.find(".add-comment-title-input").val(params.mobileDefaultTitle);

    params.addComment.container.find(".add-comment-email-input").val("").blur();
    params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");
    params.addComment.container.find(".recorder-equalizer-view content-right-box .equalizer .time").removeClass("invisible");
    params.addComment.container.removeClass("logged-in");

    setTimeout(function(){
        afterPostCleanup();
//        if (newCommentTop != -1)
//            messaging.postMessage(null,messaging.messageTypes.scrollToPoint, newCommentTop);

//        newCommentTop = -1;

    }, 2000);


    if (params.addComment.container.attr("parent_id") != undefined)
        detachAddContainer();

    params.addComment.parentId = null;
    params.addComment.repliedOnFullName = null;
    params.addComment.displayAfterComment = null;

}
;
    var recorderTimeout = null;
var recordingVolumeArray = null;
var playingPosition;
var cellInMilliseconds = 400;
var recordingPreviousPosition;
var recordingPreviousVolume;
var recordingTempPosition;
var recordingTempVolume;
var recordingZeroVolumeCounter;
var recorderAfterReset;
var numberOfLines;
var recorderPermissionWaitedOnce = false;
var encodingMp3Reported = false;
var pendingMsgText = null;
var pendingVolume = null;
var wasPostingStarted = false;
var wasRecordingStarted = false;
var recordingStepsCompleted;
var didntRecordedButPressed = false;
var ucBrowserRecorderInterval = null;


var recorderTimeReported = false;
var counter = 0, shiftCounter = 0;
var defaultRecordingTime = 30000;
var recordingTime;
var isStopped = false;
/**
 * initialize the flash recorder with params
 */
function loadRecorder(shouldUseOnlyStaticUrl){
    recorderAfterReset = false;

    // if (params.isMobile)
    //     return;

    try {
        if (shouldUseOnlyStaticUrl)
            shouldUseOnlyStaticUrl = true;
        else
            shouldUseOnlyStaticUrl = false;
    } catch(err){
        shouldUseOnlyStaticUrl = false;
    }

    var shouldUseHTTP = (window.location.protocol.toLowerCase() != "https:" && ( navigator.userAgent.indexOf("MSIE ") != -1 || navigator.userAgent.indexOf("Trident/") != -1 || navigator.userAgent.indexOf("Edge/") != -1 || $("body").hasClass("safari")) );

    recorderService.init($, onRecorderStateChange, onRecorderEventChange, flashRecorder, jsRecorder, {
        commentBaseUrl: params.playCommentPath,
        postCommentFullPath:!shouldUseOnlyStaticUrl?( (shouldUseHTTP? params.internalUrl.replace("https://", "http://") : params.internalUrl.replace("http://", "https://")) + params.fullPostCommentPath):( (shouldUseHTTP? params.receiverStaticUrl.replace("https://", "http://") : params.receiverStaticUrl.replace("http://", "https://")) + params.fullPostCommentPath),
        postCommentJSONPFullPath:params.receiverStaticUrl.replace("http://", "https://") + params.fullPostCommentPath,
//        postCommentJSONPFullPath:params.receiverStaticUrl + params.fullPostCommentJSONPPath,
        recorderBaseUrl:params.baseUrl,
        recorderVersion: params.recorderVersion
    }, errorService, params.mp3WorkerVersion);

    if ( (params.isAndroid || params.isIOS) && recorderService.hasActiveRecorder()) {
        $("body").addClass("android-can-record");
        params.isAndroidCanRecord = true;
    }
}



function recorderStartRecording(){
    params.addComment.container.find(".how-to-video-link").removeClass("invisible");

    if (recorderService.getRecorderState() == recorderService.recorderStates.PLAYING_EXTERNAL_FILE)
            recorderStopExternalFile();

    if (shouldOpenRecordingWindow()){
        openRecorderPopup(params.addComment.parentId, params.addComment.repliedOnFullName, params.addComment.displayAfterComment, params.addComment.container.find(".add-comment-text-input").val());
        return;
    }
  
   isStopped = false;

    params.addComment.container.find(".recorder-equalizer-view .holder .time:first .recorder-time-seconds").text(params.recordingTime/1000);
    guidance.setBoxViewed(guidance.getBoxIds().recordingHowTo);

    if (!params.isSDK && !params.shouldOpenNativeApp && !params.isMobile && !recorderService.hasActiveRecorder()){
//    if (!recorderService.hasActiveRecorder() || !recorderService.isFlashRecorderAvailable() ){
        if ($("body").hasClass("safari")){
            var windowLocation = {
                left:  (window.screen.availLeft + (window.screen.availWidth / 2)) - (870 / 2),
                top: (window.screen.availTop + (window.screen.availHeight / 2)) - (600 / 2)
            };

            window.open("https://commerce.heyoya.com/manuals/safari/", "_blank", 'location=no,status=no,scrollbars=no,top=' + windowLocation.top + ',left=' + windowLocation.left + ',width=870,height=600');
            return;
        }

        params.addComment.container.find(".recorder-default-view").addClass("invisible");
        resetRecorderMessagingView();
        params.addComment.container.find(".recorder-messaging-view").addClass("error").removeClass("invisible");
        params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($("#messageDeviceNotSupportRecording").html());

        wasRecordingFailed = true;
        setRecordUnavailable();

        sendEvent("Product","RecordingFailed-NotARecordingDevice", "user tried to recorded from a device that don't support recording", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        return;
    }

    wasRecordingFailed = false;
    params.recorderPlaying = false;

    if (!params.isSDK && !params.shouldOpenNativeApp && !params.isMobile)
        showRecordingNotification();

    sendEvent("Product","RecordComment", "user recorded a comment", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

    if (!params.isSDK && !params.isMobile && !params.shouldOpenNativeApp && recorderService.isFlashRecorderActive() && !params.recordedOnce){
        var topAddition = 30;
        if (params.addComment.container.parent().hasClass("add-comment-reply-container"))
            topAddition = $("#recorderFLObjCont").height() / 2;

	if ($("#recorderFLObjCont").attr("visible_addition") && !isNaN($("#recorderFLObjCont").attr("visible_addition")) > 0)
            topAddition = $("#recorderFLObjCont").attr("visible_addition");

        if (statistics.getAffiliateId() == "vYMu56ooZa" ||
            statistics.getAffiliateId() == "0gSOz9aS6V"){
            topAddition = -34;
        }

        if (lastScaleRatio > 0 && lastScaleRatio != 1){
            if (!$("body").hasClass("safari"))
                $("#recorderFLObjCont").css("top", (params.addComment.container.offset().top - topAddition ) * (1 / lastScaleRatio)).addClass("visible");
            else {
                //var topDiff = (((params.addComment.container.offset().top - topAddition ) * (1 / lastScaleRatio)) - ( (params.addComment.container.offset().top - topAddition ) * (lastScaleRatio) ))/2;
		//var topDiff = params.addComment.container[0].getBoundingClientRect().height/3.00;
		
                $("#recorderFLObjCont").css("top", params.addComment.container[0].offsetTop * lastScaleRatio).addClass("visible");//((params.addComment.container.offset().top - topAddition ) * (lastScaleRatio)) + topDiff).addClass("visible");
            }

                $("#recorderFLObjCont").css("left", ( ($("#wrapper").width() * lastScaleRatio)/2 ) - ($("#recorderFLObjCont").width()/2)  );
        } else
                $("#recorderFLObjCont").css("top", params.addComment.container.offset().top  - topAddition + 1).addClass("visible");


    }

    if (!params.isSDK){
//        if (!params.shouldOpenNativeApp)
//            recorderService.record();
//        else{
//            var redirectLink = null;
//            if (params.isIOS)
//                redirectLink = generateIOSRecordURL();
//            else if (params.isAndroid)
//                redirectLink = generateAndroidRecordURL();
//
//            if (redirectLink != null && redirectLink.length > 0){
//                window.location = redirectLink;
//            } else {
//                sendEvent("Tracker","ErrorTryingToOpenNativeApplication", "ErrorTryingToOpenNativeApplication", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
//            }


//console.log( generateIOSRecordURL());
            if (params.isAndroid){
                if (params.isWix && userStorageUtil.isEnabled())
                    localStorage.setItem("pwhr", "1");

		if ($("body").hasClass("android-can-record")){
                    recorderService.record();
                    return;
                }

                var redirectLink = generateAndroidRecordURL();

                if (redirectLink != null && redirectLink.length > 0){
		    if ((navigator.userAgent.match(/Chrome/) && !navigator.userAgent.match("Version/")) && !params.isUC)
                        window.location.href = redirectLink;
                    else if (!params.isUC)
                        window.open(redirectLink, "_blank");
                    else {
			window.location.href = redirectLink;
                        setTimeout(function(){
			    params.addComment.container.find(".ucbrowser-install-message .android").removeClass("invisible");
                            params.addComment.container.find(".ucbrowser-install-message").css("display","none").removeClass("invisible").fadeIn("fast", function(){
                                if (ucBrowserRecorderInterval != null) {
                                    clearTimeout(ucBrowserRecorderInterval);
                                    ucBrowserRecorderInterval = null;
                                }

                                ucBrowserRecorderInterval = setTimeout(function(){
                                    clearTimeout(ucBrowserRecorderInterval);
                                    ucBrowserRecorderInterval = null;
                                    params.addComment.container.find(".ucbrowser-install-message").fadeOut("fast", function(){
                                        params.addComment.container.find(".ucbrowser-install-message").addClass("invisible").css("display", "");
                                    });
                                }, 30000);
                            });
                        }, 1500);
                    }
                } else {
                    sendEvent("Tracker","ErrorTryingToOpenNativeApplication", "ErrorTryingToOpenNativeApplication", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
                }
            } else if (params.isIOS){
                if (params.isWix && userStorageUtil.isEnabled())
                    localStorage.setItem("pwhr", "1");

                if ($("body").hasClass("android-can-record")){
                    recorderService.record();
                    return;
                }

                var redirectLink = generateIOSRecordURL();
                if (redirectLink == null){
                    sendEvent("Tracker","ErrorTryingToOpenNativeApplication-iOS", "ErrorTryingToOpenNativeApplication-iOS", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
                    return;
                }

// 		if ( navigator.userAgent.toUpperCase().indexOf("CPU OS 7_") != -1 || navigator.userAgent.toUpperCase().indexOf("IPHONE OS 7_") != -1 || navigator.userAgent.toUpperCase().indexOf("OS 6_")  != -1 || navigator.userAgent.toUpperCase().indexOf("IPHONE OS 6_")  != -1 ){
//                    window.location.href = redirectLink;

                if (( navigator.userAgent.toUpperCase().indexOf("IPAD") != -1 &&  (navigator.userAgent.toUpperCase().indexOf("OS 8_") != -1 || navigator.userAgent.toUpperCase().indexOf("OS 9_0") || navigator.userAgent.toUpperCase().indexOf("OS 9_1") != -1) ) ||
                    (navigator.userAgent.toUpperCase().indexOf("IPHONE") != -1 &&  (navigator.userAgent.toUpperCase().indexOf("OS 9_0") != -1 || navigator.userAgent.toUpperCase().indexOf("OS 9_1") != -1))
                ){
                    messaging.postMessage(null,messaging.messageTypes.recordWithIOSApplication, [redirectLink, params.isUC?1:0]);

		    if (params.isUC) {
	                    setTimeout(function(){
        	                params.addComment.container.find(".ucbrowser-install-message .ios").removeClass("invisible");
                	        params.addComment.container.find(".ucbrowser-install-message").css("display","none").removeClass("invisible").fadeIn("fast", function(){
                        	    if (ucBrowserRecorderInterval != null) {
                                	clearTimeout(ucBrowserRecorderInterval);
	                                ucBrowserRecorderInterval = null;
        	                    }

                	            ucBrowserRecorderInterval = setTimeout(function(){
                        	        clearTimeout(ucBrowserRecorderInterval);
                                	ucBrowserRecorderInterval = null;
	                                params.addComment.container.find(".ucbrowser-install-message").fadeOut("fast", function(){
        	                            params.addComment.container.find(".ucbrowser-install-message").addClass("invisible").css("display", "");
                	                });
	                            }, 30000);
        	                });
	                    }, 1500);
		    }

                    return;
                }

                if (params.isUC){
                    window.location.href = redirectLink;
                    setTimeout(function(){
                        params.addComment.container.find(".ucbrowser-install-message .ios").removeClass("invisible");
                        params.addComment.container.find(".ucbrowser-install-message").css("display","none").removeClass("invisible").fadeIn("fast", function(){
                            if (ucBrowserRecorderInterval != null) {
                                clearTimeout(ucBrowserRecorderInterval);
                                ucBrowserRecorderInterval = null;
                            }

                            ucBrowserRecorderInterval = setTimeout(function(){
                                clearTimeout(ucBrowserRecorderInterval);
                                ucBrowserRecorderInterval = null;
                                params.addComment.container.find(".ucbrowser-install-message").fadeOut("fast", function(){
                                    params.addComment.container.find(".ucbrowser-install-message").addClass("invisible").css("display", "");
                                });
                            }, 30000);
                        });
                    }, 1500);
                } else {


	            var now = new Date().valueOf();
                    setTimeout(function(){
                    if (new Date().valueOf() - now > 1000) return;
		            window.location.href = "https://itunes.apple.com/il/app/heyoya-voice-comments-reviews/id1062215446?mt=8";
	            }, 25);

                    window.location.href = redirectLink;
		}

                    return;  //              }

//                messaging.postMessage(null,messaging.messageTypes.recordWithIOSApplication,redirectLink);

//                messaging.postMessage(null,messaging.messageTypes.recordWithIOSApplication,redirectLink);

 
//                if (navigator && navigator.userAgent && ( navigator.userAgent.toUpperCase().indexOf("CPU OS 9_") != -1 || navigator.userAgent.toUpperCase().indexOf("CPU IPHONE OS 9_") != -1 ) )

/*                var alreadySawHeyoyaAppStorePage = userStorageUtil.get("alreadySawHeyoyaAppStorePage");
                if (alreadySawHeyoyaAppStorePage == userStorageUtil.noResultDefaultValue) {
                    redirectLink = "https://itunes.apple.com/il/app/heyoya-voice-comments-reviews/id1062215446?mt=8";
                    userStorageUtil.set("alreadySawHeyoyaAppStorePage", "1", 30 * 24 * 60 * 60 * 1000);
                }

                messaging.postMessage(null,messaging.messageTypes.recordWithIOSApplication,redirectLink);
*.
/*                else{
                    window.location.href = redirectLink;

		    var now = new Date().valueOf();
                    setTimeout(function(){
			if (new Date().valueOf() - now > 100) return;
                        window.location.href = "https://itunes.apple.com/il/app/heyoya-voice-comments-reviews/id1062215446?mt=8";
                    }, 25);
                }               
*/
            } else {
                recorderService.record();
            }

    }
    else
        messaging.postMessage(null,messaging.messageTypes.sdkStartRecording,"1");
}

function recorderPlayRecording(){
    sendEvent("Product","PlayRecording", "user listened to what was recorded", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

    if (!params.isSDK)
        recorderService.playRecording();
    else
        messaging.postMessage(null,messaging.messageTypes.sdkPlayRecording,"1");
}

function recorderPauseClick(){
    switch (recorderService.getRecorderState()){
        case recorderService.recorderStates.RECORDING:
            recorderStopRecording();
            break;

        case recorderService.recorderStates.PLAYING:
            recorderPausePlaying();
            break;

        case recorderService.recorderStates.PLAYING_EXTERNAL_FILE:
            recorderPauseExternalFile();
            break;
    }
}

function recorderStopClick(){
    switch (recorderService.getRecorderState()){
        case recorderService.recorderStates.RECORDING:
            if (params.addComment.container.find(".recorder-equalizer-view .recorder-bar-entry").length > 0)
                recorderStopRecording();
            else {
                didntRecordedButPressed = true;
                params.commentRecording = false;
                wasRecordingStarted = false;
                onRecorderEventChange(recorderService.eventTypes.STOPPED_RECORDING);
                onRecorderEventChange(recorderService.eventTypes.RECORDING_PERMISSION_TIMED_OUT);
            }
            break;

        case recorderService.recorderStates.PLAYING:
            recorderStopPlaying();
            break;

        case recorderService.recorderStates.PLAYING_EXTERNAL_FILE:
            recorderStopExternalFile();
            break;
    }
}

function recorderEncode(){
    if (params.isSDK)
        return;

    sendEvent("Product","EncodeRecording", "encoding comment", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
    recorderService.encode();
}


function recorderPausePlaying(){
//    var clickedObj = $(this);
//    if (!clickedObj.hasClass("active"))
//        return;
    if (!params.isSDK)
        recorderService.pausePlaying();
    else
        messaging.postMessage(null,messaging.messageTypes.sdkPausePlayRecording,"1");
}

function recorderPauseExternalFile(){
//    var clickedObj = $(this);
//    if (!clickedObj.hasClass("active"))
//        return;

    recorderService.pauseExternalFile();

    if (params.isSDK)
        messaging.postMessage(null,messaging.messageTypes.sdkPausePlayExternalFile,"1");

}

function recorderStopPlaying(){
    var clickedObj = $(this);
    if (clickedObj.hasClass("active"))
        params.playAllVoiceComments.userClickedStop = true;


    if (!params.isSDK)
        recorderService.stop();
    else {
        switch (recorderService.getRecorderState()){
            case recorderService.recorderStates.RECORDING:
                messaging.postMessage(null,messaging.messageTypes.sdkStopRecording,"1");
                break;

            case recorderService.recorderStates.PLAYING:
                messaging.postMessage(null,messaging.messageTypes.sdkStopPlayRecording,"1");
                break;

            case recorderService.recorderStates.PLAYING_EXTERNAL_FILE:
                recorderService.stop();
                break;
        }
    }

}

function recorderStopRecording(callback){
    if (recorderTimeout == null)
        recorderTimeout = setTimeout(function(){recorderStopRecording(callback);},500);
    else{
        clearTimeout(recorderTimeout);
        recorderTimeout = null;

        if (!params.isSDK)
            recorderService.stop();
        else
            messaging.postMessage(null,messaging.messageTypes.sdkStopRecording,"1");

        if (callback && typeof callback == "function"){
            callback();
        }


    }
}

function recorderResetRecording(afterPost){
    recorderAfterReset = true;

    if (!didntRecordedButPressed) {
 //       recorderStopRecording();
        recorderStopPlaying();
    }

    didntRecordedButPressed = false;

    if (!params.isSDK)
        recorderService.resetRecording();
    else
        messaging.postMessage(null,messaging.messageTypes.sdkResetRecording,"1");

    recordingVolumeArray = [];
    recordingPreviousPosition = 0;
    recordingPreviousVolume = 0;
    recordingTempPosition = 0;
    recordingTempVolume = 0;
    numberOfLines = 0;
    recorderTimeReported = false;
    encodingMp3Reported = false;

    //setTimeout(function(){
    if (!afterPost){
        params.addComment.container.find(".recorder-equalizer-view").addClass("invisible").removeClass("ready");
        params.addComment.container.find(".recorder-messaging-view").addClass("invisible");
        if(params.addComment.container.find(".recorder-messaging-view").hasClass("continue")){
        	params.addComment.container.find(".recorder-messaging-view").removeClass("continue");
        }
        params.addComment.container.find(".recorder-default-view").removeClass("invisible");
        params.addComment.container.find(".recorder-equalizer-view .recorder-bar-entry").detach();
        params.addComment.container.find(".recorder-equalizer-view .time").addClass("invisible");
        params.addComment.container.find(".recorder-time-seconds").text("30");
        params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");
        resetRecordButtons();
    }

    $(".add-container .record-btn").off("click").on("click",function(){
        setAddCommentContainer(this);
        recorderStartRecording();
    });
    params.commentRecording = params.commentRecorded = wasRecordingStarted = false;

    $(".add-container .recorder-messaging-view").off("click").on("click",function(event){event.stopPropagation();setAddCommentContainer(this); if ($(this).hasClass("plain") || $(this).hasClass("error")) recorderStartRecording();});
    $(".add-container .btn-retake, .add-container .btn-clear").removeClass("high");


    //}, 500);
}

function recorderCleanRecording(afterPost){
    wasPostingStarted = false;
    recorderResetRecording(afterPost);
    params.addComment.container.find(".add-comment-text-input").val("");
    params.addComment.container.find(".add-comment-text-input").removeClass("typed").removeClass("invisible");

    params.addComment.container.find(".submission-form .form-elements").removeClass("invisible");

    if(statistics.getAffiliateId() != "ynet")
        params.addComment.container.find(".camera-div").removeClass("invisible");  

    params.addComment.container.find(".add-comment-title-input").removeClass("ready");
    params.addComment.container.find(".recorder-time-seconds").text("30");
//    params.addComment.container.find(".add-comment-text-input").removeAttr("disabled");

}

function recorderResetPlaying(){
    playingPosition = 0;
    recorderService.stopExternalFile(true);
    $(".comment .recorder-bar-entry .blue").removeClass("blue");

    if (params.isSDK)
        messaging.postMessage(null,messaging.messageTypes.sdkStopPlayExternalFile,"1");

}

function recorderStopExternalFile(){
    recorderService.stopExternalFile();

    if (params.isSDK)
        messaging.postMessage(null,messaging.messageTypes.sdkStopPlayExternalFile,"1");

}

function recorderPlayAllVoiceComments(playNext, commentsData, resetIndex){
    if (commentsData != undefined && commentsData != null && commentsData.length > 0)
        params.playAllVoiceComments.comments = commentsData;

    if (resetIndex){
        params.playAllVoiceComments.playIndex = 0;
    }

    if (playNext && params.playAllVoiceComments.comments != null && params.playAllVoiceComments.comments[params.playAllVoiceComments.playIndex]){
        $(params.playAllVoiceComments.comments[params.playAllVoiceComments.playIndex]).find(".play_btn:first").click();
        params.playAllVoiceComments.userClickedStop = false;
        params.playAllVoiceComments.playIndex++;
    }
}

function recorderUpdateTime(eventData){
    var milliseconds, volume;
    if(!params.recordingTime)
        return;

if(isStopped)
return;
/*var queryString = querystringUtil.extract(window.location.href);

    if(!queryString.rt)
        return;*/

    recordingTime = params.recordingTime;
    if (recorderService.getRecorderState() == recorderService.recorderStates.RECORDING){
        var eventDataArray = eventData.split("||");
        if (eventDataArray.length != 2)
            return;

        milliseconds = eventDataArray[0];
        volume = eventDataArray[1];
    } else {
        milliseconds = eventData;
        volume = -1;
    }

    if (isNaN(milliseconds) || isNaN(volume))
        return;

    milliseconds = parseInt(milliseconds);
    volume = parseInt(volume);


    if (volume > -1){ //Recording
        var timeObject = params.addComment.container.find(".recorder-equalizer-view .holder .time:first");
        if (!recorderTimeReported){
            recorderTimeReported = true;
            sendEvent("Product","ActualRecordingStarted", "actual recording started", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

            $("#recorderFLObjCont").removeClass("visible");
            $("#recorderFLObjCont").css("top","");

            timeObject.removeClass("invisible");
        }

        if ( milliseconds >= recordingTime ){ //30 seconds
            recorderStopRecording();
	}

        if (volume == 0){
            recordingZeroVolumeCounter++;

            if (recordingZeroVolumeCounter >= 12){
                resetRecorderMessagingView();
                params.addComment.container.find(".recorder-messaging-view").addClass("continue").removeClass("invisible");
                params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($("#messageMicVolumeIsZero").html());

                if (recordingZeroVolumeCounter == 12)
                    sendEvent("Product","ZeroMicVolume", "microphone volume is zero", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            }
        } else
            recordingZeroVolumeCounter = 0;

        if (milliseconds - recordingPreviousPosition < cellInMilliseconds * 0.85){
            recordingTempPosition = milliseconds;
            recordingTempVolume = volume;
            return;
        }

        recordingPreviousPosition = milliseconds;
        recordingPreviousVolume = volume;

//        recordingTempPosition = -1;
//        recordingTempVolume = -1;

        var arrayEntry = {};
        arrayEntry.time = milliseconds;
        arrayEntry.volume = volume;

        recordingVolumeArray.push(arrayEntry);

        var totalNoOfVisibleBars = Math.floor(((params.addComment.container.find(".recorder-equalizer-view .holder").width() - ( 2 * params.addComment.container.find(".recorder-equalizer-view .holder .time").outerWidth() + params.addComment.container.find(".add-comment-white-bg").outerWidth())) / 6.05) * 10) / 10 ; //(4 + 2.05)

        var totalNoOfBars = 74 * ((recordingTime/1000)/30);

        if (recordingVolumeArray.length > totalNoOfBars)
            return;

        if (params.commentProgressBarHTML == null)
            params.commentProgressBarHTML = $("#progressBarEntry").val();

//        var newNode = document.createElement("span");
//        newNode.className = "recorder-bar-entry style-" + (recordingVolumeArray.length < 10?"0":"") + recordingVolumeArray.length.toString();
//        newNode.style.minHeight = micVolume>52?52:micVolume;
//        timeObject.parent()[0].insertBefore(newNode, timeObject[0]);


        var micVolume = Math.max( (volume/100)*52 , 4);


        var colorRepeatCount = Math.ceil(recordingTime/defaultRecordingTime);

        var wasCounterResetFromZero = false;
        if((recordingVolumeArray.length % colorRepeatCount == 0 && recordingVolumeArray.length > 1 )|| counter ==0){
    	    if (counter == 0 && params.addComment.container.find(".recorder-bar-entry").length > 0){
                counter = params.addComment.container.find(".recorder-bar-entry").length;
                wasCounterResetFromZero = true;
            }

            counter++;
        }

        var newNode = params.commentProgressBarHTML.replace("#HEIGHT#",  micVolume>52?52:micVolume)
            .replace("#STYLE_COLOR#", "style-" +  (counter < 10 ?"0":"") + counter.toString());

        if (wasCounterResetFromZero)
            counter = 0;

        timeObject.before(newNode);
        timeObject.removeClass("invisible");
        var numberOfSeconds = parseInt( (recordingTime  - milliseconds)/1000 ,10);
        params.addComment.container.find(".recorder-time-seconds:first").text(numberOfSeconds);
/*        if (numberOfSeconds > 5 || $("body").hasClass("extended")){
            params.addComment.container.find(".recorder-time-seconds:first").text(numberOfSeconds);
        } else
            timeObject.addClass("invisible");
*/
        if(recordingVolumeArray.length > totalNoOfVisibleBars){
            shiftCounter++;
            if($("body").hasClass("rtl"))
                params.addComment.container.find(".recorder-bar-entry:eq(" + parseInt(shiftCounter - 1) + ")").css("margin-right", "-4px");
            else
                params.addComment.container.find(".recorder-bar-entry:eq(" + parseInt(shiftCounter - 1) + ")").css("margin-left", "-4px");
        }
    } else { // Playing
        var numberOfCellsToFill = Math.ceil(milliseconds / cellInMilliseconds);
        
        if (numberOfCellsToFill == 0){
            if($("body").hasClass("ieb")|| $("body").hasClass("safari")){
                 if($("body").hasClass("rtl"))
                    params.addComment.container.find(".recorder-bar-entry").css("margin-right", "2.05px" );
                else
                    params.addComment.container.find(".recorder-bar-entry").css("margin-left", "2.05px" );
            }
            shiftCounter = 0;
            return;
        }


        if(numberOfCellsToFill == 1)
            shiftCounter = 0;

        if (recorderService.getRecorderState() != recorderService.recorderStates.PLAYING_EXTERNAL_FILE){
            var shiftAfterBars = Math.floor((( params.addComment.container.find(".content-right-box").width() - ($(".add-comment-white-bg").outerWidth() + params.addComment.container.find(".time").outerWidth())) / 6.05) * 10) / 10  ;
            if(shiftCounter >= 0 && numberOfCellsToFill == 1){
                if($("body").hasClass("rtl"))
                    params.addComment.container.find(".recorder-bar-entry").css("margin-right", "2.05px" );
                else
                    params.addComment.container.find(".recorder-bar-entry").css("margin-left", "2.05px" );
            }

            params.addComment.container.find(".recorder-equalizer-view .holder .recorder-bar-entry").slice(0,numberOfCellsToFill).each(function(){
                if ($(this).hasClass("empty"))
                    $(this).removeClass("empty");
            });

            var shiftAmount = "-4px";
            if(numberOfCellsToFill >= shiftAfterBars && numberOfCellsToFill <=  params.addComment.container.find(".recorder-equalizer-view .holder").find(".recorder-bar-entry").length){
                shiftCounter++;
 /*               if(((params.addComment.container.find(".recorder-equalizer-view .holder").find(".recorder-bar-entry.empty").length * 6.05) - params.addComment.container.find(".add-comment-white-bg").outerWidth() ).toFixed() < params.addComment.container.find(".recorder-equalizer-view .holder .time").outerWidth())
                    shiftAmount = "-8px";*/

                if($("body").hasClass("rtl"))
                    params.addComment.container.find(".recorder-bar-entry:eq(" + parseInt(shiftCounter - 1) + ")").css("margin-right", shiftAmount);
                else
                    params.addComment.container.find(".recorder-bar-entry:eq(" + parseInt(shiftCounter - 1) + ")").css("margin-left", shiftAmount);
            }


        } else {
            var messagingBox = params.commentPlaying.find(".messaging-box");
            messagingBox.addClass("invisible");
            var shiftAfterBars = Math.floor((( $(params.commentPlaying.find(".content-right-box")[0]).width() - ($(".add-comment-white-bg").outerWidth())) / 6.05) * 10) / 10;

            if(shiftCounter >= 0 && numberOfCellsToFill == 1){
                if($("body").hasClass("rtl"))
                    $(params.commentPlaying.find(".holder")[0]).find(".recorder-bar-entry").css("margin-right", "2.05px" );
                else
                    $(params.commentPlaying.find(".holder")[0]).find(".recorder-bar-entry").css("margin-left", "2.05px" );
            }

            $(params.commentPlaying.find(".holder")[0]).find(".recorder-bar-entry").slice(0,numberOfCellsToFill).each(function(){
                $(this).addClass("blue");
            });

           var doShift = true;

            if(!$("body").hasClass("rtl")){
                if($(params.commentPlaying.find(".holder"))[0].getBoundingClientRect().right - $(params.commentPlaying.find(".holder")[0]).find(".time")[0].getBoundingClientRect().right >= 56)
                    doShift = false;
            }else{
                if($(params.commentPlaying.find(".holder"))[0].getBoundingClientRect().left - $(params.commentPlaying.find(".holder")[0]).find(".time")[0].getBoundingClientRect().left >= 56)
                    doShift = false;
            }

           if( doShift && (numberOfCellsToFill >= shiftAfterBars) && (numberOfCellsToFill <= $(params.commentPlaying.find(".holder")[0]).find(".recorder-bar-entry").length)){
               shiftCounter++;
               if($("body").hasClass("ieb")){
                      if($("body").hasClass("rtl"))
                           $(params.commentPlaying.find(".holder")[0]).find(".recorder-bar-entry:eq(0)").css("margin-right", shiftCounter * -2 + "px");
                      else
                           $(params.commentPlaying.find(".holder")[0]).find(".recorder-bar-entry:eq(0)").css("margin-left", shiftCounter * -2 + "px");
               }else{
                    if($("body").hasClass("rtl"))
                        $(params.commentPlaying.find(".holder")[0]).find(".recorder-bar-entry:eq(" + parseInt(shiftCounter - 1) + ")").css("margin-right", "-4px");
                    else
                        $(params.commentPlaying.find(".holder")[0]).find(".recorder-bar-entry:eq(" + parseInt(shiftCounter - 1) + ")").css("margin-left", "-4px");
               }
           }
          
        }       

    }
}

function recorderPostComment(photoUrl){
    if (params.pendingWLExecution){
        try {
            if (undefined != typeof fillPostCommentExecuteBehavior && typeof fillPostCommentExecuteBehavior == "function")
                fillPostCommentExecuteBehavior();
        } catch(err){

        }

    }

    if (!validateInputFields() || wasPostingStarted)
        return;

    wasPostingStarted = true;

    if (addCommentInterval != null){
        clearInterval(addCommentInterval);
        addCommentInterval = null;
    }

    if (addCommentTitleInterval != null){
        clearInterval(addCommentTitleInterval);
        addCommentTitleInterval = null;
    }

    if (addCommentNameInterval != null){
        clearInterval(addCommentNameInterval);
        addCommentNameInterval = null;
    }

    params.addComment.container.find(".recorder-messaging-view").removeClass("error");
    resetRecordButtons();
    params.addComment.container.find(".record-btn").addClass("invisible");
    params.addComment.container.find(".loading-btn").removeClass("invisible");
    if (params.isMobile && !params.isTablet){
	params.addComment.container.find(".recorder-default-view").addClass("invisible");
	params.addComment.container.find(".recorder-messaging-view").removeClass("invisible");	
    }

    if(params.isAndroidCanRecord && wasRecordingStarted) {
        params.addComment.container.find(".recorder-messaging-view").addClass("continue");
	if(!params.isMobile || params.isTablet)
            params.addComment.container.find(".submission-form").attr("style", "");

    }

    params.addComment.container.find(".recorder-messaging-view .link-record-voice").text($("#messagePostingReview").text());

    limitAddInputs();

    var paramsToSend = new Object();
    var msgText = null;

    var textInput = params.addComment.container.find(".add-comment-text-input");
    if ($.trim(textInput.val()) != "" && textInput.val() != textInput.attr("placeholder"))
        msgText = $.trim(textInput.val()).replace(/\n\r?/g, '<br />');

    if (msgText != null) {
        try {
            msgText = emojione.toShort(msgText);
        } catch (err) {
            msgText = $.trim(textInput.val()).replace(/\n\r?/g, '<br />');
            errorService.reportOnError(err);
        }
    }

    paramsToSend.typeId = ((params.commentRecorded || params.commentRecording) && wasRecordingStarted)? ((msgText != null)? "3" : "1") : "2";

    try{
        if ( params.isAndroidCanRecord && wasRecordingStarted && (params.addComment.container.find(".add-comment-title-input").val() == "" || params.addComment.container.find(".add-comment-title-input").val() == params.addComment.container.find(".add-comment-title-input").attr("placeholder") ))
	    params.addComment.container.find(".add-comment-title-input").val(params.mobileDefaultTitle);

        paramsToSend.title = emojione.toShort(params.addComment.container.find(".add-comment-title-input").val());
    } catch (err){
        paramsToSend.title = params.addComment.container.find(".add-comment-title-input").val();
        errorService.reportOnError(err);
    }

    var addCommentNameInput = params.addComment.container.find(".add-comment-name-input");
    paramsToSend.userFullName = (addCommentNameInput.val() == "" || addCommentNameInput.val() == addCommentNameInput.attr("placeholder"))?"":addCommentNameInput.val();


    try{
        paramsToSend.userFullName = emojione.toShort(paramsToSend.userFullName);
    } catch (err){
        paramsToSend.userFullName = (addCommentNameInput.val() == "" || addCommentNameInput.val() == addCommentNameInput.attr("placeholder"))?"":addCommentNameInput.val();
        errorService.reportOnError(err);
    }



//    paramsToSend.userEmail = calcCommentEmailInputText();
    paramsToSend.pageTitle = params.parentPageTitle;
    paramsToSend.productName = $("#addCommentContainer .headline-text").text();

    paramsToSend.language = params.pageLanguage;

    if($(".rich-media-div span.image-preview img").length > 0){
        var imageUrlArr = [];
        $(".rich-media-div span.image-preview img").each(function(){
            imageUrlArr.push($(this).attr("src"));
        });
        paramsToSend.imageUrls = JSONLib.toString(imageUrlArr);
        $(".rich-media-div span.image-preview span.cross").remove();
    }


    paramsToSend.userId = statistics.getUserId();
    if (photoUrl)
        paramsToSend.userPhotoUrl = photoUrl;

    paramsToSend.sessionId = statistics.getSessionId();
    paramsToSend.affiliateId = statistics.getAffiliateId();
    paramsToSend.storeId = params.storeId;

    if (paramsToSend.typeId != "2"){
    	if (params.isSDK || recorderService.getMainRecorderType() ==  recorderService.recorderTypes.js)
    		paramsToSend.volume = JSONLib.toString(recordingVolumeArray);
    	 else
    		pendingVolume = JSONLib.toString(recordingVolumeArray);
    }

    if (msgText != null){
	msgText = msgText.replace(/(:[\w]+:)/g, "&nbsp;$1&nbsp;");
    	if (params.isSDK || paramsToSend.typeId != "3" || recorderService.getMainRecorderType() ==  recorderService.recorderTypes.js)
    		paramsToSend.msgText = msgText;
    	 else
        	pendingMsgText = msgText;         
    }

    paramsToSend.t = (new Date().getTime() * 10000) + 621355968000000000;

    if (params.addComment.container.attr("parent_id") != undefined && !isNaN(params.addComment.container.attr("parent_id")))
        paramsToSend.parentId = params.addComment.container.attr("parent_id");
    else
        paramsToSend.parentId = 0;

    if (params.addComment.container.attr("display_after_comment") != undefined && !isNaN(params.addComment.container.attr("display_after_comment")))
        paramsToSend.dac = params.addComment.container.attr("display_after_comment");

    if (params.addComment.container.attr("replied_on_full_name") != undefined)
        paramsToSend.rofn = params.addComment.container.attr("replied_on_full_name");

    if (params.page != null && params.page.id != null){
        paramsToSend.pageId = params.page.id;
        paramsToSend.pageUrl = params.parentPageUrl;
    } else
        paramsToSend.pageUrl = statistics.getPageUrl();


    if (statistics.getUserStation())
        paramsToSend.us = statistics.getUserStation();

    if (!params.commentsData)
        params.commentsData = [];



    params.commentsData.toBeSaved = $.extend(true,{},paramsToSend);
    params.commentsData.toBeSaved.msgText = msgText;
    params.commentsData.toBeSaved.volume = JSONLib.toString(recordingVolumeArray);
    params.commentsData.toBeSaved.fullPageUrl = paramsToSend.pageUrl;

    params.newCommentData = params.commentsData.toBeSaved;
    params.newCommentData.displayAfterComment = params.newCommentData.dac;
    params.newCommentData.repliedOnFullName = params.newCommentData.rofn;


//    params.commentsData.toBeSaved.title = decodeURIComponent(params.commentsData.toBeSaved.title);
//    params.commentsData.toBeSaved.userFullName = decodeURIComponent(params.commentsData.toBeSaved.userFullName);
//    params.commentsData.toBeSaved.pageUrl = decodeURIComponent(params.commentsData.toBeSaved.pageUrl);
//    params.commentsData.toBeSaved.pageTitle = decodeURIComponent(params.commentsData.toBeSaved.pageTitle);
//    params.commentsData.toBeSaved.volume = decodeURIComponent(params.commentsData.toBeSaved.volume);

//
//    if (params.commentsData.toBeSaved.msgText)
//        params.commentsData.toBeSaved.msgText = decodeURIComponent(params.commentsData.toBeSaved.msgText);
//
//    params.addComment.parentId = null;
    
    params.addComment.container.find(".recorder-equalizer-view .equalizer .time").addClass("invisible");

    sendEvent("Product","PostComment", "user posted a comment", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));


    if (!params.isSDK) {
        recordingStepsCompleted = 0;
        recorderService.postComment(paramsToSend);

    } else
        messaging.postMessage(null,messaging.messageTypes.sdkPostComment, JSONLib.toString(paramsToSend));

    if (params.isMobile && !params.isTablet){
        if (!params.isIOS)
            messaging.postMessage(null,messaging.messageTypes.scrollToPoint, params.addComment.container.offset().top);
        else
            messaging.postMessage(null,messaging.messageTypes.scrollToPoint, calcOffetTop(params.addComment.container));
    }

    if((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet"){
            params.commentPosted = false;
    }
}

function recorderPlayComment(commentId, clickedObjInput){
    if (recorderService.getRecorderState() == recorderService.recorderStates.RECORDING){
        var clickedObj = $(this);
        recorderStopRecording(function(){recorderPlayComment(commentId, clickedObj);});
        return;
    }


    if (params.commentPlaying && params.commentPlaying.attr("cid") && commentId && commentId.toString() != params.commentPlaying.attr("cid"))
        recorderStopClick();

    var clickedObj = clickedObjInput? clickedObjInput: $(this);

//    if (params.playAllVoiceComments.comments && commentId != parseInt($(params.playAllVoiceComments.comments[params.playAllVoiceComments.playIndex]).attr("cid"), 10))
//        params.playAllVoiceComments.userClickedStop = true;

    if (params.commentPlaying && params.commentPlaying.attr("cid"))
        resetPlayCommentView(true);

    if (recorderService.getRecorderState() == recorderService.recorderStates.PLAYING || recorderService.getRecorderState() == recorderService.recorderStates.RECORDING || recorderService.getRecorderState() == recorderService.recorderStates.PLAYING_EXTERNAL_FILE)
        params.recorderPlaying = true;

        params.commentPlaying = $(clickedObj.parentsUntil(".comment").parent()[0]);

    if (commentId == undefined || commentId == "" || isNaN(commentId))
        commentId = parseInt(params.commentPlaying.attr("cid"));

    var messagingBox = $(params.commentPlaying.find(".messaging-box")[0]);
    messagingBox.removeClass("error");

    $(".block.review").find(".review-post").children(".container").find(".messaging-box").addClass("invisible");
    messagingBox.find(".link-record-voice").text($("#messageWaitReviewLoading").text());
    messagingBox.removeClass("invisible");

    $(".block.review").find(".review-post").children(".container").find(".play-btn.invisible").removeClass("invisible");
    $(params.commentPlaying.find(".play-btn")[0]).addClass("invisible");

    $(".block.review").find(".review-post").children(".container").find(".loading-btn:not(.invisible)").addClass("invisible");
    $(params.commentPlaying.find(".loading-btn")[0]).removeClass("invisible");

    //notifications.setNotificationView(notifications.notificationModes.PLAIN, "Please wait while the comment is being loaded...", params.commentPlaying);
    sendEvent("Product","PlayComment", "user listened to a comment "+commentId, { "commentId": commentId, "pageId": params.page.id });

    if (recorderService.getRecorderState() != recorderService.recorderStates.PLAYING_EXTERNAL_FILE)
        recorderService.playExternalFile(commentId);
    else
        recorderService.resumeExternalFile();

    if (params.isSDK)
        messaging.postMessage(null,messaging.messageTypes.sdkPlayExternalFile,"1");
}

function sendStopEvent(eventId){
    if (eventId == recorderService.eventTypes.STOPPED_PLAYING_EXTERNAL_FILE)
        sendEvent("Product","StopPlayingComment", "user stop playing a comment", {"commentId":params.commentPlaying.attr("cid"), "pageId": params.page.id});

    if (eventId == recorderService.eventTypes.STOPPED_PLAYING)
        sendEvent("Product","StopPlayingRecording", "user stop playing a recoding", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

    if (eventId == recorderService.eventTypes.STOPPED_RECORDING)
        sendEvent("Product","StopRecordingComment", "user stop recording a comment", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

}

/**
 * main point where flash send event to the Javascript application
 * @param eventId
 * @param eventData
 */
function onRecorderEventChange(eventId, eventData){
    switch (eventId) {

        case recorderService.eventTypes.STOPPED_RECORDING:
            if(statistics.getUserId() && (!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet"){
		if(params.addComment.container.find(".add-comment-text-input").val().trim() != "" && params.addComment.container.find(".add-comment-text-input").val().trim() != params.addComment.container.find(".add-comment-text-input").attr("placeholder")){
                    params.addComment.container.find(".add-comment-post-comment-new").removeClass("invisible");
                    params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");
                 }
                else{
                    params.addComment.container.find(".add-comment-submit-btn").removeClass("invisible");
                    params.addComment.container.find(".add-comment-post-comment-new").addClass("invisible");
                }
            }
            else {
                if (params.isMobile && !params.isTablet){
                    params.addComment.container.find(".submission-form .add-comment-title-input").css("font-size", params.addComment.container.find(".add-comment-name-input").css("font-size")).val("");
                    params.addComment.container.find(".submission-form").attr("style", "display:block !important");
                    params.addComment.container.find(".post-step-2").removeClass("invisible").css("display", "");
		    recorderEncode();
                } else
                    params.addComment.container.find(".add-comment-submit-btn").removeClass("invisible");
            }

            if (params.isTablet){
                recorderEncode();
            }
            counter = 0;
            shiftCounter = 0;
            params.addComment.container.find(".recorder-time-seconds").text(recordingTime/1000 - parseInt(params.addComment.container.find(".recorder-time-seconds").text(), 10));            
            sendNumberOfCommentsToHost();

        case recorderService.eventTypes.STOPPED_PLAYING_EXTERNAL_FILE:
        case recorderService.eventTypes.STOPPED_PLAYING:
            if (recorderAfterReset)
                return;

            sendStopEvent(eventId);

            if (params.commentRecording)
                params.commentRecording = false;

            playingPosition = 0;

            if (params.commentPlaying == null){
                resetRecordButtons();

                params.addComment.container.find(".record-btn").addClass("invisible");
                params.addComment.container.find(".play-btn").removeClass("invisible");


                if (params.addComment.container.find(".recorder-messaging-view").hasClass("invisible") || !params.addComment.container.find(".recorder-messaging-view").hasClass("continue"))
                    setResetButtonsDisplay();

                params.addComment.container.find(".recorder-equalizer-view .holder .recorder-bar-entry").removeClass("empty");

                params.commentRecorded = true;



            }
            else{
                resetCommentPlayButtons(params.commentPlaying);
                $(params.commentPlaying.find(".holder")[0]).find(".recorder-bar-entry").addClass("blue");
            }

//            clearInterval(params.recorderSetPlayingTimeout);
//            params.recorderSetPlayingTimeout = null;
            if (!params.recorderPlaying)
                params.commentPlaying = null;
            else
                params.recorderPlaying = false;


//
//            if (!params.playAllVoiceComments.userClickedStop){
//                recorderPlayAllVoiceComments(true);
//            }

            if (eventId == recorderService.eventTypes.STOPPED_RECORDING)
                guidance.showBox(guidance.getBoxIds().textHowTo, true);

            break;

        case recorderService.eventTypes.PAUSED_PLAYING_EXTERNAL_FILE:
            sendEvent("Product","PlayCommentPause", "user paused comment", {"commentId":params.commentPlaying.attr("cid"), "pageId": params.page.id});

            resetCommentPlayButtons(params.commentPlaying);
            //params.commentPlaying.find(".btn-retake:first").removeClass("invisible");

//            clearInterval(params.recorderSetPlayingTimeout);
//            params.recorderSetPlayingTimeout = null;
            break;

        case recorderService.eventTypes.PAUSED_PLAYING:
            resetRecordButtons();
            params.addComment.container.find(".record-btn").addClass("invisible");
            params.addComment.container.find(".play-btn").removeClass("invisible");
            setResetButtonsDisplay();
            break;

        case recorderService.eventTypes.PLAYING_EXTERNAL_FILE_TIME:
            isStopped = false; 
            recorderUpdateTime(eventData);
            break;

        case recorderService.eventTypes.RECORDING_TIME:
            if (!params.addComment.container.find(".recorder-messaging-view").hasClass("continue")) {
                setResetButtonsDisplay();
                resetRecorderMessagingView();
                params.addComment.container.find(".recorder-default-view").addClass("invisible");
                params.addComment.container.find(".recorder-equalizer-view").removeClass("invisible");
            }
            recorderUpdateTime(eventData);

            break;

        case recorderService.eventTypes.PLAYING_TIME:
               isStopped = false; 
               recorderUpdateTime(eventData);
//            researchControllerObj.reportRecording();
            break;

        case recorderService.eventTypes.SENDING_TO_SERVER:
            break;

        case recorderService.eventTypes.COMMENT_SAVING:
            sendEvent("Tracker","commentSavingInternal", eventData, {"pageId": (params.page && params.page.id)? params.page.id :undefined, additionalData: eventData});
            addComment();
//            params.addComment.container.find(".post-step-2").fadeOut();
            break;

        case recorderService.eventTypes.ERROR_SENDING_TO_SERVER_FAILED:
            wasPostingStarted = false;

        case recorderService.eventTypes.COMMENT_SAVED:
            var commentObj = null;

            if (eventData != "-1"){
                try {
                    commentObj = $.parseJSON(eventData);
                    if (!params.isSDK){
			sendMsg(commentObj, function(data){
                            commentObj = $.parseJSON(data);
                       });
                        sendAVT(commentObj.commentId);
		            }
                }
                catch (err){
                    commentObj = null;
                }
            }

            resetRecorderMessagingView();
            params.addComment.container.find(".recorder-messaging-view").addClass("ready").removeClass("invisible");

	    if (commentObj == null || !commentObj.state || isNaN(commentObj.state) || (commentObj.state != 1 && (statistics.getAffiliateId() == "ynet" || statistics.getAffiliateId() == "TfNicXduh1"))){
//                alert(eventData);

                if (commentObj == null || !commentObj.state){
                    params.addComment.container.find(".recorder-messaging-view .link-record-voice").html("<span style='color:red;'>" + $("#messageSomethingWentWrong").html() + "</span>");
                    resetRecordButtons();

                    if (wasRecordingStarted){
                        params.addComment.container.find(".record-btn").addClass("invisible");
                        params.addComment.container.find(".play-btn").removeClass("invisible");
                    } else {
                        params.addComment.container.find(".record-btn").addClass("disabled");
                    }

                    removeNewComment(commentObj);
                    return;
                }

                if (commentObj.state == 0){ //Pending
                    params.addComment.container.find(".recorder-messaging-view").addClass("pending");
                    params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($("#messageVerificationEmailSent").html());
                }

                if (commentObj.state == 2 || commentObj.state == 4){ //Flagged
		            params.addComment.container.find(".recorder-messaging-view").addClass("flagged");
                    params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($("#messageReviewSavedPendingAdministratorApproval").html());
		        }


                removeNewComment(commentObj);
                setTimeout(function(){cleanAddCommentFieldsAndResetRecorder()}, 3000);


            } else {

                recordingStepsCompleted++;
                params.addComment.container.find(".recorder-messaging-view .link-record-voice").text($("#messageReviewSavedSuccessfully").text());

                updateNewComment(commentObj);
            }

            if (params.pendingWLExecution){
                try {
                    if (undefined != typeof whitelabelPostSuccessCallback && typeof whitelabelPostSuccessCallback == "function")
                        whitelabelPostSuccessCallback(commentObj);
                } catch(err){

                }
            }

            break;
        case recorderService.eventTypes.RECORDING_PERMISSION_TIMED_OUT:

            params.recordedOnce = false;
	        recorderPermissionWaitedOnce = false;
            $("#recorderFLObjCont").removeClass("visible");
            $("#recorderFLObjCont").css("top","");

            if (!didntRecordedButPressed && wasRecordingStarted) {
                resetRecordButtons();


                resetRecorderMessagingView();
                params.addComment.container.find(".recorder-default-view").addClass("invisible");
                params.addComment.container.find(".recorder-messaging-view").addClass("error").removeClass("invisible");
                params.addComment.container.find(".recorder-messaging-view .link-record-voice").text($("#messageRecordingApprovalTimedOut").text());
            }
            //researchControllerObj.reportRecordingDialogFailed(recorderService.getRecorderState() == recorderService.recorderStates.RECORDING);
            break;

        case recorderService.eventTypes.ERROR_ENCODING_MP3:
//            notifications.setNotificationView(notifications.notificationModes.ERROR, $("#additionalText .error_occurred_try_later").html() ,5000); //"An error has occurred! Please try again in a few minutes"
            sendEvent("Tracker","mp3EncodingError", eventData, {"pageId": (params.page && params.page.id)? params.page.id :undefined, additionalData: eventData});

            if (!params.isSDK)
                recorderService.encode();

            break;

        case recorderService.eventTypes.RECORDING_PERMISSION_DENIED:
            wasRecordingFailed = true;
            recorderPermissionWaitedOnce = false;
            params.recordedOnce = false;

            if (params.addComment.container.find(".post-step-2").css("display") == "none") {
                $("#recorderFLObjCont").removeClass("visible");
                $("#recorderFLObjCont").css("top", "");
                resetRecordButtons();

                params.addComment.container.find(".recorder-default-view").addClass("invisible");
                resetRecorderMessagingView();
                params.addComment.container.find(".recorder-messaging-view").addClass("error").removeClass("invisible");
                params.addComment.container.find(".recorder-messaging-view .link-record-voice").html("Mic permission has been denied,</br> In order to proceed please enable it");

                sendEvent("Tracker", "ErrorRecordingPermissionDenied", eventData, {
                    "pageId": (params.page && params.page.id) ? params.page.id : undefined,
                    additionalData: eventData
                });
            }
            break;

        case recorderService.eventTypes.ERROR_BINDING_INPUT_FUNCTIONS:
//            notifications.setNotificationView(notifications.notificationModes.ERROR, $("#additionalText .error_occurred_try_later").html() ,5000); //"An error has occurred! Please try again in a few minutes"
//            params.addComment.container.find(".recorder-messaging-view").removeClass("plain").addClass("error");
//            params.addComment.container.find(".recorder-messaging-view") .link-record-voice").text("An error has occurred! Please try again in a few minutes");
            sendEvent("Tracker","ErrorBindingInputFunction", eventData, {"pageId": (params.page && params.page.id)? params.page.id :undefined, additionalData: eventData});
            break;

        case recorderService.eventTypes.ERROR_RECORDING_FAILED_NO_RECORDING:
            wasRecordingFailed = true;

            $("#recorderFLObjCont").removeClass("visible").css("top", "");
            resetRecordButtons();
            params.addComment.container.find(".recorder-equalizer-view").addClass("invisible");
            params.addComment.container.find(".recorder-default-view").addClass("invisible");

            var textInput = params.addComment.container.find(".add-comment-text-input");
            if (textInput.val() == "" || textInput.val() == textInput.attr("placeholder"))
                params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");


            resetRecorderMessagingView();
            params.addComment.container.find(".recorder-messaging-view").addClass("error").removeClass("invisible");
            params.addComment.container.find(".recorder-messaging-view .link-record-voice").text($("#messageCantFindYourMic").text());

            params.recordedOnce = false;
            sendEvent("Tracker","ErrorRecordingFailedNoRecording", eventData, {"pageId": (params.page && params.page.id)? params.page.id :undefined, additionalData: eventData});

            setRecordUnavailable();

            break;

        case recorderService.eventTypes.SERVICE_NOT_DEFINED:
//            notifications.setNotificationView(notifications.notificationModes.ERROR, $("#additionalText .error_occurred_try_later").html() ,5000); //"An error has occurred! Please try again in a few minutes"
            sendEvent("Tracker","ErrorServiceNoDefined", eventData, {"pageId": (params.page && params.page.id)? params.page.id :undefined, additionalData: eventData});
            break;

        case recorderService.eventTypes.ENCODING_WAV_COMPLETED:
//            sendEvent("Tracker","encodingWavCompletedInternal", 1, {"pageId": (params.page && params.page.id)? params.page.id :undefined, additionalData: eventData});
            break;

        case recorderService.eventTypes.ENCODING_MP3_PROGRESS:
//            if (!encodingMp3Reported){
//                encodingMp3Reported = true;
//                sendEvent("Tracker","encodingMp3ProgressInternal", eventData, {"pageId": (params.page && params.page.id)? params.page.id :undefined, additionalData: eventData});
//            }
            break;

        case recorderService.eventTypes.ENCODING_MP3_COMPLETED:
//            sendEvent("Tracker","encodingMp3CompletedInternal", eventData, {"pageId": (params.page && params.page.id)? params.page.id :undefined, additionalData: eventData});
            break;

        case recorderService.eventTypes.ERROR_ALREADY_SAVING:
            sendEvent("Tracker","ErrorAlreadySaving", eventData, {"pageId": (params.page && params.page.id)? params.page.id :undefined, additionalData: eventData});
            break;
    }
}

var numberOfRetries = 0;
var vtNumberOfRetries = 0;
var volNumberOfRetries = 0;
function sendMsg(commentObj, callback){
    if (params.newCommentData.typeId == "2" || recorderService.getMainRecorderType() ==  recorderService.recorderTypes.js)
	return;

    $.ajax({
        url: params.receiverStaticUrl + "addCommentMsg.action",
        cache: false,
        async: false,
        method: "POST",
        data: {
            commentId: commentObj.commentId,
            msgText: pendingMsgText,
            volume: pendingVolume,
            pageUrl: params.parentPageUrl,
            affiliateId: statistics.getAffiliateId(),
            storeId: params.storeId
        }
    }).always(function( data ) {
                if (data || data != null || data != "-1" ){
                pendingMsgText = null;
                pendingVolume = null;
                recordingStepsCompleted++;
                callback(data);
		} else{
                if (numberOfRetries == 3){
                    pendingMsgText = null;
                    pendingVolume = null;
                    return;
                }

                numberOfRetries++;
                sendMsg(commentObj, callback);
            }
    });
}

function sendAVT(commentId){
    if (!commentId || !window.heyoya_vt || !params.parentPageUrl || !statistics.getAffiliateId()){
        window.heyoya_vt = null;
        recordingStepsCompleted++;
        return;
    }

    $.ajax({
        url: params.receiverStaticUrl + "avt.action",
        cache: false,
        method: "POST",
        data: {
            commentId: commentId,
            vt: window.heyoya_vt,
            pageUrl: params.parentPageUrl,
            affiliateId: statistics.getAffiliateId(),
            storeId: params.storeId
        }
    }).always(function( data ) {
            if (data == 1){
                params.addComment.container.find(".how-to-video-link").addClass("invisible");
                window.heyoya_vt = null;
		        vtNumberOfRetries = 0;
                recordingStepsCompleted++;
            } else{
                if (vtNumberOfRetries == 3){
                    window.heyoya_vt = null;
                    vtNumberOfRetries = 0;
                    return;
                }

                vtNumberOfRetries++;
                sendAVT(commentId);
            }
    });
}

function onRecorderStateChange(state){
    if (params.isSDK)
        recorderService.setRecorderState(state);

    switch (state) {
        case recorderService.recorderStates.READY:
            break;

        case recorderService.recorderStates.RECORDING:
            guidance.closeAllBoxes();

            recorderAfterReset = false;
            recordingPreviousVolume = recordingTempVolume = recordingTempPosition = recordingPreviousPosition = 0;
            params.addComment.container.find(".recorder-equalizer-view .time").addClass("invisible");
            recordingVolumeArray = [];

            params.commentPlaying = null;
            params.commentRecording = true;
            wasRecordingStarted = true;

            resetRecordButtons();
            params.addComment.container.find(".record-btn").addClass("invisible");
            params.addComment.container.find(".stop-btn").removeClass("invisible");

            params.addComment.container.find(".btn-retake, .btn-clear").addClass("high");

            if (!params.recordedOnce){
                params.recordedOnce = true;

                if (!params.isSDK && recorderService.isFlashRecorderActive()){
                    $("#recorderFLObjCont").addClass("visible");
		}
            }

//            params.addComment.container.find(".recorder-default-view").addClass("invisible");
//            params.addComment.container.find(".recorder-equalizer-view").removeClass("invisible");
            sendNumberOfCommentsToHost();
            recordingZeroVolumeCounter = 0;

            break;

        case recorderService.recorderStates.PLAYING:
            recorderAfterReset = false;
            resetRecordButtons();
            params.addComment.container.find(".record-btn").addClass("invisible");
            params.addComment.container.find(".pause-btn").removeClass("invisible");
            setResetButtonsDisplay();

            if (playingPosition == 0)
                params.addComment.container.find(".recorder-equalizer-view .recorder-bar-entry").addClass("empty");

            //recorderSetPlayingTime();
            break;

        case recorderService.recorderStates.PLAYING_EXTERNAL_FILE:
            recorderAfterReset = false;
            resetCommentPlayButtons(params.commentPlaying);

            params.commentPlaying.find(".play-btn:first").addClass("invisible");
            params.commentPlaying.find(".loading-btn:first").addClass("invisible");
            params.commentPlaying.find(".pause-btn:first").removeClass("invisible");
            params.commentPlaying.find(".btn-retake:first").removeClass("invisible");
            params.commentPlaying.find(".btn-placeholder:first").removeClass("invisible");


            if (playingPosition == 0)
                params.commentPlaying.find(".holder:first .recorder-bar-entry").removeClass("blue");

//            notifications.hideNotification(params.commentPlaying);
//            notifications.setNotificationView(notifications.notificationModes.PLAIN, "Please wait while the comment is being loaded...", params.commentPlaying);

//            recorderSetPlayingTime(true);
            break;

        case recorderService.recorderStates.ENCODING:
//            sendEvent("Tracker","encodingInternal", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            break;


        case recorderService.recorderStates.NOT_DEFINED:
            //notifications.setNotificationView(notifications.notificationModes.ERROR, $("#additionalText .error_occurred_try_later").html() ,5000); //"An error has occurred! Please try again in a few minutes"
            sendEvent("Tracker","recorderNotDefinedState", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            break;
    }
}

function resetCommentPlayButtons(commentObj){
    commentObj.find(".play-btn:first").removeClass("invisible");
    commentObj.find(".pause-btn:first").addClass("invisible");
    commentObj.find(".btn-retake:first").addClass("invisible");
    commentObj.find(".btn-placeholder:first").addClass("invisible");
}

function resetRecordButtons(){
    params.addComment.container.find(".record-btn").removeClass("invisible").removeClass("disabled");
    params.addComment.container.find(".stop-btn").addClass("invisible");
    params.addComment.container.find(".pause-btn").addClass("invisible");
    params.addComment.container.find(".play-btn").addClass("invisible");
    params.addComment.container.find(".loading-btn").addClass("invisible");
    resetButtonsDisplay();
}

var wasRecordingFailed = false;
function showRecordingNotification() {
    if (wasRecordingFailed)
        return;

    var isChrome = window.navigator.userAgent.toLowerCase().indexOf("chrome") != -1;
    var isHttps = window.location.protocol == "https:";
    if (isHttps && isChrome && !recorderPermissionWaitedOnce){
        recorderPermissionWaitedOnce = true;
        setTimeout(function(){showRecordingNotification();}, 1000);
        return;
    }

    //params.addComment.container.find(".recorder-default-view").addClass("invisible");

    if (params.recordedOnce && ( recorderService.isFlashRecorderActive() ||  (isHttps && isChrome)))
        return;

    resetRecorderMessagingView();
    params.addComment.container.find(".recorder-default-view").addClass("invisible");
    params.addComment.container.find(".recorder-messaging-view").addClass("plain").removeClass("invisible");

    if (recorderService.isFlashRecorderActive())
        params.addComment.container.find(".recorder-messaging-view .link-record-voice").text($("#messageAllowToUseYourMic").text());
    else
        if (window.navigator.userAgent.toLowerCase().indexOf("firefox") != -1)
            params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($("#messageAllowToUseYourMic_ff").html());
        else
            params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($("#messageAllowToUseYourMicChrome").html());


//    if (recorderService.isFlashRecorderActive())
//        notifications.setNotificationView(notifications.notificationModes.PLAIN, "Please allow heyoya to use your microphone with Flash", $("#addContainer"));
//    else
//        notifications.setNotificationView(notifications.notificationModes.PLAIN, "Please allow heyoya to use your microphone on your browser (below the URL box)", $("#addContainer"));

}

var postButtonClickTimeout;
var postButtonClickInnerTimeout;
var postButtonClickEncodeTimeout;
function postButtonClick(){
    params.addComment.states.commentChangingMode = true;
    params.addComment.container.find(".btn-retake").removeClass("high").addClass("invisible");
    params.addComment.container.find(".btn-clear").removeClass("high").addClass("invisible");

    if (params.showQuickerContinueProcess){
        postButtonQuickerClick();
        return;
    }

    sendEvent("Tracker","ContinueBtnInner", "ContinueBtnInner", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

    resetRecordButtons();
    params.addComment.container.find(".record-btn").addClass("invisible");
    params.addComment.container.find(".loading-btn").removeClass("invisible");

    params.addComment.container.find(".recorder-default-view").addClass("invisible");
    resetRecorderMessagingView();
    params.addComment.container.find(".recorder-messaging-view").addClass("continue").removeClass("invisible");
    params.addComment.container.find(".recorder-messaging-view .link-record-voice").text($("#messagePreparingYourReview").text());
    // params.addComment.container.find(".recorder-equalizer-view .recorder-bar-entry").removeClass("empty").addClass("continue");
    params.addComment.container.find(".recorder-equalizer-view").removeClass("invisible");
    params.addComment.container.find(".add-comment-text-input").addClass("invisible");
    params.addComment.container.find(".submission-form .form-elements").addClass("invisible");
    params.addComment.container.find(".camera-div").addClass("invisible");
    params.addComment.container.find(".rich-media-div").addClass("invisible");
//    params.addComment.container.find(".add-comment-text-input").attr("disabled","disabled");


    if ((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet" && params.addComment.container.find(".add-comment-text-input").val()  ){
        if(params.addComment.container.find(".add-comment-text-input").val().trim() != "" && params.addComment.container.find(".add-comment-text-input").val() != params.addComment.container.find(".add-comment-text-input").attr("placeholder"))
            params.addComment.container.find(".add-comment-title-input").addClass("invisible").val(params.mobileDefaultTitle);
    }

    recorderStopClick();
    var shouldSetLoginView = false;
    if(statistics.getUserId() && (statistics.getUserId() == "1037475" || statistics.getUserId() == "1034306")){
	shouldSetLoginView = true;
        loginService.logout();
        statistics.setUserId(null);
        statistics.setUserString(null);
        if (!params.isWix && (!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet" &&  (params.addComment.container.find(".add-comment-text-input").val() != "" && params.addComment.container.find(".add-comment-text-input").val() != params.addComment.container.find(".add-comment-text-input").attr("placeholder")) )
             params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($('#additionalText span[lang_id="text_logged_out"]').html());

    }

    sendNumberOfCommentsToHost();
    postButtonClickTimeout = setTimeout(function(){
        params.addComment.container.find(".recorder-equalizer-view .recorder-bar-entry").removeClass("empty").addClass("continue");
        clearTimeout(postButtonClickTimeout);

        sendEvent("Tracker","ContinueBtnInnerInTimeout", "ContinueBtnInnerInTimeout", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

        params.addComment.container.find(".add-comment-submit-btn").fadeOut("fast", function(){
            postButtonClickInnerTimeout = setTimeout(function(){
                clearTimeout(postButtonClickInnerTimeout);
                sendEvent("Tracker","ContinueBtnInnerInTimeout2", "ContinueBtnInnerInTimeout2", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

                if (!$("body").is(".scaled.firefox:not(.mobile)")){
                    params.addComment.container.find(".post-step-2").fadeIn("fast", function(){
                        if(statistics.getUserId() &&(!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet"){
                           params.addComment.container.find(".logout-n").removeClass("invisible");
                           params.addComment.container.find(".add-comment-post-comment-new").removeClass("invisible");
                        } else if(shouldSetLoginView){
                            shouldSetLoginView = false;
                            setLoginView();
                        }

                        postButtonClickSuccess();
                        sendNumberOfCommentsToHost();
                    });
                } else {
                    params.addComment.container.find(".post-step-2").css("display","").removeClass("invisible");
                    postButtonClickSuccess();
                    sendNumberOfCommentsToHost();
                }

                if(statistics.getUserId() &&(!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet"){
                    params.addComment.container.find(".signout.signin-block").addClass("invisible");
                }else{
                    params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");
                    params.addComment.container.find(".add-comment-submit-btn").css("display","");
                }

                sendNumberOfCommentsToHost();
            }, 10);
        });
    }, 2000);

    if (!params.isSDK && wasRecordingStarted){
        postButtonClickEncodeTimeout = setTimeout(function(){
            clearTimeout(postButtonClickEncodeTimeout);
            sendEvent("Tracker","ContinueBtnInnerInEncodingTimeout", "ContinueBtnInnerInEncodingTimeout", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            recorderEncode();
        }, 500);
    }

}

var postButtonClickSuccessTimeout, postButtonClickSuccessInnerTimeout, addCommentTitleInterval;
function postButtonClickSuccess(){
    postButtonClickSuccessTimeout = setTimeout(function(){
        clearTimeout(postButtonClickSuccessTimeout);
        sendEvent("Tracker","ContinueBtnInnerInTimeout3", "ContinueBtnInnerInTimeout3", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        resetRecordButtons();

        if (wasRecordingStarted){
            params.addComment.container.find(".record-btn").addClass("invisible");
            params.addComment.container.find(".play-btn").removeClass("invisible");
        } else {
            params.addComment.container.find(".record-btn").off("click");
            params.addComment.container.find(".record-btn").addClass("disabled");
        }

        resetButtonsDisplay();
        resetRecorderMessagingView();
        params.addComment.container.find(".recorder-messaging-view").addClass("ready").removeClass("invisible");

        if ((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet" &&  (params.addComment.container.find(".add-comment-text-input").val() != "" && params.addComment.container.find(".add-comment-text-input").val() != params.addComment.container.find(".add-comment-text-input").attr("placeholder")) ) {
            if (statistics.getUserId())
                params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($('#additionalText span[lang_id="text_logged_in"]').html());
            else
                params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($('#additionalText span[lang_id="text_logged_out"]').html());
        } else
            params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($("#messageReviewReadyAddTitle").html());

        params.addComment.container.find(".recorder-equalizer-view").addClass("ready");
        params.addComment.container.find(".recorder-equalizer-view .recorder-bar-entry").removeClass("continue").addClass("ready");


        var isIEOrSafari = (window.navigator && window.navigator.userAgent && (window.navigator.userAgent.toLowerCase().indexOf("msie") != -1 || window.navigator.userAgent.toLowerCase().indexOf("trident") != -1 || ( navigator.userAgent.toLowerCase().indexOf("safari") != -1 && navigator.userAgent.toLowerCase().indexOf("chrome") == -1 ) ) );

        if (!isIEOrSafari || (params.isIOS && $("body").hasClass("tablet"))) {
            if ((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet" &&  (params.addComment.container.find(".add-comment-text-input").val() != "" && params.addComment.container.find(".add-comment-text-input").val() != params.addComment.container.find(".add-comment-text-input").attr("placeholder")) )
                params.addComment.container.find(".add-comment-title-input").addClass("invisible").val(params.mobileDefaultTitle);
            else{
                params.addComment.container.find(".add-comment-title-input").val("");
                params.addComment.container.find(".add-comment-title-input").focus();
            }
        } else if (isIEOrSafari && (params.addComment.container.find(".add-comment-text-input").val() == "" && params.addComment.container.find(".add-comment-text-input").val() == params.addComment.container.find(".add-comment-text-input").attr("placeholder"))) {
            params.addComment.container.find(".add-comment-title-input").val("");
        }

        guidance.showBox(guidance.getBoxIds().titleHowTo, true);

        postButtonClickSuccessInnerTimeout = setTimeout(function(){
            clearTimeout(postButtonClickSuccessInnerTimeout);
            sendEvent("Tracker","ContinueBtnInnerInTimeout4", "ContinueBtnInnerInTimeout4", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

            resetRecorderMessagingView();
            params.addComment.container.find(".recorder-messaging-view").addClass("continue").removeClass("invisible");
            params.addComment.container.find(".recorder-equalizer-view").removeClass("ready");

            params.addComment.container.find(".add-comment-title-input").addClass("ready");

            showTitleImAliveInterval = setInterval(showTitleImAlive, 3000);

            params.addComment.states.commentChangingMode = false;
	    detachAddContainerCallback();

        }, 2000);

    }, 2000);
}


function postButtonQuickerClick(){
    sendEvent("Tracker","QuickerContinueClick", "Quicker continue click", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

    recorderStopClick();
    resetRecordButtons();

    if (recorderService.wasRecordingStarted()){
        params.addComment.container.find(".record-btn").addClass("invisible");
        params.addComment.container.find(".play-btn").removeClass("invisible");
    } else {
        params.addComment.container.find(".record-btn").off("click");
        params.addComment.container.find(".record-btn").addClass("disabled");
    }

    resetRecorderMessagingView();
    params.addComment.container.find(".recorder-default-view").addClass("invisible");
    params.addComment.container.find(".recorder-messaging-view").addClass("ready").removeClass("invisible");

    if (!params.hideTitle)
        params.addComment.container.find(".recorder-messaging-view .link-record-voice").html($("#messageReviewReadyAddTitle").html());
    else
        params.addComment.container.find(".recorder-messaging-view .link-record-voice").html( languageJSONObj.ui_inputs.review_ready_only );

    params.addComment.container.find(".recorder-equalizer-view").addClass("ready");
    params.addComment.container.find(".recorder-equalizer-view .recorder-bar-entry").removeClass("continue").addClass("ready");

    params.addComment.container.find(".add-comment-submit-btn").fadeOut("fast", function(){
        params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");
        params.addComment.container.find(".add-comment-submit-btn").css("display","");
        params.addComment.container.find(".add-comment-text-input").addClass("invisible");

        if (params.hideTitle){
            var textMessage = params.addComment.container.find(".add-comment-text-input").val();
            params.addComment.container.find(".add-comment-title-input").addClass("invisible");

            if (textMessage != "")
                params.addComment.container.find(".add-comment-title-input").val(textMessage.length > 200? textMessage.substring(0,200): textMessage);
            else
                params.addComment.container.find(".add-comment-title-input").val( languageJSONObj.ui_inputs.dummy_title );

        }

        params.addComment.container.find(".post-step-2").fadeIn("fast", function(){
            var isIEOrSafari = (!params.isMobile && window.navigator && window.navigator.userAgent && (window.navigator.userAgent.toLowerCase().indexOf("msie") != -1 || window.navigator.userAgent.toLowerCase().indexOf("trident") != -1 || ( navigator.userAgent.toLowerCase().indexOf("safari") != -1 && navigator.userAgent.toLowerCase().indexOf("chrome") == -1 ) ) );
            if (!params.hideTitle  && !isIEOrSafari)
                params.addComment.container.find(".add-comment-title-input").focus();

            var queryString = querystringUtil.extract(window.location.href);
            if (queryString.affIdId && queryString.affIdId == "farfesh"){
                if ( params.addComment.container.find(".signout").hasClass("invisible") )
                    guidance.showBox(guidance.getBoxIds().loginHowTo, true);
            } else
                guidance.showBox(guidance.getBoxIds().titleHowTo, true);


            sendNumberOfCommentsToHost();

        });
    });

    resetRecorderMessagingView();
    params.addComment.container.find(".recorder-messaging-view").addClass("continue").removeClass("invisible");
    params.addComment.container.find(".recorder-equalizer-view").removeClass("ready");

    params.addComment.container.find(".add-comment-title-input").addClass("ready");

    showTitleImAliveInterval = setInterval(showTitleImAlive, 3000);


    sendNumberOfCommentsToHost();
    if (recorderService.wasRecordingStarted()){
        postButtonClickEncodeTimeout = setTimeout(function(){
            clearTimeout(postButtonClickEncodeTimeout);
            sendEvent("Tracker","ContinueBtnInnerInEncodingTimeout", "ContinueBtnInnerInEncodingTimeout", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
            recorderEncode();
        }, 500);
    }


}

var showTitleImAliveInterval,
    showTitleImAliveIntervalCounter = 0;
function showTitleImAlive(){
    showTitleImAliveIntervalCounter++;

    if (params.addComment.container.find(".post-step-2").is(":visible") && params.addComment.container.find(".post-step-2").is(":visible"))
        sendEvent("Tracker","showTitleImAlive-visible", "showTitleImAlive", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
    else
        sendEvent("Tracker","showTitleImAlive-invisible", "showTitleImAlive", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));

    if (showTitleImAliveIntervalCounter >= 3)
       clearInterval(showTitleImAliveInterval);
}

function resetPostButton(){
    params.addComment.container.find(".post-step-2").css("display", "none");
    params.addComment.container.find(".add-comment-submit-btn").addClass("invisible");
    params.addComment.container.find(".add-comment-submit-btn").css("display", "");
}

function setResetButtonsDisplay(){
    resetButtonsDisplay();

    if (params.addComment.container.find(".recorder-equalizer-view").hasClass("ready") || params.addComment.container.find(".add-comment-title-input").hasClass("ready"))
        return;

    params.addComment.container.find(".add-comment-white-bg").removeClass("invisible");
    if (params.addComment.container.find(".add-comment-text-input").val() != "" && params.addComment.container.find(".add-comment-text-input").val() != params.addComment.container.find(".add-comment-text-input").attr('placeholder'))
        params.addComment.container.find(".add-comment-clear-button").removeClass("invisible");
    else
        params.addComment.container.find(".add-comment-reset-button").removeClass("invisible");
}

function resetRecorderMessagingView(){
    params.addComment.container.find(".recorder-messaging-view").addClass("invisible").removeClass("error").removeClass("plain").removeClass("continue").removeClass("ready").css("display", "");

}

function resetButtonsDisplay(){
    params.addComment.container.find(".add-comment-clear-button").addClass("invisible");
    params.addComment.container.find(".add-comment-reset-button").addClass("invisible");
    params.addComment.container.find(".add-comment-white-bg").addClass("invisible");
}

function afterPostCleanup(){
    params.addComment.container.find(".recorder-messaging-view").fadeOut("slow", function(){
        params.addComment.container.find(".recorder-equalizer-view").addClass("invisible").removeClass("ready");
        params.addComment.container.find(".recorder-default-view").removeClass("invisible");
        params.addComment.container.find(".recorder-equalizer-view .recorder-bar-entry").detach();
        resetRecordButtons();
        if((!params.isMobile || params.isTablet) && statistics.getAffiliateId() != "ynet"){
            params.addComment.container.find(".logout-n").addClass("invisible");
            params.addComment.container.find(".add-comment-post-comment-new").addClass("invisible");
        }

        params.addComment.container.find(".rich-media-div span").remove();
        params.addComment.container.find(".rich-media-div").addClass("invisible");
        params.addComment.container.find(".emojionearea-editor").text("");

        resetRecorderMessagingView();
	params.addComment.container.find(".recorder-messaging-view").removeClass("flagged").removeClass("pending");

        sendNumberOfCommentsToHost();
    });

}

function setRecordUnavailable(){
    var queryString = querystringUtil.extract(window.location.href);
    if (!queryString.affIdId || queryString.affIdId.toLowerCase() != "farfesh"){
        guidance.showBox(guidance.getBoxIds().textHowTo, true);
        return;
    }


    params.addComment.container.find(".btn-unavailable").removeClass("invisible");
    params.addComment.container.find(".recorder-messaging-view-unavailable").removeClass("invisible");

    params.addComment.container.find(".add-comment-text-input").focus();

    guidance.showBox(guidance.getBoxIds().textHowTo, true);
}
;
    function openReportInappComment(e){
 //   var commentObj = $(e.target).parents('.comment');
    var commentObj = $(($($(e.target).parentsUntil('.comment')).parent())[0]);
    var commentId = commentObj.attr("cid");

    if (params.isWix){
	openWixReportBadModal(commentId, params.page.id);
        return;
    }
    var isSafariNotMobile = $("body").hasClass("safari") && !params.isMobile;
    var offsetTop = calcOffetTop(commentObj[0]) * (lastScaleRatio > 0 && lastScaleRatio != 1? isSafariNotMobile?lastScaleRatio:1 : 1);

    if (lastScaleRatio > 0 && lastScaleRatio != 1 && isSafariNotMobile){
        $("#reportBad").css("width", $("body").width() * 0.98);
	offsetTop -= (250 * lastScaleRatio);
    }else
        offsetTop -= 250;

    $("#reportBadContainer").css("top", $("body.ru").length == 0?offsetTop: (offsetTop-80));

//    $("#reportBadContainer").css("width", "100%");
//    $("#reportBad").css("position", "absolute").css("top", "50%");


    $("#reportBad").attr("cid", commentId);

    $("#addContainerBackground").css("display", "none").css("height", calcOffetTop($("#poweredByLink")[0]) + "px");
    $("#addContainerBackground").removeClass("invisible");

    $("#addContainerBackground").fadeIn("slow", function(){
        $("#addContainerBackground").css("display", "");
        $("#reportBadContainer").removeClass("invisible");
        setExtentedUIReportBad();
        bindReportInappEvents();
    });

    messaging.postMessage(null,messaging.messageTypes.hideRecordingBars, "1");
    sendEvent("Product","CommentFlagClick", "user click on a flag button", { "commentId": commentId, "pageId": params.page.id });

}

function openWixReportBadModal(commentId, pageId){
    if (!commentId || isNaN(commentId) || !pageId || isNaN(pageId))
        return;

    var pageParams = "cid="  + commentId + "&pid=" + pageId + "&sid=" + statistics.getSessionId() + "&aid=" + statistics.getAffiliateId() + "&uid=" + statistics.getGuestId() + "&lang=" + languagesService.getCurrentLanguage() + "&langV=" + params.languagesVersion + "&purl=" + statistics.getPageUrl();

    if (params.recordingButtonsColor != null)
        pageParams += "&recordingIconsColor=" + encodeURIComponent(params.recordingButtonsColor);

    if (params.customFonts != null)
        pageParams += "&customFonts=" + encodeURIComponent(params.customFonts);

    if (params.linksColor)
        pageParams += "&linksColor=" + encodeURIComponent(params.linksColor);

    if (params.cardsColor)
        pageParams += "&cardsColor=" + encodeURIComponent(params.cardsColor);

    if (params.textColor)
        pageParams += "&textColor=" + encodeURIComponent(params.textColor);

    if (params.buttonsColor)
        pageParams += "&buttonsColor=" + encodeURIComponent(params.buttonsColor);

    if (params.storeId)
        pageParams += "&asi=" + encodeURIComponent(params.storeId);

    var windowWidth = 600;
    var windowHeight = 360;
    if (params.isMobile && !params.isTablet) {
        pageParams += "&im=1";
        if (params.isIOS) {
            windowHeight *= (screen.width/windowWidth);
            windowWidth = screen.width;
        }
    } else
        pageParams += "&im=0";

    if(params.isTablet)
        pageParams += "&it=1";
    else
        pageParams += "&it=0";

    messaging.postMessage(null,messaging.messageTypes.wixOpenModal,[params.baseUrl + "b2b_rb.hey?" + pageParams, windowWidth, windowHeight]);
}

function closeReportInappComment(e){
    sendEvent("Product","CloseFlagClick", "flag dialog closing", {"commentId":  $("#reportBad").attr("cid"), "pageId": params.page.id });

    if (params.isWix){
        var message = {"reason": "reported-comment-as-bad"};
        Wix.closeWindow(message);
        return;
    }

    messaging.postMessage(null,messaging.messageTypes.showRecordingBars, "1");

    $("#reportBadContainer").fadeOut("slow", function(){

        $("#addContainerBackground").addClass("invisible");

        $("#reportBadContainer").addClass("invisible");
        $("#reportBadContainer").css("display", "");

        $("#reportBadContainer .thank-you").addClass("invisible");
        $("#reportBadContainer .review-posting-block").removeClass("invisible");
        $("#reportBadContainer .submit-btn").removeClass("invisible");

        $("#reportBad .reporter-name-input").attr("placeholder", $("#reportBad .reporter-name-input").attr("placeholder-default"));
        $("#reportBad .reporter-email-input").attr("placeholder", $("#reportBad .reporter-email-input").attr("placeholder-default"));
        $("#reportBad .reporter-comment-input").attr("placeholder", $("#reportBad .reporter-comment-input").attr("placeholder-default"));

        $("#reportBad .reporter-name-input").val("").removeClass("invalid").blur();
        $("#reportBad .reporter-email-input").val("").removeClass("invalid").blur();
        $("#reportBad .reporter-comment-input").val("").removeClass("invalid").blur();

        $("#reportBad #reportType dt .selected").text($("#reportBad #reportType").find(".default").text());
        $("#reportBad #reportType").removeClass("invalid");

	sendNumberOfCommentsToHost();
    });

}

function isReportInappCommentVisible(){
    return !$("#reportBadContainer").hasClass("invisible") && $("#reportBadContainer").css("display") != "none";
}

function bindReportInappEvents(){
    $("#reportBad .submit-btn").off("click").on("click", postReportInappComment);
}


function postReportInappComment(e){
    if (!isReportFormValidated())
        return;

    sendEvent("Product","PostFlag", "Post an inappropriate complain", {"commentId": $("#reportBad").attr("cid"), "pageId": params.page.id });

    if (!params.isWix) {
        var messageArray = [];
        messageArray.push($("#reportBad").attr("cid"));
        messageArray.push($("#reportBad .reporter-name-input").val());
        messageArray.push($("#reportBad .reporter-email-input").val());
        messageArray.push($("#reportBad #reportType dt .selected").text());
        messageArray.push($("#reportBad .reporter-comment-input").val());
        messageArray.push(params.storeId);
    
        messaging.postMessage(null,messaging.messageTypes.commentFlagged,messageArray,undefined,messaging.messageDestinations.data);
    } else {
        if (userStorage.isEnabled() && userStorage.get(params.cookies.reportCommentCookieName + $("#reportBad").attr("cid")) == userStorage.noResultDefaultValue){
            $.getJSON(params.internalUrl + params.reportUrl + "?jsoncallback=?",{
                pageId: params.page.id,
                commentId: $("#reportBad").attr("cid"),
                userFullName: $("#reportBad .reporter-name-input").val(),
                userEmail: $("#reportBad .reporter-email-input").val(),
                userRemarks: $("#reportBad .reporter-comment-input").val(),
                abuseType: $("#reportBad #reportType dt .selected").text(),
                userId: params.guestId,
                sessionId: params.sessionId,
                affiliateId: params.affiliateId,
                pageUrl: params.pageUrl,
                storeId:params.storeId
            });

            userStorage.set(params.cookies.reportCommentCookieName + $("#reportBad").attr("cid"), "1", params.cookies.reportCommentDuration);
        }
    }

    $("#reportBadContainer .review-posting-block").addClass("invisible");
    $("#reportBadContainer .thank-you").removeClass("invisible");
    if (!params.isWix)
        $("#reportBadContainer .submit-btn").addClass("invisible");
    else
        $("#reportBadContainer .submit-btn").addClass("hidden");

    setTimeout(function(){
        closeReportInappComment();
    }, 3000);


}

function isReportFormValidated(){
    var validated = true;

    var nameInput = $("#reportBad .reporter-name-input");
    if (nameInput.val() == "" ||  $.trim(nameInput.val()) == "" || nameInput.val() == nameInput.attr("placeholder")){
        nameInput.val("");
        validated = false;
        nameInput.addClass("invalid");
        nameInput.attr("placeholder", nameInput.attr("placeholder-missing"));
        nameInput.off("keydown paste").on("keydown paste", function(){var thisObj = $(this); if ( $.trim(thisObj.val()) != "") thisObj.removeClass("invalid"); thisObj.attr("placeholder", thisObj.attr("placeholder-default"));});
    }else{
	nameInput.off("keydown paste");
        nameInput.removeClass("invalid");
        nameInput.attr("placeholder", nameInput.attr("placeholder-default"));
    }

    nameInput.blur();


    var emailIsMissing = false;
    var emailInput = $("#reportBad .reporter-email-input");
    if (emailInput.val() == "" ||  $.trim(emailInput.val()) == "" || emailInput.val() == emailInput.attr("placeholder")){
        emailInput.val("");
        validated = false;
        emailIsMissing = true;
        emailInput.addClass("invalid");
        emailInput.attr("placeholder", emailInput.attr("placeholder-missing"));
	emailInput.off("keydown paste").on("keydown paste", function(){var thisObj = $(this); if ( $.trim(thisObj.val()) != "") thisObj.removeClass("invalid"); thisObj.attr("placeholder", thisObj.attr("placeholder-default"));});
    }else{
        emailInput.off("keydown paste");
        emailInput.removeClass("invalid");
        emailInput.attr("placeholder", emailInput.attr("placeholder-default"));
    }

    if (!emailIsMissing){
        if (emailInput.val() != "" && emailInput.val() != emailInput.attr("placeholder") && !validateEmailRegex.test(emailInput.val())){
            validated = false;
            emailInput.val("");
            emailInput.addClass("invalid");
            emailInput.attr("placeholder", emailInput.attr("placeholder-invalid"));
	    emailInput.off("keydown paste").on("keydown paste", function(){var thisObj = $(this); if ( $.trim(thisObj.val()) != "") thisObj.removeClass("invalid"); thisObj.attr("placeholder", thisObj.attr("placeholder-default"));});
        }else{
	    emailInput.off("keydown paste");
            emailInput.removeClass("invalid");
            emailInput.attr("placeholder", emailInput.attr("placeholder-default"));
        }
    }

    emailInput.blur();


    var commentInput = $("#reportBad .reporter-comment-input");
    if (commentInput .val() == "" || $.trim(commentInput.val()) == "" || commentInput .val() == commentInput .attr("placeholder")){
        commentInput .val("");
        validated = false;
        commentInput .addClass("invalid");
        commentInput .attr("placeholder", commentInput.attr("placeholder-missing"));
        commentInput.off("keydown paste").on("keydown paste", function(){var thisObj = $(this); if ( $.trim(thisObj.val()) != "") thisObj.removeClass("invalid"); thisObj.attr("placeholder", thisObj.attr("placeholder-default"));});
    }else{
        commentInput.off("keydown paste");
        commentInput .removeClass("invalid");
        commentInput .attr("placeholder", commentInput .attr("placeholder-default"));
    }

    commentInput.blur();


    var typeInput = $("#reportBad #reportType");
    if (typeInput.find(".selected").length == 0 || typeInput.find(".selected").text() == typeInput.find(".default").text()){
        validated = false;
        typeInput .addClass("invalid");
    }else{
        typeInput .removeClass("invalid");
    }

    return validated;

}

function calcOffetTop(element){
    if (!element || !element.tagName || element.tagName.toLowerCase() == "body")
        return 0;

    var offsetTop = 0;
    while (element && element.tagName.toLowerCase() != "body"){
        offsetTop += element.offsetTop;
        element = element.parentNode;
    }
    
    return offsetTop;
}
;
    function loadHowToVideo(containerWidth, containerHeight, videoId){
    if (!containerWidth || isNaN(containerWidth))
        YTPlayerWidth = 590;
    else
        YTPlayerWidth = parseInt(containerWidth, 10);

    if (!containerHeight || isNaN(containerHeight))
        YTPlayerHeight = YTPlayerWidth * 0.5625;
    else
        YTPlayerHeight = parseInt(containerHeight, 10);

    if (document.getElementById("youtubeApiTag") != null){
        initPlayer(null, true, videoId);
        //onYouTubeIframeAPIReady();
        return;
    }

    var tag = document.createElement('script');
    tag.src = "//www.youtube.com/iframe_api";
    tag.id = "youtubeApiTag";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
}

var YTPlayer = null;
var YTPlayerWidth = null;
var YTPlayerHeight = null;

/*function onYouTubeIframeAPIReady() {
    YTPlayer = new YT.Player("howToVideoInner", {
        height: YTPlayerHeight,
        width: YTPlayerWidth,
        videoId: '3OLHVlZ_EWk',
        playerVars: { 'autoplay': 1},
        events: {
            'onReady': onHowToPlayerReady,
            'onStateChange': onHowToPlayerStateChange,
            'onError': onHowToPlayerError
        }
    });
}*/

function onHowToPlayerReady(event) {
    event.target.setVolume(100);
    //sendNumberOfCommentsToHost();
    setTimeout(function(){if (typeof(window.messaging) != undefined) return; messaging.postMessage(null,messaging.messageTypes.hideRecordingBars, "1");}, 1000);
}

function onHowToPlayerStateChange(event) {
    if (event.data == YT.PlayerState.PLAYING){
        _gaq.push(['_trackEvent', 'Videos', "B2B-Video-Play", "howTo - FOpXAweXy_U" ]);
    }
    if (event.data == YT.PlayerState.ENDED){
        _gaq.push(['_trackEvent', 'Videos', "B2B-Video-WatchToEnd", "howTo - FOpXAweXy_U" ]);
    }
    if (event.data == YT.PlayerState.PAUSED){
        _gaq.push(['_trackEvent', 'Videos', "B2B-Video-Paused", "howTo - FOpXAweXy_U" ]);
    }
}

function onHowToPlayerError(event){
    _gaq.push(['_trackEvent', 'Videos', "B2B-Video-Error", "howTo - FOpXAweXy_U" ]);

}
;
    var videoCallbackObj = {};
function initYT(){
    var tag = document.createElement('script');
    tag.src = "//www.youtube.com/iframe_api";
    tag.id = "youtubeApiTag" ;
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
}

function loadVideo(playerList, containerWidth, containerHeight){
    YTPlayerWidth = parseInt(containerWidth, 10);
    YTPlayerHeight = parseInt(containerHeight, 10);
    ytPlayerList = playerList;

    if (document.getElementById("youtubeApiTag") != null){
        onYouTubeIframeAPIReady();
        return;
    }
}

var YTPlayerWidth = null;
var YTPlayerHeight = null;
var playersList = Array();
var playerReady = false;
var ytPlayerList = null;
var YTPlayer = null;

function onYouTubeIframeAPIReady() {
    playerReady = true;
    setTimeout(function() {
        initPlayer(ytPlayerList,null,null);
    }, 1000);
}

function initPlayer(ytPlayerList, isHowToVideo, videoId, callback ){
    if (!videoId)
        videoId = loadYouTubeDefaultVideo();
    
    if(isHowToVideo){
          YTPlayer = new YT.Player("howToVideoInner", {
                height: YTPlayerHeight,
                width: YTPlayerWidth,
                videoId: videoId,
                playerVars: { 'autoplay': 1},
                events: {
                    'onReady': onHowToPlayerReady,
                    'onStateChange': onHowToPlayerStateChange,
                    'onError': onHowToPlayerError
                }
            });
        return
    }

    if(!ytPlayerList)
        return;

    if(ytPlayerList.length == 0 )
        return;

    if(typeof(ytPlayerList) === "object" && callback) {
        if(callback)
             videoCallbackObj[ytPlayerList.playerId] =  callback;
        createPlayer(ytPlayerList);
        var playerIdSplits = ytPlayerList.playerId.split("_");
    }else{
        for (var i = 0; i < ytPlayerList.length; i++) {
           if(ytPlayerList[i].deferLoading)
                continue;

           var player = createPlayer(ytPlayerList[i]);
           playersList[i] = player;
           $("#" + ytPlayerList[i].playerId).removeClass("invisible");
           sendNumberOfCommentsToHost();
       }
    }
}

function createPlayer(playerObj){
    return new YT.Player(playerObj.playerId, {
        height: '317.25',
        width: "100%",
        videoId: playerObj.videoId,
        events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange,
            'onError': onPlayerError
        }
    });
}

function onPlayerReady(event) {
    event.target.setVolume(100);


    var playerId, callback;

    if(event.target && event.target.a)
        playerId = event.target.a.id;

    if(playerId && videoCallbackObj)
        callback = videoCallbackObj[playerId];

    if(callback  && typeof(callback) === "function")
        callback(playerId);

    if($("body").hasClass("mobile") && !params.isWix && statistics.getAffiliateId() != "ynet")
        sendNumberOfCommentsToHost();

    setTimeout(function(){if (typeof(window.messaging) != undefined) return; messaging.postMessage(null,messaging.messageTypes.hideRecordingBars, "1");}, 1000);
}

function onPlayerStateChange(event) {
    if (event.data == YT.PlayerState.PLAYING){
        _gaq.push(['_trackEvent', 'Videos', "B2B-Video-Play", "" ]);
    }
    if (event.data == YT.PlayerState.ENDED){
        _gaq.push(['_trackEvent', 'Videos', "B2B-Video-WatchToEnd", ""  ]);
    }
    if (event.data == YT.PlayerState.PAUSED){
        _gaq.push(['_trackEvent', 'Videos', "B2B-Video-Paused", "" ]);
    }
}

function onPlayerError(event){
    _gaq.push(['_trackEvent', 'Videos', "B2B-Video-Error", "" ]);
}

function insertAfter(newNode, referenceNode) {
    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
}

function loadYouTubeDefaultVideo(){
    if (languagesService.getCurrentLanguage() == languagesService.getLanguagesArray().spanish)
        return "BHEzDunCTMI";

    return "FOpXAweXy_U";
}
;

    function bindEvents(){

        $("#displayAllTextCommentsActionSpan").on("click", function(){
            presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS_TEXT);
            displayAllTextComments();
            sendEvent("Product","FilterText", "User clicked to see only text comments", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        });
        $("#playAllVoiceCommentsActionSpan").on("click", function(){
            presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS_VOICE);
            playAllVoiceComments();
            sendEvent("Product","FilterVoice", "User clicked to see only voice comments", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        });
        $("#displayBothActionSpan").on("click", function(){
            presentationMode.setCommentsView(presentationMode.presentationModes.HAS_RESULTS);
            displayAllComments();
            sendEvent("Product","FilterAll", "User clicked to see all comments without filters", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        });

        $("#poweredByLink").on("click", function(){
            sendEvent("Product","PoweredByFooterClick", "User clicked on the powered by link in the footer", ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
        });


        $("#commentsLoadMore").on("click", loadNextPage);
        $("body").on("keydown", function(event){
            if ( event.keyCode == 27 && isReportInappCommentVisible() )
                closeReportInappComment(event);
        });
//        $("#addContainer .close").off("click").on("click", function(){
//            hideSubComment();
//        });
        setAddCommentEvents($("#addCommentContainer .add-container"));

        $("#reportBad .close").off("click").on("click", closeReportInappComment);
    }

    $(document).click(function(e) {
         if($(e.target).attr("class")){
                if($(e.target).attr("class").indexOf("bell-icon") == -1 && $(e.target).attr("class").indexOf("notification-count") == -1 ){
                      $(".notification-area-wrapper").removeClass("shown").addClass("hidden");
                     if($(".notification-count").hasClass("invisible"))
                          $(".bell-icon").removeClass("show").addClass("blur");
                }
          }
	  if($(e.target).attr("class")){
              if($(e.target).attr("class").indexOf("dots") == -1 && $(e.target).attr("class").indexOf("options-menu") == -1 ){
                      $(".options-menu").addClass("hidden");
              }
          }
    });

    function resetPlayCommentView(force){
        if (params.commentPlaying && !force)
            return;

        $(".comment[ctype='" + params.filterDisplayModeEnum.voiceOnly + "'] .audio .play-btn, .comment[ctype='" + params.filterDisplayModeEnum.all + "'] .audio .play-btn").removeClass("invisible");
        $(".comment[ctype='" + params.filterDisplayModeEnum.voiceOnly + "'] .audio .pause-btn, .comment[ctype='" + params.filterDisplayModeEnum.all + "'] .audio .pause-btn").addClass("invisible");

        $(".comment[ctype='" + params.filterDisplayModeEnum.voiceOnly + "'] .recorder-bar-entry, .comment[ctype='" + params.filterDisplayModeEnum.all + "'] .recorder-bar-entry").removeClass("blue");
    }

//     function addLangDetection(){
//         if ((params.page != null && params.page.id) || params.pageLanguage != null)
//             return;
//         loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "jslib/language_data.js", addLangDetectionGuessLanguage);
//     }

//     function addLangDetectionGuessLanguage(){
//       loadFileUtil.loadFile(loadFileUtil.urlTypes.script, params.baseUrl + "jslib/guess_language.js", langDetectionLoaded);
//     }

//     function langDetectionLoaded(){
//         if (params.pageLanguage != null || !window._languageData || !window.guessLanguage)
//             return;

//         detectLanguage(1);
//     }

//     function detectLanguage(tryNumber){
//         if (tryNumber > 5)
//             return;

//         params.pageLanguage = "--";

//         guessLanguage.detect(params.pageText, function(id) {

//             if (id == "unknown"){
//                 clearTimeout(params.languageDetectionTimeouts.retryTimeout);
//                  params.languageDetectionTimeouts.retryTimeout = null;

//                  params.languageDetectionTimeouts.retryTimeout = setTimeout(function(){detectLanguage(++tryNumber);},200);

//                  return;
//              }

//              params.pageLanguage = id;

//          });
//     }

    function loadNextPage(){
        if ( (params.page.numberOfComments + params.page.numberOfSubComments) == $(".block.review:not(.ade) .comment").length )
            return;


        $("#commentsLoadMore").addClass("invisible");
        $("#commentsLoadingMore").removeClass("invisible");

        tempArray = new Array();
        tempArray.push("");
        tempArray.push("");
        tempArray.push($(".block.review:last > .comment:first").attr("cid"));
        tempArray.push("1");
        tempArray.push(params.page && params.page.id?params.page.id:0);

        params.nextPageLoadingFilter = true;


        params.scrollToCommentId = null;

        messaging.postMessage(null,messaging.messageTypes.requestPageComments,tempArray,undefined,messaging.messageDestinations.data);
    }

    function loadAutoRefresh(){
       // if (params.showOnlyAddComment || params.autoRefresh.interval != null)
            return;

        params.autoRefresh.isWorking = false;
        params.autoRefresh.interval = setInterval(autoRefreshComments, params.autoRefresh.timeInterval);
    }

    function autoRefreshComments(){
        if (params.autoRefresh.isWorking)
            return;

        params.autoRefresh.isWorking = true;

        var commentMaxValue = -1;
        $(".comment").each(function() {
            var commentId = parseInt($(this).attr("cid"), 10);
            if (commentMaxValue < commentId)
                commentMaxValue = commentId;
        });

        tempArray = new Array();
        tempArray.push("");
        tempArray.push("");
        tempArray.push(commentMaxValue);


        messaging.postMessage(null,messaging.messageTypes.requestPageComments,tempArray,undefined,messaging.messageDestinations.data);
    }

    function log(_text){
//        if (_text.indexOf("in ") != -1)
            //console.log(_text);
    }

    function sendEvent(channelName,eventName, eventText, additionalParameters, reportBoth){
        if (eventName == undefined || eventName == null)
            return;

        var loweredEventName = eventName.toLowerCase();

        if (loweredEventName == "got user id" ||
            loweredEventName == "app load - 1 -body onload" ||
            loweredEventName == "ui loaded" ||
            loweredEventName == "HeyoyaOpen" ||
            loweredEventName == "appLoaded")
        return;


        if (reportBoth == undefined)
            reportBoth = true;

        try{
            if (reportBoth)
                setTimeout(function(){statistics.report(eventName, additionalParameters)}, 0);

	    if (channelName.toLowerCase() == "product")
            	setTimeout(function(){_gaq.push(['_trackEvent', channelName, eventName, '[' + params.uniqueId + '] '  + eventText]);}, 0);
        }
        catch(err){

        }
    }

    function bodyOnLoad(){
        if (jQuery){
            var heyoyaDemoueryString = querystringUtil.extract(window.location.href);
            if (heyoyaDemoueryString.affIdId == "heyoya-demo-from-site")
                loadEmojioneScript();

            if (navigator && navigator.userAgent) {
                if (navigator.userAgent.toLowerCase().indexOf("ucbrowser") != -1) {
                    params.isUC = true;
                    $("body").addClass("uc");
                }

                if (!params.isUC && navigator.userAgent.toLowerCase().indexOf("safari") != -1 && navigator.userAgent.toLowerCase().indexOf("chrome") == -1)
                    $("body").addClass("safari");

                if (navigator.userAgent.toLowerCase().indexOf("firefox") != -1)
                    $("body").addClass("firefox");

                if (navigator.userAgent.indexOf("MSIE ") > -1 || navigator.userAgent.indexOf("Trident/") > -1 || navigator.userAgent.indexOf("Edge/") > -1)
                    $("body").addClass("ieb");

                if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream){
                    params.isIOS = true;
		            $("body").addClass("ios");
		        }

                if (navigator.userAgent.toLowerCase().indexOf("android") != -1){
                    params.isAndroid = true;
                    $("body").addClass("android");
				}

                if (params.isIOS || params.isAndroid){
                    params.isMobile = true;
                    if (params.isIOS && navigator.userAgent.toLowerCase().indexOf("ipad") != -1) {
                        params.isTablet = true;
                        $( window ).resize(function() {
                            setExtentedUI(true);
                        });
                    } else if (params.isAndroid) {
                        var screenWidth, screenHeight
                        if(screen.height > screen.width){ //portrait
                            screenWidth = screen.width;
                            screenHeight = screen.height;
                        } else {
                            screenWidth = screen.height;
                            screenHeight = screen.width;
                        }

                        /*if (params.isUC){
                            if(screen.height > window.innerWidth){ //portrait
                                screenWidth = window.innerWidth;
                                screenHeight = window.innerHeight;
                            } else {
                                screenWidth = window.innerHeight;
                                screenHeight = window.innerWidth;
                            }
                        }*/

                        if (screenWidth > 481)
                            params.isTablet = true;


                    }

                }


            }

            $(document).ready(function() {
                if (navigator && navigator.userAgent && navigator.userAgent.toLowerCase().indexOf("msie 9") != -1)
                    $("body").addClass("ie9");

                if (params.isMobile)
                    $("body").addClass("mobile");

                if (params.isTablet)
                    $("body").addClass("tablet");

//                if (!params.isAndroid || (params.isMobile && params.isTablet)){
//                    alert("Please open the test from an Android mobile device!");
//                    return;
//                }

                JSONLib.init($);
                errorService.init(statistics, _gaq, JSONLib);

                var queryString = querystringUtil.extract(window.location.href);
                if (queryString && queryString.rina && !isNaN(queryString.rina) && queryString.rina == 1)
                    params.shouldOpenNativeApp = true;

                if (!(queryString && queryString.affIdId  &&  queryString.affIdId == 'ynet'))
                        $("body").addClass("no-margins");


                //adsService.init($, userStorageUtil, JSONLib, null, queryString.affIdId);

                messagingInit();
                messaging.postMessage(null,messaging.messageTypes.loadedUI,"1");


                loadFileUtil.loadFile(loadFileUtil.urlTypes.script," https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/lib/js/emojione.min.js", emojioneReady, params.baseUrl + "js/emojione.min.js");

               //if (queryString && queryString.bw && !isNaN(queryString.bw)){
                //    initScaleFontSize();
                //    setScale(queryString.bw);
                //}

                if (queryString && queryString.sl && queryString.sl == "en")
                    setLoadingView();
                else
                    presentationMode.setCommentsView(presentationMode.presentationModes.NO_RESULTS);

		logoutService.init(statistics, errorService, params.internalUrl + params.userLogoutUrl);
                userNotifications.init(jQuery, $("#notificationsBodyTemplate").val(), $("#notificationsHeadTemplate").val(), $("#emptyNotificationsTemplate").val(), "https://heyoya-notifications.s3-us-west-2.amazonaws.com/", logoutService.shouldKeepUserLoggedIn);


                bindEvents();


                if (queryString.ahdfatr && queryString.ahdfatr == "90211"){
                    params.showOnlyAddComment = true;
                    showOnlyAddCommentHideElements();
                }


                notifications.init(jQuery, $("#notificationsTemplate").val());



                //if (queryString && queryString.affIdId && queryString.affIdId == "v1CDof2Ne4")
                    loadRecorder(true);
                //else
                //    loadRecorder(false);

                var queryString = querystringUtil.extract(window.location.href);

                if(queryString.rt)
                    params.recordingTime = queryString.rt;

                messaging.postMessage(null,messaging.messageTypes.initiatedUI,"1");

                //addLangDetection();

                loadMouseStats();

                if (queryString.iw) {
                    params.isWix = true;
                    $("body").addClass("wix");
                }

                if (params.isMobile && params.isWix)
                    $(".add-container .how-to-video-link").addClass("invisible");

                //if(!params.isWix && statistics.getAffiliateId() != "ynet")  {
                 //   loadFileUtil.loadFile(loadFileUtil.urlTypes.script,"https://cdnjs.cloudflare.com/ajax/libs/jQuery-linkify/2.1.4/linkify.min.js", linkifyMinReady , params.baseUrl + "js/linkify.min.js");
                //}
                 $("textarea.add-comment-text-input").val("");
                setLoadingView();
            });
        }
    }

    function linkifyMinReady(){
        params.linkifyReady = true;
        loadFileUtil.loadFile(loadFileUtil.urlTypes.script,"https://cdnjs.cloudflare.com/ajax/libs/jQuery-linkify/2.1.4/linkify-html.min.js", linkifyHTMLReady , params.baseUrl + "js/linkify-jquery.min.js");
    }

    function linkifyHTMLReady(){
        if(params.linkifyReady)
            params.linkifyHTMLReady.pendingLoad = false;

        if( params.linkifyHTMLReady.pendingData.commentsData != null){
             renderUI(params.linkifyHTMLReady.pendingData.commentsData, params.scrollToCommentId );
        }
    }

    function loadEmojioneScript(){
       loadFileUtil.loadFile(loadFileUtil.urlTypes.script,"https://cdn.rawgit.com/mervick/emojionearea/master/dist/emojionearea.min.js", emojiAreaReady, params.baseUrl + "js/emojionearea.min.js");
    }

    function emojioneReady(){
        params.emoticons.pendingLoad = false;
        if (params.emoticons.pendingRender && params.emoticons.pendingData.commentsData != null){
             renderUI(params.emoticons.pendingData.commentsData, params.scrollToCommentId );
             params.emoticons.pendingData.commentsData = null;
        }
    }

    function emojiAreaReady(){
        params.emojione.pendingEmoAreaLoad = false;
        if (!languagesService.wasLanguagesRendered())
            return;

        try{
           initEmojiArea("textarea.add-comment-text-input");
            $(".emojionearea-picker").on('DOMNodeInserted', function(e) {
                $(this).find("input.search").attr("placeholder",$("#emojiSearch").html());
            });
            setEnterKeyBehaveForIE();
         }catch(err){
             //sendEvent("Tracker","InitEmojioneArea", "Could Not init emoji" , ((params.page && params.page.id)?{ "pageId": params.page.id }:undefined));
         }
    }

    function initEmojiArea(selector){
        window.emojioneVersion = "2.2.7";
        var position = calculatePickerPosition(selector);
        var emoFiltersObj = {"filters" : {recent:{title:"Recent",},smileys_people:{title:"Smileys & People",},animals_nature:{title:"Animals & Nature",},food_drink:{title:"Food & Drink",},activity:{title:"Activity"},travel_places:{title:"Travel & Places",},objects:{title:"Objects",},symbols:{title:"Symbols",},flags:{title:"Flags",}}};
        emoFiltersObj = languagesService.setEmojiLanguage(emoFiltersObj);

        var el = $(selector).emojioneArea({
            pickerPosition: position,
            shortnames: true,
            saveEmojisAs: "shortname",
            buttonTitle: "",
            autocomplete: false,
            useInternalCDN: false,
            useSprite: false,
            filters: emoFiltersObj.filters,
            events: {
              keyup: function (editor, event) {
                    sendEventToAddCommentTextArea(editor, this.getText());
              },
              paste: function (editor, text, html, event) {
                    sendEventToAddCommentTextArea(editor, this.getText());
              },
              click: function (editor, event) {
                  sendEventToAddCommentTextArea(editor, this.getText());
              },
              focus: function(editor, event){
                if($("body").hasClass("safari")){
                    if($(editor).text() == $(editor).attr("placeholder"))
                       $(editor).empty();
                    $(editor).css("color","black");
                }
              },
              'picker.show': function (editor, event) {
                  $("#wrapper").css("min-height",  parseInt($("#wrapper").height()) + parseInt(67));
                   sendNumberOfCommentsToHost();
              },
              'picker.hide': function (editor, event) {
                  $("#wrapper").css("min-height",  parseInt($("#wrapper").height()) - parseInt(67));
                  sendNumberOfCommentsToHost();
              }
            }
        });

        $("body").on("keyup", "input.search", function(){
            var prefix = ":";
            if(this.value.indexOf(prefix) !== 0 ){
              this.value = prefix + this.value;
            }
        });
    }

    function setEnterKeyBehaveForIE(){
        if (navigator.userAgent.indexOf("MSIE ") > -1 || navigator.userAgent.indexOf("Trident/") > -1){
            $(".emojionearea-editor").keypress(function(e) {
                 if(event.keyCode === 10 || e.keyCode  == 13) {
                   event.preventDefault ? event.preventDefault() : (event.returnValue = false);
                   pasteHtmlAtCaret("<br/>");
                }
            });
        }
    }

    function pasteHtmlAtCaret( html ) {
            var sel, range;
            if ( window.getSelection ) {
                // IE9 and non-IE
                sel = window.getSelection();
                if ( sel.getRangeAt && sel.rangeCount ) {
                    range = sel.getRangeAt( 0 );
                    range.deleteContents();
                // Range.createContextualFragment() would be useful here but is
                // only relatively recently standardized and is not supported in
                // some browsers (IE9, for one)
                var el = document.createElement( "div" );
                el.innerHTML = html;
                var frag = document.createDocumentFragment(),
                    node, lastNode;
                while ( ( node = el.firstChild ) ) {
                    lastNode = frag.appendChild( node );
                }
                range.insertNode( frag );

                // Preserve the selection
                if ( lastNode ) {
                    range = range.cloneRange();
                    range.setStartAfter( lastNode );
                    range.collapse( true );
                    sel.removeAllRanges();
                    sel.addRange( range );
                }
            }
        } else if ( document.selection && document.selection.type != "Control" ) {
            // IE < 9
            document.selection.createRange().pasteHTML( html );
        }
    }

   /* function getCaretPosition(editableDiv) {
      var caretPos = 0,
        sel, range;
      if (window.getSelection) {
        sel = window.getSelection();
        if (sel.rangeCount) {
          range = sel.getRangeAt(0);
          //if (range.commonAncestorContainer.parentNode == editableDiv) {
            caretPos = range.endOffset;
          //}
        }
      } else if (document.selection && document.selection.createRange) {
        range = document.selection.createRange();
        if (range.parentElement() == editableDiv) {
          var tempEl = document.createElement("span");
          editableDiv.insertBefore(tempEl, editableDiv.firstChild);
          var tempRange = range.duplicate();
          tempRange.moveToElementText(tempEl);
          tempRange.setEndPoint("EndToEnd", range);
          caretPos = tempRange.text.length;
        }
      }
      return caretPos;
    }*/

    function calculatePickerPosition(selector){
        var position = "bottom";
        if($(selector).parents(".add-comment-reply-container").length > 0){
            var parElement = $(selector).parents(".add-comment-reply-container");
            if($(parElement).parents(".block.review").length > 0 ){
                if($(parElement).parents(".block.review").index() == $(parElement).parents(".block.review").siblings().size()){
                    position = "top";
                    return position;
                }
            }else{
                if($(parElement).next(".block.review").length == 0){
                    position = "top";
                    return position;
                }
            }
        }
        return position;
    }


    function sendEventToAddCommentTextArea(selector, text){
        $(".emojionearea-picker").addClass("hidden");
        $(".emojionearea-button").removeClass("active");
        $($(selector).parents(".form-elements")).find(".add-comment-text-input").val(text);
        $($(selector).parents(".form-elements")).find(".add-comment-text-input").keydown();
    }

    function initGuidance(selectedLanguage){
        return;
        var queryString = querystringUtil.extract(window.location.href);
        if ((selectedLanguage && (selectedLanguage == "ru" || selectedLanguage == "pt")) || params.isMobile || params.isSDK || (queryString.affIdId && ( queryString.affIdId == "kkl" || queryString.affIdId == "kkl-demo" || queryString.affIdId == "ynet" || queryString.affIdId == "ynet-demo" || queryString.affIdId == "ampm" || queryString.affIdId == "maccabi-ynet-demo" || queryString.affIdId == "heyoya-demo" || queryString.affIdId == "daka90-demo" || queryString.affIdId == "daka90" || queryString.affIdId == "khaleejtimes-demo" || queryString.affIdId == "kick-demo" || queryString.affIdId == "kick" || queryString.affIdId == "i24news-demo" || queryString.affIdId == "amg-demo" || queryString.affIdId == "taptica-demo" || queryString.affIdId == "mor-sobol-demo" || queryString.affIdId == "i24news" || queryString.affIdId == "bigbrotheril-demo" || queryString.affIdId == "bigbrotheril" || queryString.affIdId == "makemysushi" || queryString.affIdId == "rikycohen" || queryString.affIdId == "rikycohen-demo" || queryString.affIdId == "maccabi-football" || queryString.affIdId == "maccabi-football-demo" || queryString.affIdId == "AwdUTjLtpN" || queryString.affIdId == "connatix" || queryString.affIdId == "taboola" ||
                queryString.affIdId == "mgid" || queryString.affIdId == "add-demo" || queryString.affIdId == "add" || queryString.affIdId == "hr-bwvtr" || queryString.affIdId == "hr-ndvtr" || queryString.affIdId == "hr-bwvvr" || queryString.affIdId == "hr-ndvvr"  || queryString.affIdId == "linkedin-demo"  || queryString.affIdId == "hapoel-jerusalem-basketball-club" || queryString.affIdId == "hapoel-jerusalem-basketball-club-demo" || queryString.affIdId == "beltlock-demo"  || queryString.affIdId == "102-demo" || queryString.affIdId == "kabbalah-demo" || queryString.affIdId == "thejmj-demo" || queryString.affIdId == "hindustan-demo" || queryString.affIdId == "walla-demo" || queryString.affIdId == "kahalon2-demo" || queryString.affIdId == "VoK32pHVgJ"  )))

            return;

        var hasFlash = false;
        try {
            var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');
            if (fo) {
                hasFlash = true;
            }
        } catch (e) {
            if (navigator.mimeTypes
                    && navigator.mimeTypes['application/x-shockwave-flash'] != undefined
                    && navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin) {
                hasFlash = true;
            }
        }


//        if (!hasFlash){

        var boxRegions = {};
        if (hasFlash)
            boxRegions[guidance.getBoxIds().recordingHowTo] = $("#addCommentContainer .add-comment-record-guidance");
        else {
            if (guidanceText && guidanceText[selectedLanguage])
                    guidanceText[selectedLanguage][guidance.getBoxIds().textHowTo].step_order = "1";

            if (queryString.affIdId == "farfesh")
                guidanceText[selectedLanguage][guidance.getBoxIds().loginHowTo].step_order = "2";
        }

        boxRegions[guidance.getBoxIds().textHowTo] = $("#addCommentContainer .add-comment-text-guidance");

        if (!queryString.affIdId || queryString.affIdId != "farfesh")
            boxRegions[guidance.getBoxIds().titleHowTo] = $("#addCommentContainer .add-comment-title-guidance");

        boxRegions[guidance.getBoxIds().loginHowTo] = $("#addCommentContainer .add-comment-login-guidance");

        guidance.init(jQuery, userStorageUtil, guidanceText, boxRegions, selectedLanguage);

        $('html').off("mouseover").on("mouseover", function(){guidanceHtmlHoverCallback(hasFlash);});

    }

    function guidanceHtmlHoverCallback(hasFlash){
        $('html').off("mouseover");

        $('html').off("mouseout").on("mouseout", function(){
            $('html').off("mouseout");

            if (params.mouseHoverRecordingGuidanceTimeout == null)
                return;

            clearTimeout(params.mouseHoverRecordingGuidanceTimeout);
            params.mouseHoverRecordingGuidanceTimeout = null;

            $('html').off("mouseover").on("mouseover", function(){guidanceHtmlHoverCallback(hasFlash);});
        });

        params.mouseHoverRecordingGuidanceTimeout = setTimeout(function(){
            clearTimeout(params.mouseHoverRecordingGuidanceTimeout);
            params.mouseHoverRecordingGuidanceTimeout = null;

            if (hasFlash)
                guidance.showBox(guidance.getBoxIds().recordingHowTo, true);
            else
                guidance.showBox(guidance.getBoxIds().textHowTo, true);

        }, 3000);
    }

    var bodyWidthLastScale = 0;
    var lastScaleRatio = 0;
    function setScale(bodyWidth){
        var queryString = querystringUtil.extract(window.location.href);

        if( (queryString.affIdId && queryString.affIdId.toLowerCase() == "farfesh") ||
            (!params.isMobile && bodyWidth > 590  && queryString.affIdId && queryString.affIdId.toLowerCase() == "thehopeline-demo") ){
            if ($("body").hasClass("scaled"))
                bodyWidth = 620;
            else
                return;
        }

        var scaleOnObject = $("body");
	    var scaleOnObject2 = null;
        if (!params.isMobile && scaleOnObject.hasClass("safari"))
             scaleOnObject = $("#wrapper");


        try{
            if ((!bodyWidth || isNaN(bodyWidth)) && bodyWidthLastScale == 0)
                return;
            else if (!bodyWidth || isNaN(bodyWidth))
                bodyWidth = bodyWidthLastScale;
            else
                bodyWidthLastScale = bodyWidth;

            var minWidth = parseInt($("body").css("min-width"), 10);
            var bodyWidth = parseInt(bodyWidth, 10);

            if (bodyWidth < minWidth){
                if (scaleOnObject.attr("id") != undefined && $("#recorderFLObjCont").attr("moved") == undefined) {
                    $("body").prepend($("#recorderFLObjCont"));
                    $("#recorderFLObjCont").attr("moved", "1");
                }

                if (!params.isMobile && ($("body").hasClass("firefox") || $("body").hasClass("safari"))){
                    $("#addContainerBackground").append($("#reportBadContainer"));

                    if ($("body").hasClass("safari"))
                        scaleOnObject2 = $("#reportBadContainer");
                    else
                        $("#headerText").append($("#numberOfComments"));


                }


                var scaleRatio = bodyWidth / minWidth;

                lastScaleRatio =  scaleRatio;

                var leftValue = 0;
                if ($("body").hasClass("rtl"))
                    leftValue = "0";
                if($("body").hasClass("rtl") && ($("body").hasClass('ieb') || $("body").hasClass('safari')))
                    leftValue = "right"

                if (navigator && navigator.userAgent && (
                    navigator.userAgent.toLowerCase().indexOf("firefox") != -1 || (params.isMobile && params.isAndroid )// && navigator.userAgent.toLowerCase().indexOf("chrome") != -1)
                    ))
                    leftValue = "left";

                scaleOnObject.css("-ms-transform", "scale(" + scaleRatio + ")"); /* IE 9 */
                if (leftValue == "right" && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().indexOf("msie 9") != -1)
                    scaleOnObject.css("-ms-transform-origin", leftValue + " 0");
                else
                    scaleOnObject.css("-ms-transform-origin", "0 0");

                scaleOnObject.css("-moz-transform", "scale(" + scaleRatio + ") rotate(0.001deg)"); /* Firefox */
                scaleOnObject.css("-moz-transform-origin", leftValue + "  0 0");
                scaleOnObject.css("-o-transform", "scale(" + scaleRatio + ")"); /* Opera */
                scaleOnObject.css("-o-transform-origin", leftValue + "  0 0");
                scaleOnObject.css("-webkit-transform", "scale(" + scaleRatio + ")"); /* Safari And Chrome */
                scaleOnObject.css("-webkit-transform-origin", leftValue + "  0 0");
                scaleOnObject.css("transform-origin", leftValue + " 0 0");  /* Standard Property */
		        if (params.isMobile || (navigator.userAgent.toLowerCase().indexOf("firefox") == -1 && navigator.userAgent.toLowerCase().indexOf("chrome") == -1))
                    scaleOnObject.css("transform", "scale(" + scaleRatio + ") "); /* Standard Property */
                else if (navigator.userAgent.toLowerCase().indexOf("firefox") == -1)
                    scaleOnObject.css("transform", "scale(" + scaleRatio + ")"); /* Standard Property */
                else //firefox desktop
                    scaleOnObject.css("transform", "perspective(1px) scale(" + scaleRatio + ") rotate(0.001deg)"); /* Standard Property */

                if (scaleOnObject2 != null){
                    scaleOnObject2.css("-moz-transform", "scale(" + scaleRatio + ") rotate(0.001deg)"); /* Firefox */
                    scaleOnObject2.css("-moz-transform-origin", leftValue + "  0 0");

                    scaleOnObject2.css("-webkit-transform", "scale(" + scaleRatio + ")"); /* Safari And Chrome */
                    scaleOnObject2.css("-webkit-transform-origin", leftValue + "  0 0");

                    if (navigator.userAgent.toLowerCase().indexOf("firefox") == -1)
                        scaleOnObject2.css("transform", "scale(" + scaleRatio + ") "); /* Standard Property */
                    else
                        scaleOnObject2.css("transform", "perspective(1px) scale(" + scaleRatio + ") rotate(0.001deg)"); /* Standard Property */
                }

                $("body").addClass("scaled");


              //  if (params.isMobile)
                    setScaleFontSize(true, scaleRatio);

                params.displayScale = scaleRatio;
                messaging.postMessage(null,messaging.messageTypes.setHeyoyaDivOverflow,"1");

            } else {

                setRetakeReplayBtnRightIE();

                if (!$("body").hasClass("scaled"))
                        return;

                lastScaleRatio =  1;

                scaleOnObject.css("-ms-transform", ""); /* IE 9 */
                scaleOnObject.css("-ms-transform-origin", "");
                scaleOnObject.css("-moz-transform", ""); /* Firefox */
                scaleOnObject.css("-moz-transform-origin", "");
                scaleOnObject.css("-o-transform", ""); /* Opera */
                scaleOnObject.css("-o-transform-origin", "");
                scaleOnObject.css("-webkit-transform", ""); /* Safari And Chrome */
                scaleOnObject.css("-webkit-transform-origin", "");
                scaleOnObject.css("transform", ""); /* Standard Property */
                scaleOnObject.css("transform-origin", "");  /* Standard Property */

                if (scaleOnObject2 != null){
                    scaleOnObject2.css("-moz-transform", ""); /* Firefox */
                    scaleOnObject2.css("-moz-transform-origin", "");
                    scaleOnObject2.css("-webkit-transform", "translateZ(0);"); /* Safari And Chrome */
                    scaleOnObject2.css("-webkit-transform-origin", "");
                    scaleOnObject2.css("transform", "translateZ(0); "); /* Standard Property */
                    scaleOnObject2.css("transform-origin", "");  /* Standard Property */
                }



                $("body").removeClass("scaled");

                //if (params.isMobile)
                    setScaleFontSize(false, 1);

                params.displayScale = 1;
                messaging.postMessage(null,messaging.messageTypes.setHeyoyaDivOverflow,"0");

            }

        } catch (err){
            lastScaleRatio =  1;

            scaleOnObject.css("-ms-transform", ""); /* IE 9 */
            scaleOnObject.css("-ms-transform-origin", "");
            scaleOnObject.css("-moz-transform", ""); /* Firefox */
            scaleOnObject.css("-moz-transform-origin", "");
            scaleOnObject.css("-o-transform", ""); /* Opera */
            scaleOnObject.css("-o-transform-origin", "");
            scaleOnObject.css("-webkit-transform", ""); /* Safari And Chrome */
            scaleOnObject.css("-webkit-transform-origin", "");
            scaleOnObject.css("transform", ""); /* Standard Property */
            scaleOnObject.css("transform-origin", "");  /* Standard Property */

            if (params.isSDK)
                setScaleFontSize(false, 1);

            params.displayScale = 1;
            messaging.postMessage(null,messaging.messageTypes.setHeyoyaDivOverflow,"0");
        }

        if (!params.isIOS && params.isUC && params.isMobile){
            addStylesheetUtil.removeStylesheet("addCommentTextInputSheet");
            if ($("body").hasClass("scaled") && screen.height > screen.width && !$("body").hasClass("rtl")){
                var addCommentTextInputSheet = addStylesheetUtil.createNewStylesheet("addCommentTextInputSheet");
                var scale = 2 - ( $("#addCommentContainer .submission-form textarea").width() / $("#addCommentContainer .container").width() );
                var oldWidth = $("#addCommentContainer .submission-form textarea")[0].getBoundingClientRect().width;
                addStylesheetUtil.addCSSRule(addCommentTextInputSheet, ".add-container .add-comment-text-input", "transform:scale(" + scale + ") !important;font-size:16px !important;");
                addStylesheetUtil.addCSSRule(addCommentTextInputSheet, ".add-container .add-comment-text-input", "-webkit-transform:scale(" + scale + ") !important;");
                var newWidth = $("#addCommentContainer .submission-form textarea")[0].getBoundingClientRect().width;
                addStylesheetUtil.addCSSRule(addCommentTextInputSheet, ".add-container .add-comment-text-input", "margin:20px 0 20px " + ( newWidth - oldWidth ) + "px !important;");

            }
        }

        if (window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf("Trident") != -1){
            $('.add-container .btn-clear').each(function(){
                var clearBtn = $(this);
                clearBtn.attr("style", clearBtn.prev().attr("style"));
            });
        }

        setRetakeReplayBtnRightIE();
        $("body.rtl #poweredByLink span").css("transform-origin","right");
        sendNumberOfCommentsToHost();
    }

   function setRetakeReplayBtnRightIE() {
       if ($("body").hasClass('ieb')&& !$("body").hasClass('extended')) {
           $('.review-post .container .content-right-box').each(function (index) {
               if ($(this).is(':visible')){
                   if(!$("body").hasClass('rtl')){
                       var right;
                       if ($("body").hasClass("scaled")) {
                           right = ( $(this).parent().width() * lastScaleRatio + parseInt($(this).parent().css('padding-left').replace('px', ''))) - ($(this).width() * lastScaleRatio + $(this).position().left );
                           right = right * lastScaleRatio - 1;
                           if ($(this).parent().parent().hasClass("comment-sub"))
                               right = right - 2 / lastScaleRatio;
                       }
                       else
                           right = ( $(this).parent().width() + parseInt($(this).parent().css('padding-left').replace('px', ''))) - ($(this).width() + $(this).position().left) - 2;

                       if (right >= 0)
                           $(this).parent().find('.btn-retake').attr('style', $(this).parent().find('.btn-retake').attr('style')+';right:' + right + 'px !important');
                   }else{
                        $(this).parent().find('.btn-retake').attr('style','right: auto !important');
                   }
               }
           });
       }
   }

    function initScaleFontSize() {
        if (params.responsivenessChangeableElements != null) {
            try {
                params.responsivenessChangeableElements.length = 0;
            } catch (err) {
                params.responsivenessChangeableElements = [];
            }
        } else
            params.responsivenessChangeableElements = [];

	params.responsivenessChangeableElements.push({'key':'.no-comments','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.review-post .text-block, .review-post .number_of_likes ','type':'fontsize'});
	params.responsivenessChangeableElements.push({'key':'.review-post .text-wrap p, .review-post header .header-l .reply-on-full-name','type':'fontsize', addition: -3});
        params.responsivenessChangeableElements.push({'key':'input[type="text"],input[type="tel"],input[type="email"],input[type="url"],input[type="password"],input[type="search"],textarea','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.btn-retake, .btn-clear','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.social-networks.inline li a','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.btn','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.btn.middle','type':'fontsize', addition: -3});
        params.responsivenessChangeableElements.push({'key':'.block .content-right-box .link-record-voice','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.msg-bar','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.processing .processing-info','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.h2','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.h2 .small','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.h2 .headline-text','type':'fontsize',  addition: -2});

	params.responsivenessChangeableElements.push({'key':'.comment-disabled span','type':'font-size'});
        //params.responsivenessChangeableElements.push({'key':'.comment-disabled span','type':'bottom'});

        params.responsivenessChangeableElements.push({'key':'.add-container .how-to-video-link','type':'fontsize'});
	params.responsivenessChangeableElements.push({'key':'#numberOfComments','type':'fontsize'});

        params.responsivenessChangeableElements.push({'key':'.equalizer .time','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.review-posting-block .title','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.review-posting-block h2','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.review-posting-block h3','type':'fontsize'});
        //params.responsivenessChangeableElements.push({'key':'.signin-form','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.signin-form input[type="button"]','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.review-posting-block .login-explanation','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.signin-selection .signin-small-message','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.login-with-social ','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key': '.gdpr-agreement-text ', 'type': 'fontsize',  addition: 2 });
        params.responsivenessChangeableElements.push({'key':'.btn-long','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.types-list li a','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.btn-review','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.review-post header .header-r .time','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.review-post .product-title, .comment-header','type':'fontsize', addition: -4});
        params.responsivenessChangeableElements.push({'key':'.view','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.reviews-block .heading h1','type':'fontsize', addition: -3});
        params.responsivenessChangeableElements.push({'key':'.or-wrap .or','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.powered-by','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.no-comments .headline','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'#reportBad .h2','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'#reportBad .report-form .field-wrap','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.user-guidance .text .close-link','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.user-guidance .text .title','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.user-guidance .text .text-body','type':'fontsize'});
        params.responsivenessChangeableElements.push({'key':'.user-guidance .text .footer','type':'fontsize'});

	params.responsivenessChangeableElements.push({'key':'.review-post .social-networks.share li a, .review-post .icon-love, .flag, #reportBad .close, .add-container .close','type':'scale'});
        params.responsivenessChangeableElements.push({'key':'.review-post .social-networks.share li a, .flag, #reportBad .close, .add-container .close','type':'width'});
        params.responsivenessChangeableElements.push({'key':'.review-post .social-networks.share li a, .flag, #reportBad .close, .add-container .close','type':'height'});

        if (!$("body").hasClass("es"))
            params.responsivenessChangeableElements.push({'key': '.review-post .btn-retake, .add-container .btn-retake, .add-container .btn-clear','type': 'width'});
        else {
            params.responsivenessChangeableElements.push({'key': '.add-container .btn-retake, .add-container .btn-clear','type': 'width'});
            params.responsivenessChangeableElements.push({'key': '.review-post .btn-retake','type': 'width','addition': 25});
        }

	//params.responsivenessChangeableElements.push({'key':'.review-post .text-wrap p, .review-post header .header-l .reply-on-full-name','type':'width'});
        if (!params.isIOS)
		params.responsivenessChangeableElements.push({'key':'.review-post .text-wrap p','type':'width'});

        if (!params.isMobile || params.isTablet)
            params.responsivenessChangeableElements.push({'key':'.add-container .add-signout-comment-post-comment','type':'width'});

        if (navigator.userAgent.toLowerCase().indexOf("msie") != -1 || navigator.userAgent.toLowerCase().indexOf("trident") != -1)
            params.responsivenessChangeableElements.push({'key':'.add-container .add-comment-title-input','type':'height'});
        else
            params.responsivenessChangeableElements.push({'key':'.add-container .add-comment-title-input','type':'height', addition: 15});

        params.responsivenessChangeableElements.push({'key':'.review-post .footer-l .like','type':'height', ignoreLineHeight: true});
	params.responsivenessChangeableElements.push({'key':'.review-post .footer-l .like a','type':'width'});
	params.responsivenessChangeableElements.push({'key':'.review-post .footer-l .like .number_of_likes','type':'fontsize'});
	//params.responsivenessChangeableElements.push({'key':'.review-post .footer-l .like','type':'width'});
	params.responsivenessChangeableElements.push({'key':'.review-post footer .reply','type':'height'});

	if (params.isMobile && !params.isTablet && statistics.getAffiliateId() != "ynet") {
            params.responsivenessChangeableElements.push({'key':'.review-post footer .reply','type':'fontsize', addition: 3});
            params.responsivenessChangeableElements.push({'key':'.review-post footer .reply','type':'width'});
            params.responsivenessChangeableElements.push({'key':'.review-post .social-networks.share li a, .review-post .icon-love','type':'scale', addition: 0.25});
            params.responsivenessChangeableElements.push({'key':'.review-post .social-networks.share li a','type':'width', addition: 1});

	}

        params.responsivenessChangeableElements.push({'key':'.add-container .add-comment-text-input','type':'classAddition', newClass: 'darkerText'});

        if (!params.isMobile && (navigator.userAgent.toLowerCase().indexOf("msie") != -1 || navigator.userAgent.toLowerCase().indexOf("trident") != -1 || navigator.userAgent.toLowerCase().indexOf("edge") != -1)){
            params.responsivenessChangeableElements.push({'key': '.block .content-right-box, .scaled .review-post .btn-reply, .review-post .btn-placeholder','type': 'classAddition',newClass: 'ie'});
	    params.responsivenessChangeableElements.push({'key': '.add-container .add-comment-white-bg','type': 'classAddition',newClass: 'ie'});
        }

        if (params.isMobile)
	        params.responsivenessChangeableElements.push({'key':'.add-container .recorder-default-view .link-record-voice','type':'classAddition', newClass: 'bold'});

        if (params.isMobile || (navigator.userAgent.toLowerCase().indexOf("msie") != -1 || navigator.userAgent.toLowerCase().indexOf("trident") != -1))
            params.responsivenessChangeableElements.push({'key':'.equalizer .time','type':'classAddition', newClass: 'higher'});

        if (!params.isMobile && ($("body").hasClass("firefox") || $("body").hasClass("safari")))
            params.responsivenessChangeableElements.push({'key':'#reportBad .report-form .field-wrap.email','type':'classAddition', newClass: 'float-right'});

        if (params.isMobile  && !$("body").hasClass("ru") && !params.isTablet){
            if (!params.isIOS || ((screen.height > screen.width && screen.width < 400) || (screen.height < screen.width && screen.height < 400)))
	            params.responsivenessChangeableElements.push({'key':'.add-container .recorder-default-view .link-record-voice','type':'fontsize', addition: 2});
            params.responsivenessChangeableElements.push({'key':'.add-container .add-comment-text-input', 'type':'fontsize', addition: 4});

	    params.responsivenessChangeableElements.push({'key':'.add-container .signin-form input, .add-container .submission-form add-comment-title-input', 'type':'fontsize', addition: 3});
            params.responsivenessChangeableElements.push({'key':'.add-container .add-signout-comment-post-comment', 'type':'fontsize', addition: 3});
	    params.responsivenessChangeableElements.push({'key':'.add-container .signout-div', 'type':'fontsize', addition: 2});

        }

            if (!params.isMobile) {
            params.responsivenessChangeableElements.push({'key': '.add-container .signout-div','type': 'fontsize',addition: 1});
            params.responsivenessChangeableElements.push({'key': '.add-container .signout-div .user-photo ','type':'classAddition', newClass: 'float-left'});
            if (!$("body").hasClass("safari")){
                params.responsivenessChangeableElements.push({'key':'#recorderFLObjCont','type':'scale', addition: 0.3});
                params.responsivenessChangeableElements.push({'key':'#recorderFLObjCont','type':'classAddition', newClass: 'scaled'});
                }
            }

        params.responsivenessChangeableElements.push({'key':'.social-networks.share li a','type':'classAddition', newClass: 'mobile-scale'});

        params.responsivenessChangeableElements.push({'key':'#displayBothActionSpan .lang','type':'textChange', newLangId: "alternate_voice_and_text"} );

        params.responsivenessChangeableElements.push({'key':'.add-container .add-comment-title-input','type':'textChange', newLangId: "alternate_enter_a_title_logged_out"} );
        params.responsivenessChangeableElements.push({'key':'.add-container .add-comment-title-input','type':'textChange', newLangId: "alternate_enter_a_title_logged_out"} );
        params.responsivenessChangeableElements.push({'key':'.add-container .recorder-default-view .link-record-voice','type':'textChange', newLangId: "alternate_start_recording"});

            if (params.isUC)
            //params.responsivenessChangeableElements.push({'key':'.add-container .submission-form .add-comment-text-input','type':'scale'});
	    params.responsivenessChangeableElements.push({'key':'.add-container .ucbrowser-install-message *','type':'fontsize'});

        $.each(params.responsivenessChangeableElements, function(index){
                var type = params.responsivenessChangeableElements[index].type;
            $(params.responsivenessChangeableElements[index].key).each(function(elementIndex){
                if (type == "fontsize"){
                    if ($(this).attr("fontsize") == undefined && $(this).css("font-size") != undefined){
                            $(this).attr("fontsize", $(this).css("font-size").replace("px", ""));
                        }
                } else if (type == "width"){
                        if ($(this).attr("width") == undefined && $(this).css("width") != undefined)
                            $(this).attr("width", $(this).css("width").replace("px", ""));

                        if ($(this).attr("max-width") == undefined && $(this).css("max-width") != undefined)
                            $(this).attr("max-width", $(this).css("max-width").replace("px", ""));

                        if ($(this).attr("min-width") == undefined && $(this).css("min-width") != undefined)
                            $(this).attr("min-width", $(this).css("min-width").replace("px", ""));

               } else if (type == "height"){
                    if ($(this).attr("height") == undefined && $(this).css("height") != undefined){
                            $(this).attr("height", $(this).css("height").replace("px", ""));
                        }

                    if ($(this).attr("line-height") == undefined  && $(this).css("line-height") != undefined){
                            $(this).attr("line-height", $(this).css("line-height").replace("px", ""));
                        }
                } else if (type == "textChange"){
                        if ($(this).attr("textChange") == undefined)
                            $(this).attr("textChange", $(this).text());
                } else if (type == "bottom"){
                        if ($(this).attr("bottom") == undefined)
                            $(this).attr("bottom", $(this).css("bottom").replace("px", ""));
                    }
                
                });
            });
        }

    function setScaleFontSize(inScaleMode, scaleRatio){
        if (!inScaleMode)
            inScaleMode = false;
        else
            inScaleMode = true;


        if (!inScaleMode){
            $.each(params.responsivenessChangeableElements, function(index){
                var type = params.responsivenessChangeableElements[index].type;
                var ignoreLineHeight = params.responsivenessChangeableElements[index].ignoreLineHeight;
                $(params.responsivenessChangeableElements[index].key).each(function(elementIndex){
                    if (type == "fontsize")
                        $(this).css("font-size", $(this).attr("fontsize") + "px");
                    else if (type == "width"){
                        if ($(this).attr("width") != undefined)
                            $(this).css("width", $(this).attr("width")  + "px");

                        if ($(this).attr("max-width") != undefined)
                            $(this).css("max-width", $(this).attr("max-width")  + "px");

                        if ($(this).attr("min-width") != undefined)
                            $(this).css("min-width", $(this).attr("min-width")  + "px");
                    } else if (type == "height"){
                        $(this).css("height", $(this).attr("height")  + "px");
                        if (!ignoreLineHeight)
                            $(this).css("line-height", $(this).attr("line-height")  + "px");
                    } else if (type == "classAddition")
                        $(this).removeClass(params.responsivenessChangeableElements[index].newClass);
                    else if (type == "textChange")
                        $(this).html($(this).attr("textChange"));
                    else if (type == "bottom")
                        $(this).css("bottom", $(this).attr("bottom")  + "px");
                    else if (type == "scale"){
                        $(this).css("-ms-transform", ""); /* IE 9 */
                        $(this).css("-moz-transform", ""); /* Firefox */
                        $(this).css("-o-transform", ""); /* Opera */
                        $(this).css("-webkit-transform", ""); /* Safari And Chrome */
                        $(this).css("transform", ""); /* Standard Property */
                        $(this).css("-ms-transform-origin", "");
                        $(this).css("-moz-transform-origin", "");
                        $(this).css("-o-transform-origin", "");
                        $(this).css("-webkit-transform-origin", "");
                        $(this).css("transform-origin", "");  /* Standard Property */
                    }
                });
            });
        } else {
            $.each(params.responsivenessChangeableElements, function(index){
                var type = params.responsivenessChangeableElements[index].type;
                var ignoreLineHeight = params.responsivenessChangeableElements[index].ignoreLineHeight;
                $(params.responsivenessChangeableElements[index].key).each(function(elementIndex){
                    if (type == "fontsize"){
                        var newFontSize = ( parseInt($(this).attr("fontsize")) +
                                            ( (params.responsivenessChangeableElements[index]["addition"] != undefined && !isNaN(params.responsivenessChangeableElements[index]["addition"]) )? params.responsivenessChangeableElements[index]["addition"] : 0) )
                                            * ( 1 + (1 - scaleRatio)  );
                        $(this).css("font-size", newFontSize + "px");
                    } else if (type == "width"){
                        if ($(this).attr("width") != undefined && $(this).attr("width") != "0")
                            $(this).css("width", ( parseInt($(this).attr("width")) + ( (params.responsivenessChangeableElements[index]["addition"] != undefined && !isNaN(params.responsivenessChangeableElements[index]["addition"]) )? params.responsivenessChangeableElements[index]["addition"] : 0) ) * ( 1 + (1 - scaleRatio)  )  + "px");

                        if ($(this).attr("max-width") != undefined  && $(this).attr("max-width") != "0")
                            $(this).css("max-width", $(this).attr("max-width") * (1 + ((1 - scaleRatio )  ))  + "px");

                        if ($(this).attr("min-width") != undefined  && $(this).attr("min-width") != "0")
                            $(this).css("min-width", $(this).attr("min-width") * (1 + ((1 - scaleRatio )  ))  + "px");


                    } else if (type == "height"){
                    //    $(this).css("height", $(this).attr("height") * (1 + ((1 - scaleRatio)  ))  + "px");
                        $(this).css("height", ( parseInt($(this).attr("height")) + ( (params.responsivenessChangeableElements[index]["addition"] != undefined && !isNaN(params.responsivenessChangeableElements[index]["addition"]) )? params.responsivenessChangeableElements[index]["addition"] : 0) ) * (1 + ((1 - scaleRatio)  ))  + "px");
                        if (!ignoreLineHeight)
                            $(this).css("line-height", $(this).attr("line-height") * (1 + ((1 - scaleRatio)  ))  + "px");
                    } else if (type == "classAddition")
                        $(this).addClass(params.responsivenessChangeableElements[index].newClass);
                    else if (type == "textChange"){
                        $(this).html($("#additionalText .lang[lang_id='" + params.responsivenessChangeableElements[index].newLangId + "']").html());
                    } else if (type == "bottom"){
                        $(this).css("bottom", ($(this).attr("bottom") * (1/scaleRatio))  + "px");
                    } else if (type == "scale"){
                        var scaleAddition = ( (params.responsivenessChangeableElements[index]["addition"] != undefined && !isNaN(params.responsivenessChangeableElements[index]["addition"]) )? params.responsivenessChangeableElements[index]["addition"] : 0);
                        $(this).css("-ms-transform", "scale(" + ((1 + scaleAddition) + ((1 - scaleRatio)  )) + ")"); /* IE 9 */
                        $(this).css("-moz-transform", "scale(" + ((1 + scaleAddition) + ((1 - scaleRatio)  )) + ") rotate(0.001deg)"); /* Firefox */
                        $(this).css("-o-transform", "scale(" + ((1 + scaleAddition) + ((1 - scaleRatio)  )) + ")"); /* Opera */
                        $(this).css("-webkit-transform", "scale(" + ((1 + scaleAddition) + ((1 - scaleRatio)  )) + ")"); /* Safari And Chrome */

                        if (params.isMobile || (navigator.userAgent.toLowerCase().indexOf("firefox") == -1 && navigator.userAgent.toLowerCase().indexOf("chrome") == -1))
                            $(this).css("transform", "scale(" + ((1 + scaleAddition) + ((1 - scaleRatio)  )) + ")"); /* Standard Property */
                        else if (navigator.userAgent.toLowerCase().indexOf("firefox") == -1)
                            $(this).css("transform", "scale(" + ((1 + scaleAddition) + ((1 - scaleRatio)  )) + ")"); /* Standard Property */
                        else
                            $(this).css("transform", "perspective(1px) scale(" + ((1 + scaleAddition) + ((1 - scaleRatio)  )) + ") rotate(0.001deg)"); /* Standard Property */


                        if (params.responsivenessChangeableElements[index].key.indexOf("#recorderFLObjCont") != -1 &&
                                ($("body").hasClass("safari") || navigator.userAgent.toLowerCase().indexOf("msie") != -1 ||
                                navigator.userAgent.toLowerCase().indexOf("trident") != -1 || navigator.userAgent.toLowerCase().indexOf("edge") != -1) ){
                            $(this).css("-ms-transform", "scale(" + (1 / scaleRatio) + ")"); /* IE 9 */
                            $(this).css("-webkit-transform", "scale(" + (1 / scaleRatio) + ")"); /* Safari And Chrome */
                            $(this).css("transform", "scale(" + (1 / scaleRatio) + ")"); /* Standard Property */
                        }


                        $(this).css("-ms-transform-origin", "0 0");
                        $(this).css("-moz-transform-origin", "0 0 0");
                        $(this).css("-o-transform-origin", "0 0 0");
                        $(this).css("-webkit-transform-origin", "0 0 0");
                        $(this).css("transform-origin", "0 0 0");  /* Standard Property */

                    }


                });
            });
        }
    }

    var whitelabelStartInterval = null;
    function languagesCallback(){
//        sendEvent("Tracker", "languagesCallback start", "in languagesCallback function", undefined, true);
        initScaleFontSize();
        setLoadingView();
        setCommentsTime();
        setAddCommentEvents($("#addCommentContainer"));

        if (params.isMobile &&  !params.isTablet)
            $("#addCommentContainer .add-comment-title-input").val(params.mobileDefaultTitle);


        var queryString = querystringUtil.extract(window.location.href);
        if (queryString && queryString.bw && !isNaN(queryString.bw)) {
            if (queryString.bw < 320)
                $("body").addClass("two-fifty");

            setScale(queryString.bw);
        } else
           setScale();

        if (params.pendingWLExecution){
//            params.pendingWLExecution = false;
            if (undefined != typeof startWhitelabeling && typeof startWhitelabeling == "function")
                startWhitelabeling();
            else {
                if (whitelabelStartInterval == null){

                    whitelabelStartInterval = setInterval(function(){

                        if (undefined != typeof startWhitelabeling && typeof startWhitelabeling == "function"){
                            clearInterval(whitelabelStartInterval);
                            startWhitelabeling();
                        }



                    }, 100);


                }
            }
        }

        setPlaceholder();

        var externalLoginUrl = params.internalUrl;
        if (window.navigator && window.navigator.userAgent && (window.navigator.userAgent.toLowerCase().indexOf("msie ") != -1 || window.navigator.userAgent.toLowerCase().indexOf("trident") != -1))
            externalLoginUrl = params.receiverStaticUrl;

        loginService.init($, params.internalUrl.replace("http://", "https://"), externalLoginUrl.replace("http://", "https://"), heyoyaLoginService, facebookLoginService, googleLoginService, linkedinLoginService, twitterLoginService, loginCallback, statistics.getUserStation());
//        sendEvent("Tracker", "languagesCallback end", "in languagesCallback function", undefined, true);

        share.setLanguages(languagesService.getCurrentLanguage(), languagesService.getLanguagesArray());


        if (!params.emojione.pendingEmoAreaLoad)
            emojiAreaReady()

        //renderCommentsRichMedia();

        if (params.isAndroidCanRecord && !params.isTablet)
            $(".add-comment-title-input").attr("placeholder", $(".add-comment-title-input").attr("placeholder-android-mobile"));

        if ( document.cookie && document.cookie.indexOf("heyowner") != -1 && document.cookie.indexOf("heyowner=" + queryString.affIdId) != -1) {
            setTimeout(function () {
                if ($("body").hasClass("body-admin"))
                    return;

                try {
                    adroll_adv_id = "7BOKDZTEY5CUBFR6EAUJC4";
                    adroll_pix_id = "L3MFNNFC3JHKFJYXRMDEAR";
                    /* OPTIONAL: provide email to improve user identification */
                    /* adroll_email = "username@example.com"; */
                    (function () {
                        var _onload = function () {
                            if (document.readyState && !/loaded|complete/.test(document.readyState)) {
                                setTimeout(_onload, 10);
                                return
                            }
                            if (!window.__adroll_loaded) {
                                __adroll_loaded = true;
                                setTimeout(_onload, 50);
                                return
                            }
                            var scr = document.createElement("script");
                            var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
                            scr.setAttribute('async', 'true');
                            scr.type = "text/javascript";
                            scr.src = host + "/j/roundtrip.js";
                            ((document.getElementsByTagName('head') || [null])[0] ||
                            document.getElementsByTagName('script')[0].parentNode).appendChild(scr);

                            try {
                                __adroll.record_user({"adroll_segments": "6c08450f"})
                            } catch (err) {
                            }

                        };

                        if (window.addEventListener) {
                            window.addEventListener('load', _onload, false);
                        }
                        else {
                            window.attachEvent('onload', _onload)
                        }
                    }());
                } catch (err){

                }

                try {
                    if (document.cookie.indexOf("heysra") != -1) {

                        var cookieValue = getCookieValue("heysra");
                        if (cookieValue &&
                            ( cookieValue == "gadwhp" ||
                            cookieValue == "gadwlpkb" ||
                            cookieValue == "gadwlpts" )
                        ) {
                            loadFileUtil.loadFile(loadFileUtil.urlTypes.script, "https://www.googletagmanager.com/gtag/js?id=AW-819124231");
                            gtag('js', new Date());
                            gtag('config', 'AW-819124231');

                            if (cookieValue == "gadwhp")
                                gtag('event', 'conversion', {
                                    'send_to': 'AW-819124231/9t-aCNuJ6nsQh7DLhgM',
                                    'transaction_id': ''
                                });
                            else if (cookieValue == "gadwlpkb")
                                gtag('event', 'conversion', {
                                    'send_to': 'AW-819124231/QhvKCNiq7nsQh7DLhgM',
                                    'transaction_id': ''
                                });
                            else if (cookieValue == "gadwlpts")
                                gtag('event', 'conversion', {
                                    'send_to': 'AW-819124231/aR7UCJbC13sQh7DLhgM',
                                    'transaction_id': ''
                                });
                        }
                    }
                } catch (err){

                }

                try {
                    if (document.cookie.indexOf("heysra=cjLKsVT7Bw;") != -1 &&
                        document.cookie.indexOf("heyownerrpt") == -1) {

                        !function(f,b,e,v,n,t,s)
                        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
                            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
                            n.queue=[];t=b.createElement(e);t.async=!0;
                            t.src=v;s=b.getElementsByTagName(e)[0];
                            s.parentNode.insertBefore(t,s)}(window, document,'script',
                            'https://connect.facebook.net/en_US/fbevents.js');
                        fbq('init', '944256849006408');
                        fbq('track', 'free-installation', {aid:queryString.affIdId});

                        var heyownerrptExp = new Date();
                        heyownerrptExp.setMonth(heyownerrptExp.getMonth() + 36);
                        document.cookie = "heyownerrpt=" + queryString.affIdId + ";expires=" + heyownerrptExp
                            + ";domain=.heyoya.com;path=/";

                    }
                } catch (err){

                }

                try {
                    if (document.cookie.indexOf("heysra=C0N7DaJhYS;") != -1 &&
                        document.cookie.indexOf("heyownerrpt") == -1) {

                        var oImg=document.createElement("img");
                        oImg.setAttribute('src', "https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp=10048877&js=no&ea=freeinstall&url=https%3A%2F%2Fheyoya.com%2Ffreeinstall");
                        oImg.setAttribute('width', '1px');
                        oImg.setAttribute('height', '1px');
                        oImg.setAttribute('style', 'position: absolute;top: -30000px;');
                        appendObject = document.body;
                        appendObject.appendChild(oImg);

                        var heyownerrptExp = new Date();
                        heyownerrptExp.setMonth(heyownerrptExp.getMonth() + 36);
                        document.cookie = "heyownerrpt=" + queryString.affIdId + ";expires=" + heyownerrptExp
                            + ";domain=.heyoya.com;path=/";

                    }
                } catch (err){

                }

                try {
                    if (document.cookie.indexOf("heysra=IzbynlhVTo;") != -1 &&
                        document.cookie.indexOf("heyownerrpt") == -1) {

                        var oFrame=document.createElement("iframe");
                        oFrame.setAttribute('src', "https://jump.link-boost.com/GL2dP");
                        oFrame.setAttribute('width', '1px');
                        oFrame.setAttribute('height', '1px');
                        oFrame.setAttribute('scrolling', 'no');
                        oFrame.setAttribute('frameborder', '0');
                        document.body.appendChild(oFrame);
                        return;

                        var heyownerrptExp = new Date();
                        heyownerrptExp.setMonth(heyownerrptExp.getMonth() + 36);
                        document.cookie = "heyownerrpt=" + queryString.affIdId + ";expires=" + heyownerrptExp
                            + ";domain=.heyoya.com;path=/";

                    }
                } catch (err){

                }

            }, 5000);
        }

    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}

    function getCookieValue(name) {
        var value = "; " + document.cookie;
        var parts = value.split("; " + name + "=");
        if (parts.length == 2) return parts.pop().split(";").shift();
    }

    function setLoadingView(){
        if ($("body").hasClass("rendered"))
            return;

        setExtentedUI();
        presentationMode.setCommentsView(presentationMode.presentationModes.LOADING_RESULTS);
        sendNumberOfCommentsToHost();
    }

    function messagingInit(){
        messaging.init(messagingCallback,null,null, window.parent);
    }

    function messagingCallback(messageId,messageType, paramsArray){
        if (messageType == undefined || messageType == "" || !messaging.isValidMessageType(messageType) || paramsArray == undefined || paramsArray == "" || !(Object.prototype.toString.call( paramsArray ) === '[object Array]' ) || paramsArray.length == 0)
            return;

        switch (messageType){
            case messaging.messageTypes.sendEvent:
                sendEvent("Tracker",paramsArray[0], paramsArray[1]);
                break;
            case messaging.messageTypes.displayComments:
                params.scrollToCommentId =  paramsArray[1];
                if(params.scrollToCommentId && params.scrollToCommentId  != "-1"){ 
		    if(hasComment(paramsArray[0]))
                        renderUI(paramsArray[0], params.scrollToCommentId );
                    else
                        getPageCommentById(paramsArray[0], params.scrollToCommentId );
                }else
                    renderUI(paramsArray[0], null);

                var showEmoji = true;
                if($("body").hasClass("scaled")  && $("body").hasClass("firefox"))
                   showEmoji = false;

                if(statistics.getAffiliateId() != "ynet" && !params.isMobile && showEmoji)
                    loadEmojioneScript();
                break;

//          case messaging.messageTypes.passPageText:
//              params.pageText = paramsArray[0];
//              break;

            case messaging.messageTypes.getBasicInfo:
                var mcUserId = paramsArray[0] && paramsArray[0] != "-1"? paramsArray[0] : null;
                var mcGuestId = paramsArray[1] && paramsArray[1] != "-1"? paramsArray[1] : null;
                var mcUserString = paramsArray[5] && paramsArray[5] != "-1"? paramsArray[5] : null;

                requestWixPageUrl(paramsArray[3]);

                statistics.init(UUID, params.reportStatsBaseUrl, params.statsActionUrl, mcGuestId, paramsArray[2], paramsArray[3], paramsArray[4], mcUserId, mcUserString, !isNaN(paramsArray[6])?paramsArray[6]:-1, paramsArray[7]);
                loginService.setUserStation(statistics.getUserStation());
                MouseStats_Commands.push(["tag", "session_id", statistics.getGuestId() + "_" + statistics.getSessionId()]);
                sendEvent("Tracker", "applicationImpression", "Application Impression", undefined, true);

		        if (!(params.isMobile && !params.isTablet) && statistics.getAffiliateId() != "ynet"){
                    $("body").addClass("t-small-buttons");
                }

                if (paramsArray[3] && paramsArray[3].indexOf("heyoya.com/admin/affiliate/") != -1)
                    document.body.className += " body-admin";

                //if (params.isWix || statistics.getTestGroup() > 500)
                    $("body").addClass("show-share-icon");

                $("body").addClass("ade-draker");

                initLoginView(mcUserId, mcUserString);

                if (!adsService.wasInitialized()){
                    var queryString = querystringUtil.extract(window.location.href);
		            adsService.init($, userStorageUtil, JSONLib, null, paramsArray[4], (queryString && queryString.sads && !isNaN(queryString.sads) && queryString.sads == 1)?true:false, (queryString && queryString.sadscid && !isNaN(queryString.sadscid))?queryString.sadscid:null, statistics, errorService, loadFileUtil, languagesService, paramsArray[3], "#adEntryTemplate", "#jmgAdTemplate", ".block.review .review-post", params.internalUrl + params.udURL, statistics.getTestGroup(), params.isMobile, queryString.iwl ? true : false);
                }


                if (!params.refreshLanguageFileEveryPageview){
                    (function () {
                        if(document.getElementById('MouseStatsTrackingScript') == undefined) {
                            var mousestats_script = document.createElement('script');
                            mousestats_script.type = 'text/javascript';
                            mousestats_script.id = 'MouseStatsTrackingScript';
                            mousestats_script.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www2') + '.mousestats.com/js/4/8/4875573819028990092.js?' + Math.floor(new Date().getTime()/600000);
                            mousestats_script.async = true;
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(mousestats_script);
                        } })();
                }

                if (paramsArray.length >= 9 && paramsArray[8] == "1")
                    params.wixHivePending = true;

                break;

//            case messaging.messageTypes.externalResearchPostComment:
//                recorderPostComment();
//                break;
            case messaging.messageTypes.wixSetPageUrl:
                requestWixPageUrl(paramsArray[0]);
                statistics.setPageUrl(paramsArray[0]);
                break;

            case messaging.messageTypes.setHeadlineText:
                    if (paramsArray[0] != "-1") {
                        params.originalSubHeadlineText = paramsArray[0];
                        if (params.subAddCommentHeadlineText == null)
                            $(".add-container .headline-text").text(paramsArray[0]);
                        else {
                            params.subAddCommentHeadlineText = params.subAddCommentHeadlineText.replace(/{Page_Title}/g, params.originalSubHeadlineText);
                            $(".add-container .headline-text").text(params.subAddCommentHeadlineText);
                        }
                    }
//                    else
//                        $(".add-container .h2").addClass("invisible");
                break;

            case messaging.messageTypes.adminSetTitleTextColor:
                $("#headerText").css("color", paramsArray[0]);
		        $("#numberOfComments").css("color", paramsArray[0]);
                break;

            case messaging.messageTypes.adminWidgetWidth:
                messaging.postMessage(null,messaging.messageTypes.setWidth, paramsArray[0]);
                setScale(paramsArray[0]);
                sendNumberOfCommentsToHost();
                break;

            case messaging.messageTypes.adminSetMainColor:
                if (paramsArray[0] != "-1")
                    $("body").css("background", paramsArray[0]);
                else
                    $("body").css("background", "");
                break;

            case messaging.messageTypes.adminSetTitleBackgroundColor:
                $("#wrapper #mainHeader.heading")[0].style.backgroundColor =  paramsArray[0];
                break;

            case messaging.messageTypes.adminSetTitle:
                $("#headerText").text(paramsArray[0]);
                break;

            case messaging.messageTypes.adminShowHeadline:
                if (paramsArray[0] == "0")
                    $("body").addClass("no-headline");
                else
                    $("body").removeClass("no-headline");

                sendNumberOfCommentsToHost();
                break;

            case messaging.messageTypes.adminShowDemoData:
//                if (!params.isWix)
//                    return;

                if (paramsArray[0] == "0")
                    hideDemoData();
                else {
                    showDemoData();
                }

                break;

            case messaging.messageTypes.adminSetLanguage:
                if (paramsArray[0])
                    languagesService.loadNewLanguage(paramsArray[0]);
                break;

            case messaging.messageTypes.adminSetRecordingTime:
                 if (paramsArray[0])
                   params.recordingTime = paramsArray[0];
                 break;

            case messaging.messageTypes.adminSetLogo:
                renderAffiliateLogo(paramsArray[0]);
                break;


            case messaging.messageTypes.loginSuccess:
                if (isNaN(paramsArray[0]))
                    return;

                loginService.loginResponse(parseInt(paramsArray[0],10), paramsArray[1]);
                break;


            case messaging.messageTypes.setLanguage:
		if (!paramsArray[0] || paramsArray[0] == "en")
			setLoadingView();
                languagesService.init($, loadFileUtil, params.baseUrl, 13980, languagesCallback, paramsArray[0], params.refreshLanguageFileEveryPageview);

                initGuidance(paramsArray[0]);
                break;

            case messaging.messageTypes.windowResize:
                if (!paramsArray || (isNaN(paramsArray) && !(Object.prototype.toString.call( paramsArray ) === '[object Array]')))
                    return;

                if (paramsArray.length > 1) {
                    sendNumberOfCommentsToHost();
                    paramsArray = paramsArray[0];
                }

                if(params.isWix && parseInt(paramsArray[0]) > 1000) // max width for wix
                    paramsArray[0] = 1000;

                initScaleFontSize();
                setScale(paramsArray);

                if (!params.isIOS || !params.isTablet)
                    setExtentedUI(true);

                break;

            case messaging.messageTypes.ajaxPageChange:
                //$("#wrapper").addClass("invisible");



                break;

            case messaging.messageTypes.uiAlive:
                messaging.postMessage(null,messaging.messageTypes.uiAlive,"1");
                break;



            case messaging.messageTypes.sdkEnabled:
                params.isSDK = true;
                share.setIsSDK(true);
                break;

            case messaging.messageTypes.sdkRecorderStateChanged:
                onRecorderStateChange(parseInt(paramsArray, 10));
                break;

            case messaging.messageTypes.sdkRecorderEventChanged:
                onRecorderEventChange(parseInt(paramsArray[0], 10), paramsArray[1]);
                break;

            case messaging.messageTypes.sdkUpdateUserInfo:
                initLoginView(paramsArray[0], paramsArray[1]);

                statistics.setUserId(paramsArray[0]);
                statistics.setUserString(paramsArray[1]);
                break;

            case messaging.messageTypes.sdkLoginSuccess:
                if (loginService.getLoginCallbackFunction() != null){
                    if (paramsArray.length == 2)
                        loginService.getLoginCallbackFunction()(paramsArray[0], paramsArray[1]);
                    else if (paramsArray.length == 3)
                        loginService.getLoginCallbackFunction()(paramsArray[0], paramsArray[1], paramsArray[2]);
                    else if (paramsArray.length == 4)
                        loginService.getLoginCallbackFunction()(paramsArray[0], paramsArray[1], paramsArray[2], paramsArray[3]);
                }
                break;

            case messaging.messageTypes.IOSLinkResend:
                regenerateIOSLayers();
                break;


            case messaging.messageTypes.adminShowMainAddCommentHeadline:
                if (paramsArray == "0") {
                    $("#addCommentContainer h2 .default-headline").addClass("invisible");
                    params.shouldDisplayMainAddCommentHeadline = false;

                    if (!params.shouldDisplaySubAddCommentHeadline)
                        $("#addCommentContainer .how-to-video-link").addClass("single-element");

                } else {
                    $("#addCommentContainer h2 .default-headline").removeClass("invisible");
                    params.shouldDisplayMainAddCommentHeadline = true;
                    $("#addCommentContainer .how-to-video-link").removeClass("single-element");
                }

                sendNumberOfCommentsToHost();
                break;

            case messaging.messageTypes.adminShowReplyAddCommentHeadline:
                if (paramsArray == "0") {
                    $(".add-comment-reply-container h2 .reply-headline").addClass("invisible");
                    params.shouldDisplayReplyAddCommentHeadline = false;

                    if (!params.shouldDisplayReplySubAddCommentHeadline)
                        $(".add-comment-reply-container .how-to-video-link").addClass("single-element");
                } else {
                    $(".add-comment-reply-container h2 .reply-headline").removeClass("invisible");
                    params.shouldDisplayReplyAddCommentHeadline = true;
                    $(".add-comment-reply-container .how-to-video-link").removeClass("single-element");
                }

                sendNumberOfCommentsToHost();
                break;

            case messaging.messageTypes.adminSetMainAddCommentHeadlineText:
                if (paramsArray == "-1") {
                    $("#addCommentContainer h2 .default-headline").html( $("#additionalText span[lang_id='add_comment_headline']").html() );
                    params.mainAddCommentHeadlineText = null;
                } else {
                    $("#addCommentContainer h2 .default-headline").text(paramsArray);

                    if (paramsArray == $("#additionalText span[lang_id='add_comment_headline']").html())
                        params.mainAddCommentHeadlineText = null;
                    else
                        params.mainAddCommentHeadlineText = paramsArray;
                }
                break;

            case messaging.messageTypes.adminSetReplyAddCommentHeadlineText:
                var replyText;
                if (paramsArray[0] == "-1") {
                    params.replyAddCommentHeadlineText = null;
                    replyText = $("#additionalText span[lang_id='start_conversion_with']").text();
                } else {
                    params.replyAddCommentHeadlineText = paramsArray[0];
                    replyText = paramsArray[0];
                }

                $(".add-comment-reply-container").each(function(){
                    var replyContainer = $(this);
                    var commentId = $(replyContainer.find(".add-container")[0]).attr("parent_id");
                    replyContainer.find(".h2 .reply-headline").text(replyText.replace(/\{Commenter_Name\}/g, $(".review-post.comment[cid='" + commentId + "'] .text-wrap .name").attr("title")));
                });

                break;

            case messaging.messageTypes.adminSetSubAddCommentHeadlineText:
                var subHeadlineText;
                if (paramsArray[0] == "-1") {
                    params.subAddCommentHeadlineText = null;
                    subHeadlineText = params.originalSubHeadlineText;
                } else {
                    params.subAddCommentHeadlineText = paramsArray[0].replace(/{Page_Title}/g, (params.originalSubHeadlineText != null?params.originalSubHeadlineText:""));
                    subHeadlineText = params.subAddCommentHeadlineText;
                }

                $("#addCommentContainer .headline-text").text(subHeadlineText);
                break;

            case messaging.messageTypes.adminSetRecordingButtonsColor:
                if (paramsArray[0] == undefined || paramsArray[0] == null || paramsArray[0].indexOf("'") != -1 || paramsArray[0].indexOf("\"") != -1 || paramsArray[0].indexOf("javascript") != -1)
                    break;

                changeRecordingButtonsColor(paramsArray[0]);
                params.recordingButtonsColor = paramsArray[0];
                break;

            case messaging.messageTypes.adminSetCardsColor:
                if (paramsArray[0] == undefined || paramsArray[0] == null || paramsArray[0].indexOf("'") != -1 || paramsArray[0].indexOf("\"") != -1 || paramsArray[0].indexOf("javascript") != -1)
                    break;

                changeCardsColor(paramsArray[0]);
                params.cardsColor = paramsArray[0];
                break;

            case messaging.messageTypes.adminSetLinksColor:
                if (paramsArray[0] == undefined || paramsArray[0] == null || paramsArray[0].indexOf("'") != -1 || paramsArray[0].indexOf("\"") != -1 || paramsArray[0].indexOf("javascript") != -1)
                    break;

                changeLinksColor(paramsArray[0]);
                params.linksColor = paramsArray[0];
                break;

            case messaging.messageTypes.adminSetTextColor:
                if (paramsArray[0] == undefined || paramsArray[0] == null || paramsArray[0].indexOf("'") != -1 || paramsArray[0].indexOf("\"") != -1 || paramsArray[0].indexOf("javascript") != -1)
                    break;

                changeTextColor(paramsArray[0]);
                params.textColor = paramsArray[0];
                break;

            case messaging.messageTypes.adminSetButtonsColor:
                if (paramsArray[0] == undefined || paramsArray[0] == null || paramsArray[0].indexOf("'") != -1 || paramsArray[0].indexOf("\"") != -1 || paramsArray[0].indexOf("javascript") != -1)
                    break;

                changeButtonsColor(paramsArray[0]);
                params.buttonsColor = paramsArray[0];
                break;

            case messaging.messageTypes.adminSetFonts:
                if (paramsArray[0] == undefined || paramsArray[0] == null || paramsArray[0].indexOf("'") != -1 || paramsArray[0].indexOf("\"") != -1 || paramsArray[0].indexOf("javascript") != -1)
                    break;

                changeCustomFonts(paramsArray[0]);
                setTimeout(function(){
                   if($("body").hasClass("extended"))
                           setExtentedUI();
                }, 2000);

                break;

            case messaging.messageTypes.adminSetReplySubAddCommentHeadlineText:
                var replySubHeadlineText;
                if (paramsArray[0] == "-1") {
                    params.replySubAddCommentHeadlineText = null;
                    replySubHeadlineText = params.originalSubHeadlineText;
                } else {
                    params.replySubAddCommentHeadlineText = paramsArray[0].replace(/{Page_Title}/g, (params.originalSubHeadlineText != null?params.originalSubHeadlineText:""));
                    replySubHeadlineText = params.replySubAddCommentHeadlineText;
                }

                $(".add-comment-reply-container .headline-text").text(replySubHeadlineText);
                break;

            case messaging.messageTypes.adminShowSubAddCommentHeadline:
                if (paramsArray == "0") {
                    $("#addCommentContainer h2 .headline-text").addClass("invisible");
                    params.shouldDisplaySubAddCommentHeadline = false;

                    if (!params.shouldDisplayMainAddCommentHeadline)
                        $("#addCommentContainer .how-to-video-link").addClass("single-element");
                } else {
                    $("#addCommentContainer h2 .headline-text").removeClass("invisible");
                    params.shouldDisplaySubAddCommentHeadline = true;
                    $("#addCommentContainer .how-to-video-link").removeClass("single-element");
                }
                sendNumberOfCommentsToHost();
                break;

            case messaging.messageTypes.adminShowReplySubAddCommentHeadline:
                if (paramsArray == "0") {
                    $(".add-comment-reply-container h2 .headline-text").addClass("invisible");
                    params.shouldDisplayReplySubAddCommentHeadline = false;

                    if (!params.shouldDisplayReplyAddCommentHeadline)
                        $(".add-comment-reply-container .how-to-video-link").addClass("single-element");
                } else {
                    $(".add-comment-reply-container h2 .headline-text").removeClass("invisible");
                    params.shouldDisplayReplySubAddCommentHeadline = true;
                    $(".add-comment-reply-container .how-to-video-link").removeClass("single-element");
                }
                sendNumberOfCommentsToHost();
                break;

            case messaging.messageTypes.sendWixHiveResponseSuccess:
                sendSuccessWixHiveReport(paramsArray[0], paramsArray[1], paramsArray[2]);
                break;

            case messaging.messageTypes.sendWixHiveResponseErrors:
                sendFailureWixHiveReport(paramsArray[0], paramsArray[1]);
                break;

            case messaging.messageTypes.newCommentFromRecordingUI:
                var dataObj = null;
                if (paramsArray){
                    try {
                        dataObj = $.parseJSON(paramsArray);
                    }
                    catch (err) {
                        dataObj = null;
                    }
                }

                if (dataObj != null)
                    addComment(dataObj);

                break;

            case messaging.messageTypes.updateNewCommentFromRecordingUI:
                var dataObj = null;
                if (paramsArray){
                    try {
                        dataObj = $.parseJSON(paramsArray);
                    }
                    catch (err) {
                        dataObj = null;
                    }
                }

                if (dataObj != null && dataObj.length == 2)
                    updateNewComment(dataObj[0], dataObj[1]);

                break;

            case messaging.messageTypes.removeNewCommentFromRecordingUI:
                var dataObj = null;
                if (paramsArray){
                    try {
                        dataObj = $.parseJSON(paramsArray);
                    }
                    catch (err) {
                        dataObj = null;
                    }
                }

                if (dataObj != null)
                    removeNewComment(dataObj);

                break;

            case messaging.messageTypes.wixPublishStore:
                if (paramsArray){
                    var formData = {};
                    formData["instance"] = paramsArray[1];
                    formData["compId"] = paramsArray[0];
                    $.ajax({
                        type: "POST",
                        url: params.internalUrl + params.wixPublishStoreUrl,
                        data: formData
                    });
                }
                break;
        }

        //messaging.postMessage(null,messaging.messageTypes.sug, [1234,'avi_guest_userid'],undefined,messaging.messageDestinations.data);

    }

    function hasComment(commentsData){
        if (Object.prototype.toString.call( commentsData ) === "[object Object]"){
                commentsResponse = commentsData;
            } else {
                try {
                    commentsResponse = $.parseJSON(commentsData);
                }
                catch (err) {
                    commentsResponse = null;
                }
        }

        var hasFound = false;

        if (commentsResponse && commentsResponse.page != null)
              params.page = commentsResponse.page;

        if(commentsResponse && commentsResponse.comments){
            for(var commentsIterator = 0; commentsIterator < commentsResponse.comments.length; commentsIterator++){
                 if(commentsResponse.comments[commentsIterator].commentId == params.scrollToCommentId){
                    hasFound = true;
                    break;
                 }
            }
        }
        return hasFound;
    }

    function getPageCommentById(commentsData, scrollCommentId){
        if(scrollCommentId < 0 || !params.page )
             renderUI(commentsData, scrollCommentId);

        $.ajax({
            url: params.reportStatsBaseUrl + "getCommentById.action",
            dataType: "jsonp",
            cache: true,
            data: {
                pageId: params.page.id,
                pageUrl: params.page.url,
                affiliateId: statistics.getAffiliateId(),
                commentId: scrollCommentId,
            },
            success: function( result ) {
               getCommentByIdCb(commentsData, result);
            }
        });
    }

    function getCommentByIdCb(commentsData, result){
        try {
            commentsResponse = $.parseJSON(commentsData);
        }
        catch (err) {
            commentsResponse = null;
        }
        if(commentsResponse)
            if(result != null && result.comments != null){
                for(i = 0; i < result.comments.length ; i++)
                    commentsResponse.comments.unshift(result.comments[i]);
            }


        renderUI(commentsResponse, null);
    }

    var requestWixPageUrlTimeout = null;
    function requestWixPageUrl(pageURL) {
        if (requestWixPageUrlTimeout != null) {
            clearTimeout(requestWixPageUrlTimeout)
            requestWixPageUrlTimeout = null;
        }

        if (!params.isWix)
            return;

        if (!pageURL || pageURL == undefined || pageURL == null || pageURL == "null") {
            messaging.postMessage(null, messaging.messageTypes.wixSetPageUrl, "1");

            requestWixPageUrlTimeout = setTimeout(function () {
                requestWixPageUrl(statistics.getPageUrl());
            }, 15000);
        }
    }

    function isPlaceholderSupported(){
        var isOperaMini = Object.prototype.toString.call(window.operamini) == '[object OperaMini]';
        var isInputSupported = 'placeholder' in document.createElement('input') && !isOperaMini;
        var isTextareaSupported = 'placeholder' in document.createElement('textarea') && !isOperaMini && ( navigator.userAgent.toLowerCase().indexOf("safari") == -1 || navigator.userAgent.toLowerCase().indexOf("chrome") != -1 );

        return isInputSupported && isTextareaSupported;
    }

    function setPlaceholder(selector){
        //$("input, textarea")
        if (!selector)
            selector = "";

        var isOperaMini = Object.prototype.toString.call(window.operamini) == '[object OperaMini]';
        var isInputSupported = 'placeholder' in document.createElement('input') && !isOperaMini;
        var isTextareaSupported = 'placeholder' in document.createElement('textarea') && !isOperaMini && ( navigator.userAgent.toLowerCase().indexOf("safari") == -1 || navigator.userAgent.toLowerCase().indexOf("chrome") != -1 );

        if (isInputSupported && isTextareaSupported)
            return;


        var findString = "";
        if (!isInputSupported)
            findString = selector + " input[placeholder]";

        if (!isTextareaSupported){
            if (!isInputSupported)
                findString += ",";

            findString += selector + " textarea[placeholder]";
        }

        $(findString).focus(function() {
            var input = $(this);
            if (input.val() == input.attr('placeholder') || (input.attr('placeholder-invalid') && input.val() == input.attr('placeholder-invalid')) || input.val() == input.attr('placeholder-missing') || input.val() == input.attr('placeholder-default')) {
                input.val('');
                input.removeClass('placeholder');
            }
        }).blur(function() {
                    var input = $(this);
                    if (input.val() == '' || input.val() == input.attr('placeholder') || (input.attr('placeholder-invalid') && input.val() == input.attr('placeholder-invalid')) || input.val() == input.attr('placeholder-missing') || input.val() == input.attr('placeholder-default')) {
                        input.addClass('placeholder');
                        input.val(input.attr('placeholder'));
                    }
        }).blur();
    }

    function showOnlyAddCommentHideElements(){
        $("#wrapper .reviews-block .heading").css("display", "none");
        $("#wrapper .reviews-block .types-list").css("display", "none");
        $("#wrapper .reviews-block .no-comments").css("display", "none");
        $("#wrapper .powered-by").css("display", "none");
        $("#commentsLoadMoreContainer").css("display", "none");

        $("#wrapper").css("background-color", "#eeeeee");
        $("#wrapper .reviews-block > .holder").css("padding", "0");

        var queryString = querystringUtil.extract(window.location.href);
        if (queryString.ahdfaun){
	    $("#addCommentContainer .h2 .reply-headline").text(addContainer.find(".h2 .reply-headline").attr("placeholder").replace(/\{Commenter_Name\}/g, queryString.ahdfaun));
            $("#addCommentContainer .h2 .default-headline").addClass("invisible");
            $("#addCommentContainer .h2 .reply-headline").removeClass("invisible");
        }

        setAddCommentEvents();


//        messaging.postMessage(null,messaging.messageTypes.readyUI,"1");
//        sendNumberOfCommentsToHost();
    }

    function _internalAttachEvent(element, eventName, callbackFunction) {
        if (element.addEventListener)
            element.addEventListener(eventName, callbackFunction, false);
        else
            element.attachEvent("on" + eventName, function() {
                return(callbackFunction.call(element, window.event));
            });
    }

    function generateIOSRecordURL(parentId){
//        recordCommentIOSURL: "heyoyaapp://recordComment?pageUrl=#PAGE_URL#&pageTitle=#PAGE_TITLE#&productName=#PRODUCT_NAME#&language=#LANGUAGE#&sessionId=#SESSION_ID#&affiliateId=#AFFILIATE_ID#&t=#TICKS#&parentId=#PARENT_ID#&pageId=#PAGE_ID#&userId=#USER_ID#&userEmail=#USER_EMAIL#&userFullName=#USER_FULL_NAME#&userPhotoUrl=#USER_PHOTO_URL#&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#&displayOnlyName=#DISPLAY_ONLY_NAME#",//

        if (params.recordCommentIOSURL == undefined || params.recordCommentIOSURL == null || params.recordCommentIOSURL == "" || params.recordCommentIOS9AndAboveURL == undefined || params.recordCommentIOS9AndAboveURL == null || params.recordCommentIOS9AndAboveURL == "")
            return null;

        var resultURL = params.recordCommentIOSURL;

        if (!(/CPU OS 7_|CPU OS 6_|CPU OS 8_|CPU OS 9_1|CPU OS 9_0|CPU OS 7_|CPU OS 6_|CPU OS 8_|CPU OS 9_1|CPU OS 9_0|CPU iPhone OS 7_|CPU iPhone OS 6_|CPU iPhone OS 8_|CPU iPhone OS 9_1|CPU iPhone OS 9_0/.test(navigator.userAgent) ) ){
            resultURL = params.recordCommentIOS9AndAboveURL;
}

//alert("result URL = " + resultURL);

        var userString = statistics.getUserString();
        var userObject = null;
        if(userString){
            try{
                userObject = $.parseJSON(userString);
            } catch (err){
                userObject = null;
            }
        }

        var sessionId = statistics.getSessionId();
        if (params.addComment.container != null && params.addComment.container.attr("display_after_comment") != undefined)
            sessionId += "--seperator--" + params.addComment.container.attr("display_after_comment");
        else
            sessionId += "--seperator--0";

        if (statistics.getUserStation())
            sessionId += "--seperator--" + statistics.getUserStation();
        else
            sessionId += "--seperator--0";

        if (params.addComment.container != null && params.addComment.container.attr("replied_on_full_name") != undefined)
            sessionId += "--seperator--" + encodeURIComponent(params.addComment.container.attr("replied_on_full_name"));


        var currentTime = new Date();
        try{
            resultURL =    resultURL.replace("#PAGE_URL#", encodeURIComponent(params.parentPageUrl))
                                .replace("#PAGE_TITLE#", encodeURIComponent(params.subAddCommentHeadlineText != null?params.subAddCommentHeadlineText:params.originalSubHeadlineText))
                                .replace("#PRODUCT_NAME#", encodeURIComponent($("#addCommentContainer .headline-text").text()))
                                .replace("#LANGUAGE#", params.pageLanguage)
                                .replace("#SESSION_ID#", sessionId)
                                .replace("#AFFILIATE_ID#", statistics.getAffiliateId() + "--seperator--" + (params.storeId != ""?params.storeId: "0"))
                                .replace("#TICKS#", currentTime.getTime())
				.replace("#PARENT_ID#", parentId? parentId : (params.addComment.container != null && (params.addComment.container.attr("parent_id") != undefined && !isNaN(params.addComment.container.attr("parent_id")))?params.addComment.container.attr("parent_id"): "0") )
				.replace("#PAGE_ID#", ((params.page != null && params.page.id != null)? params.page.id : "0"))
				.replace("#ADD_HEYOYA_PARAMETERS_TO_RETURN_BUTTON#", (params.isWix? "0" : "1"))
				.replace("#SHARE_HEYOYA_COMMENT_PAGE_URL#", (params.isWix? "0" : "1"));

            if ( undefined != typeof whitelabelUseLoginOnly && typeof whitelabelUseLoginOnly == "function" && whitelabelUseLoginOnly() ){
                resultURL =    resultURL.replace("&userId=#USER_ID#","")
                                        .replace("#USER_EMAIL#", ( undefined != typeof getWhitelabelEmail && typeof getWhitelabelEmail == "function" && getWhitelabelEmail() ))
                                        .replace("&userFullName=#USER_FULL_NAME#", "")
                                        .replace("&userPhotoUrl=#USER_PHOTO_URL#", "")
                                        .replace("&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#", "")
                                        .replace("#DISPLAY_ONLY_NAME#", "1");
            } else {
                resultURL =    resultURL.replace((statistics.getUserId()? "#USER_ID#" : "&userId=#USER_ID#"), (statistics.getUserId()?  statistics.getUserId(): ""))
                                        .replace((userObject && userObject.email? "#USER_EMAIL#" : "&userEmail=#USER_EMAIL#"), (userObject && userObject.email?  encodeURIComponent(userObject.email): ""))
                                        .replace((userObject && userObject.fullName? "#USER_FULL_NAME#" : "&userFullName=#USER_FULL_NAME#"), (userObject && userObject.fullName?  encodeURIComponent(userObject.fullName): ""))
                                        .replace((userObject && userObject.photoUrl? "#USER_PHOTO_URL#" : "&userPhotoUrl=#USER_PHOTO_URL#"), (userObject && userObject.photoUrl?  encodeURIComponent(userObject.photoUrl): ""))
                                        .replace((userObject && userObject.authToken? "#USER_AUTHORIZATION_TOKEN#" : "&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#"), (userObject && userObject.authToken?  userObject.authToken: ""))
                                        .replace("#DISPLAY_ONLY_NAME#", "0");
            }
            var queryString = querystringUtil.extract(window.location.href);

            if(queryString.rt)
                resultURL = resultURL.replace("#RECORDING_MAX_SECONDS#", queryString.rt/1000);
            else
                resultURL = resultURL.replace("#RECORDING_MAX_SECONDS#", "30");

        } catch (err){
            //alert("error - " + err);
            resultURL = null;
        }
        return resultURL;
    }

    function generateAndroidRecordURL(){
        if (
                params.recordCommentAndroidURL == undefined || params.recordCommentAndroidURL == null || params.recordCommentAndroidURL == "" ||
                params.recordCommentAndroidUCURL == undefined || params.recordCommentAndroidUCURL == null || params.recordCommentAndroidUCURL == ""
        )
            return null;

        var resultURL = params.recordCommentAndroidURL;
        if (params.isUC)
            resultURL = params.recordCommentAndroidUCURL;

        var userString = statistics.getUserString();
        var userObject = null;
        if(userString){
            try{
                userObject = $.parseJSON(userString);
            } catch (err){
                userObject = null;
            }
        }

        var sessionId = statistics.getSessionId();
        if (params.addComment.container != null && params.addComment.container.attr("display_after_comment") != undefined)
            sessionId += "--seperator--" + params.addComment.container.attr("display_after_comment");
        else
            sessionId += "--seperator--0";

        if (params.isWix)
            sessionId += "_hEySepBP_" + params.parentPageUrl.split("_hEySepBP_")[1];

        if (statistics.getUserStation())
            sessionId += "--seperator--" + statistics.getUserStation();
        else
            sessionId += "--seperator--0";

        if (params.addComment.container != null && params.addComment.container.attr("replied_on_full_name") != undefined)
            sessionId += "--seperator--" + encodeURIComponent(params.addComment.container.attr("replied_on_full_name"));

        var currentTime = new Date();
        try{
            resultURL =    resultURL.replace("#PAGE_URL#", encodeURIComponent(params.parentPageUrl.split("_hEySepBP_")[0]))
                    .replace("#PAGE_TITLE#", encodeURIComponent(params.subAddCommentHeadlineText != null?params.subAddCommentHeadlineText:params.originalSubHeadlineText))
                    .replace("#PRODUCT_NAME#", encodeURIComponent($("#addCommentContainer .headline-text").text()))
                    .replace("#LANGUAGE#", params.pageLanguage)
                    .replace("#SESSION_ID#", sessionId)
                    .replace("#AFFILIATE_ID#", statistics.getAffiliateId() + "--seperator--" + (params.storeId != ""?params.storeId: "0"))
                    .replace("#TICKS#", currentTime.getTime())
                    .replace("#PARENT_ID#", (params.addComment.container != null && (params.addComment.container.attr("parent_id") != undefined && !isNaN(params.addComment.container.attr("parent_id")))?params.addComment.container.attr("parent_id"): "0") )
		            .replace("#PAGE_ID#", ((params.page != null && params.page.id != null)? params.page.id : "0"))
                    .replace("#ADD_HEYOYA_PARAMETERS_TO_RETURN_BUTTON#", (params.isWix? "0" : "1"))
                    .replace("#SHARE_HEYOYA_COMMENT_PAGE_URL#", (params.isWix? "0" : "1"))
                    .replace("#LOGIN_WITH_LINKEDIN_SDK#", (params.isWix? "1" : "0"));

            if ( undefined != typeof whitelabelUseLoginOnly && typeof whitelabelUseLoginOnly == "function" && whitelabelUseLoginOnly() ){
                resultURL =    resultURL.replace("&userId=#USER_ID#","")
                        .replace("#USER_EMAIL#", ( undefined != typeof getWhitelabelEmail && typeof getWhitelabelEmail == "function" && getWhitelabelEmail() ))
                        .replace("&userFullName=#USER_FULL_NAME#", "")
                        .replace("&userPhotoUrl=#USER_PHOTO_URL#", "")
                        .replace("&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#", "")
                        .replace("#DISPLAY_ONLY_NAME#", "1");
            } else {
                resultURL =    resultURL.replace((statistics.getUserId()? "#USER_ID#" : "&userId=#USER_ID#"), (statistics.getUserId()?  statistics.getUserId(): ""))
                        .replace((userObject && userObject.email? "#USER_EMAIL#" : "&userEmail=#USER_EMAIL#"), (userObject && userObject.email?  encodeURIComponent(userObject.email): ""))
                        .replace((userObject && userObject.fullName? "#USER_FULL_NAME#" : "&userFullName=#USER_FULL_NAME#"), (userObject && userObject.fullName?  encodeURIComponent(userObject.fullName): ""))
                        .replace((userObject && userObject.photoUrl? "#USER_PHOTO_URL#" : "&userPhotoUrl=#USER_PHOTO_URL#"), (userObject && userObject.photoUrl?  encodeURIComponent(userObject.photoUrl): ""))
                        .replace((userObject && userObject.authToken? "#USER_AUTHORIZATION_TOKEN#" : "&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#"), (userObject && userObject.authToken?  userObject.authToken: ""))
                        .replace("#DISPLAY_ONLY_NAME#", "0");
            }


//                    .replace((statistics.getUserId()? "#USER_ID#" : "&userId=#USER_ID#"), (statistics.getUserId()?  statistics.getUserId(): ""))
//                    .replace((userObject && userObject.email? "#USER_EMAIL#" : "&userEmail=#USER_EMAIL#"), (userObject && userObject.email?  encodeURIComponent(userObject.email): ""))
//                    .replace((userObject && userObject.fullName? "#USER_FULL_NAME#" : "&userFullName=#USER_FULL_NAME#"), (userObject && userObject.fullName?  encodeURIComponent(userObject.fullName): ""))
//                    .replace((userObject && userObject.photoUrl? "#USER_PHOTO_URL#" : "&userPhotoUrl=#USER_PHOTO_URL#"), (userObject && userObject.photoUrl?  encodeURIComponent(userObject.photoUrl): ""))
//                    .replace((userObject && userObject.authToken? "#USER_AUTHORIZATION_TOKEN#" : "&userAuthorizationToken=#USER_AUTHORIZATION_TOKEN#"), (userObject && userObject.authToken?  userObject.authToken: ""))
//                    .replace("#DISPLAY_ONLY_NAME#", (( undefined != typeof whitelabelUseLoginOnly && typeof whitelabelUseLoginOnly == "function" && whitelabelUseLoginOnly() )? "1" : "0"));
 
            var queryString = querystringUtil.extract(window.location.href);

            if(queryString.rt)
                resultURL = resultURL.replace("#RECORDING_MAX_SECONDS#", queryString.rt/1000);
            else
                resultURL = resultURL.replace("#RECORDING_MAX_SECONDS#", "30");

    
    } catch (err){
            //alert("error - " + err);
            resultURL = null;
        }
        return resultURL;
    }
    

    _internalAttachEvent(window, "error", errorService.reportOnError);
//    window.onerror = errorService.reportOnError;


    bodyOnLoad();

    $(document).ready(function(){
    //Taken from http://codepen.io/Tombek/pen/JAvHC/
    var dropdowns = $(".dropdown");

    // Onclick on a dropdown, toggle visibility
    dropdowns.find("dt").click(function(){
        dropdowns.find("dd ul").hide();
        $(this).next().children().toggle();
    });

    // Clic handler for dropdown
    dropdowns.find("dd ul li a").click(function(){
        var leSpan = $(this).parents(".dropdown").find("dt a span:first");

        // Remove selected class
        $(this).parents(".dropdown").find('dd a').each(function(){
            $(this).removeClass('selected');
        });

        // Update selected value
        leSpan.html($(this).html());

        // If back to default, remove selected class else addclass on right element
        if($(this).hasClass('default')){
            leSpan.removeClass('selected')
        }
        else{
            leSpan.addClass('selected');
            $(this).addClass('selected');

            $(this).parents(".dropdown").removeClass("invalid");
        }

        // Close dropdown
        $(this).parents("ul").hide();
    });

    // Close all dropdown onclick on another element
    $(document).on('click', function(e){
        if (! $(e.target).parents().hasClass("dropdown")) $(".dropdown dd ul").hide();
    });

});

    function loadMouseStats(){
//        if (heyoyaMouseStatsQueryStringObj && heyoyaMouseStatsQueryStringObj.affIdId && heyoyaMouseStatsQueryStringObj.affIdId == "ampm"  ){
//        if (!params.refreshLanguageFileEveryPageview)     {
//            $('html').on("mouseover", function(){
//                $('html').off("mouseover");
//                try { MouseStatsVisitorPlaybacks.Resume(); } catch(e) { MouseStats_PausedPlaybacks = false; }; //Start Playback Recording
//            });
//        }
//        }
    }

    function openRecorderPopup(parentId, repliedOnFullName, displayAfterComment, msgText){
        var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;
        var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;

        width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;

        var left = ((width / 2)) + dualScreenLeft;
        var top = ((window.outerHeight / 2) - 150) + dualScreenTop;

        var windowUrl = params.baseUrl.replace("http://", "https://") + "b2b_recording_ui.hey?v=13992&secure=1&dl=" + languagesService.getCurrentLanguage() + "&tg=" + statistics.getTestGroup() + "&si=" + statistics.getSessionId() + "&gi=" + statistics.getGuestId();
        var queryString = querystringUtil.extract(window.location.href);

        if (queryString.affIdId)
            windowUrl += "&affIdId=" + queryString.affIdId;

        if (parentId)
            windowUrl += "&parentid=" + parentId;

        if (repliedOnFullName)
            windowUrl += "&repliedOnFullName=" + encodeURIComponent(repliedOnFullName);

        if (displayAfterComment)
            windowUrl += "&displayAfterComment=" + displayAfterComment;

        if (params.pageLanguage)
            windowUrl += "&pl=" + params.pageLanguage;

        if (params.page && params.page.id)
            windowUrl += "&pi=" + params.page.id;

        if (params.parentPageTitle || params.originalSubHeadlineText)
            windowUrl += "&pt=" + encodeURIComponent(params.parentPageTitle != null?params.parentPageTitle:params.originalSubHeadlineText);

        if (params.parentPageUrl)
            windowUrl += "&pu=" + encodeURIComponent(params.parentPageUrl);

        if (params.subAddCommentHeadlineText || params.originalSubHeadlineText)
            if (!parentId)
                windowUrl += "&pn=" + encodeURIComponent(params.subAddCommentHeadlineText != null?params.subAddCommentHeadlineText:params.originalSubHeadlineText);
            else
                windowUrl += "&pn=" + encodeURIComponent(params.replySubAddCommentHeadlineText != null?params.replySubAddCommentHeadlineText:params.originalSubHeadlineText);

        if (msgText)
            windowUrl += "&mt=" + encodeURIComponent(msgText);


        if (!parentId && params.shouldDisplayMainAddCommentHeadline && params.mainAddCommentHeadlineText != null)
            windowUrl += "&macht=" + encodeURIComponent(params.mainAddCommentHeadlineText);
        else if (parentId && params.shouldDisplayReplyAddCommentHeadline && params.replyAddCommentHeadlineText != null)
            windowUrl += "&macht=" + encodeURIComponent(params.replyAddCommentHeadlineText.replace(/\{Commenter_Name\}/g, repliedOnFullName));


        if (!parentId) {
            if (params.shouldDisplayMainAddCommentHeadline)
                windowUrl += "&smachl=1";
            else
                windowUrl += "&smachl=0";

            if (params.shouldDisplaySubAddCommentHeadline)
                windowUrl += "&ssacht=1";
            else
                windowUrl += "&ssacht=0";

        } else {
            if (params.shouldDisplayReplyAddCommentHeadline)
                windowUrl += "&smachl=1";
            else
                windowUrl += "&smachl=0";

            if (params.shouldDisplayReplySubAddCommentHeadline)
                windowUrl += "&ssacht=1";
            else
                windowUrl += "&ssacht=0";
        }


        if(params.recordingTime)
            windowUrl += "&rt="+ params.recordingTime;
       
        if (params.recordingButtonsColor != null)
            windowUrl += "&recordingIconsColor=" + encodeURIComponent(params.recordingButtonsColor);

        if (params.customFonts != null)
            windowUrl += "&customFonts=" + encodeURIComponent(params.customFonts);

        if (params.linksColor)
            windowUrl += "&linksColor=" + encodeURIComponent(params.linksColor);

        if (params.cardsColor)
            windowUrl += "&cardsColor=" + encodeURIComponent(params.cardsColor);

        if (params.textColor)
            windowUrl += "&textColor=" + encodeURIComponent(params.textColor);

        if (params.buttonsColor)
            windowUrl += "&buttonsColor=" + encodeURIComponent(params.buttonsColor);

        if (params.isWix)
            windowUrl += "&iw=1";

        if (statistics.getUserStation())
            windowUrl += "&us=" + statistics.getUserStation();

        if (params.storeId)
            windowUrl += "&asi=" + params.storeId;



// t=" + new Date().getTime()
//        window.open("http://commerce-static.heyoya.com:8085/b2b/b2b_recording_ui.hey?v=13402&affIdId=avi&secure=1&parentid=45267&pl=en&dl=il&si=session_id&gi=guest_id&pi=52633&pt=Where%20Should%20You%20Purchase%20Your%20Next%20Pre-Owned%20Car%3Ftitle&pn=Where%20Should%20You%20Purchase%20Your%20Next%20Pre-Owned%20Car%3F&pu=http%3A%2F%2Fwww.bukisa.com%2Farticles%2F769919_where-should-you-purchase-your-next-pre-owned-car%3Ftest%3Dtest", "", "noopener, top=2088,left=0,width=650,height=280");
//        var newWindow = window.open(windowUrl, "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=500,left=500,width=400,height=400",'noopener');

        var windowLocation = {
            left:  (window.screen.availLeft + (window.screen.availWidth / 2)) - (599 / 2),
            top: (window.screen.availTop + (window.screen.availHeight / 2)) - (264 / 2)
        };

        var recordingWindowWidth = 616;
        var recordingWindowHeight = 300;

        var resizeSuccess = false;
        if (!params.isAndroid && params.recordingWindow != null){
            try {
                params.recordingWindow.resizeTo(recordingWindowWidth, recordingWindowHeight);

                params.recordingWindowChangingURL = true;
                params.recordingWindow.location.href = windowUrl;
                resizeSuccess = true;
            } catch (err){
                resizeSuccess = false;
            }
        }

        recordingWindowWidth = 599;
        recordingWindowHeight = 264;

        if (!resizeSuccess)
            params.recordingWindow = window.open(windowUrl, "_blank", "noopener", "noreferrer");//'location=no,status=no,scrollbars=no,top=' + windowLocation.top + ',left=' + windowLocation.left + (!params.isAndroid?',width=' + recordingWindowWidth + ',height=' + recordingWindowHeight:''));
	    if (params.recordingWindow != null)
		   params.recordingWindow.opener = null;


        if (params.recordingWindow)
            params.recordingWindow.focus();

	return false;

    }

    function popupUnload(){
        if (params.recordingWindowChangingURL){
            params.recordingWindowChangingURL = false;
            return;
        }

        params.recordingWindow = null;
    }

    var flashProgressReport = [];
    function reportFromFlash(textToReport){
        if (!textToReport)
            return;

        flashProgressReport.push("flash-" + textToReport.replace("for debug - ",""));
        //setTimeout(function(){statistics.report()}, 0);
    }
    </script>








<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" style="border: medium none;" src="http://staticxx.facebook.com/connect/xd_arbiter/r/bSTT5dUx9MY.js?version=42#channel=f2b57e51e4710a6&amp;origin=http%3A%2F%2Fcommerce-static.heyoya.com" frameborder="0"></iframe><iframe name="fb_xdm_frame_https" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" style="border: medium none;" src="b2b_ui_data/bSTT5dUx9MY_002.html" frameborder="0"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div><script id="MouseStats-fullplaybackv5public" src="b2b_ui_data/fullplayback.js" async="" type="text/javascript"></script></body></html>